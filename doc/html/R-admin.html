<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<!-- Created by GNU Texinfo 6.7, http://www.gnu.org/software/texinfo/ -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<title>R Installation and Administration - with modifications for pqR</title>

<meta name="description" content="R Installation and Administration - with modifications for pqR">
<meta name="keywords" content="R Installation and Administration - with modifications for pqR">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="makeinfo">
<link href="#Top" rel="start" title="Top">
<link href="#Function-and-variable-index" rel="index" title="Function and variable index">
<link href="#SEC_Contents" rel="contents" title="Table of Contents">
<link href="dir.html#Top" rel="up" title="(dir)">
<style type="text/css">
<!--
a.summary-letter {text-decoration: none}
blockquote.indentedblock {margin-right: 0em}
div.display {margin-left: 3.2em}
div.example {margin-left: 3.2em}
div.lisp {margin-left: 3.2em}
kbd {font-style: oblique}
pre.display {font-family: inherit}
pre.format {font-family: inherit}
pre.menu-comment {font-family: serif}
pre.menu-preformatted {font-family: serif}
span.nolinebreak {white-space: nowrap}
span.roman {font-family: initial; font-weight: normal}
span.sansserif {font-family: sans-serif; font-weight: normal}
ul.no-bullet {list-style: none}
body {margin-left: 5%; margin-right: 5%;}

H1 {             
    background: white;
    color: rgb(25%, 25%, 25%);
    font-family: monospace;
    font-size: xx-large;
    text-align: center
}

H2 {
    background: white;
    color: rgb(40%, 40%, 40%);
    font-family: monospace;
    font-size: x-large;
    text-align: center
}

H3 {
    background: white;
    color: rgb(40%, 40%, 40%);
    font-family: monospace;
    font-size: large
}

H4 {
    background: white;
    color: rgb(40%, 40%, 40%);
    font-family: monospace
}

span.samp{font-family: monospace}
span.command{font-family: monospace}
span.option{font-family: monospace}
span.file{font-family: monospace}
span.env{font-family: monospace}

ul {
    margin-top: 0.25ex;
    margin-bottom: 0.25ex;
}
li {
    margin-top: 0.25ex;
    margin-bottom: 0.25ex;
}
p {
    margin-top: 0.6ex;
    margin-bottom: 1.2ex;
}

-->
</style>


</head>

<body lang="en">
<h1 class="settitle" align="center">R Installation and Administration - with modifications for pqR</h1>




















<span id="SEC_Contents"></span>
<h2 class="contents-heading">Table of Contents</h2>

<div class="contents">

<ul class="no-bullet">
  <li><a id="toc-Obtaining-pqR-and-R-1" href="#Obtaining-pqR-and-R">1 Obtaining pqR and R</a>
  <ul class="no-bullet">
    <li><a id="toc-Getting-and-unpacking-the-sources-1" href="#Getting-and-unpacking-the-sources">1.1 Getting and unpacking the sources</a></li>
    <li><a id="toc-Getting-patched-and-development-versions-1" href="#Getting-patched-and-development-versions">1.2 Getting patched and development versions</a>
    <ul class="no-bullet">
      <li><a id="toc-Using-Subversion-and-rsync-1" href="#Using-Subversion-and-rsync">1.2.1 Using Subversion and rsync</a></li>
    </ul></li>
  </ul></li>
  <li><a id="toc-Installing-R-under-Unix_002dalikes-1" href="#Installing-R-under-Unix_002dalikes">2 Installing R under Unix-alikes</a>
  <ul class="no-bullet">
    <li><a id="toc-Simple-compilation-1" href="#Simple-compilation">2.1 Simple compilation</a></li>
    <li><a id="toc-Help-options-1" href="#Help-options">2.2 Help options</a></li>
    <li><a id="toc-Making-the-manuals-1" href="#Making-the-manuals">2.3 Making the manuals</a></li>
    <li><a id="toc-Installation-1" href="#Installation">2.4 Installation</a></li>
    <li><a id="toc-Uninstallation-1" href="#Uninstallation">2.5 Uninstallation</a></li>
    <li><a id="toc-Sub_002darchitectures-1" href="#Sub_002darchitectures">2.6 Sub-architectures</a>
    <ul class="no-bullet">
      <li><a id="toc-Multilib-1" href="#Multilib">2.6.1 Multilib</a></li>
    </ul></li>
    <li><a id="toc-Other-Options-1" href="#Other-Options">2.7 Other Options</a></li>
    <li><a id="toc-Stack-growth-direction-1" href="#Stack-growth-direction">2.8 Stack growth direction</a></li>
    <li><a id="toc-Testing-a-Unik_002dalike-Installation" href="#Testing-a-Unix_002dalike-Installation">2.9 Testing a Unik-alike Installation</a></li>
  </ul></li>
  <li><a id="toc-Installing-R-under-Windows-1" href="#Installing-R-under-Windows">3 Installing R under Windows</a>
  <ul class="no-bullet">
    <li><a id="toc-Building-from-source-1" href="#Building-from-source">3.1 Building from source</a>
    <ul class="no-bullet">
      <li><a id="toc-Getting-the-tools-1" href="#Getting-the-tools">3.1.1 Getting the tools</a></li>
      <li><a id="toc-Getting-the-source-files-1" href="#Getting-the-source-files">3.1.2 Getting the source files</a></li>
      <li><a id="toc-Building-the-core-files-1" href="#Building-the-core-files">3.1.3 Building the core files</a></li>
      <li><a id="toc-Building-the-bitmap-files-1" href="#Building-the-bitmap-files">3.1.4 Building the bitmap files</a></li>
      <li><a id="toc-Building-the-cairo-devices" href="#Building-the-cairo-devices-files">3.1.5 Building the cairo devices</a></li>
      <li><a id="toc-Checking-the-build-1" href="#Checking-the-build">3.1.6 Checking the build</a></li>
      <li><a id="toc-Building-the-manuals-1" href="#Building-the-manuals">3.1.7 Building the manuals</a></li>
      <li><a id="toc-Building-the-Inno-Setup-installer-1" href="#Building-the-Inno-Setup-installer">3.1.8 Building the Inno Setup installer</a></li>
      <li><a id="toc-Building-the-MSI-installer-1" href="#Building-the-MSI-installer">3.1.9 Building the MSI installer</a></li>
      <li><a id="toc-Cross_002dbuilding-on-Linux-1" href="#Cross_002dbuilding-on-Linux">3.1.10 Cross-building on Linux</a></li>
      <li><a id="toc-64_002dbit-Windows-builds-1" href="#g_t64_002dbit-Windows-builds">3.1.11 64-bit Windows builds</a></li>
    </ul></li>
    <li><a id="toc-Testing-an-Installation" href="#Testing-a-Windows-Installation">3.2 Testing an Installation</a></li>
  </ul></li>
  <li><a id="toc-Installing-R-under-_0028Mac_0029-OS-X-1" href="#Installing-R-under-_0028Mac_0029-OS-X">4 Installing R under (Mac) OS X</a>
  <ul class="no-bullet">
    <li><a id="toc-Building-from-source-on-_0028Mac_0029-OS-X-1" href="#Building-from-source-on-_0028Mac_0029-OS-X">4.1 Building from source on (Mac) OS X</a></li>
  </ul></li>
  <li><a id="toc-Running-R-1" href="#Running-R">5 Running R</a></li>
  <li><a id="toc-Add_002don-packages-1" href="#Add_002don-packages">6 Add-on packages</a>
  <ul class="no-bullet">
    <li><a id="toc-Default-packages-1" href="#Default-packages">6.1 Default packages</a></li>
    <li><a id="toc-Managing-libraries-1" href="#Managing-libraries">6.2 Managing libraries</a></li>
    <li><a id="toc-Installing-packages-1" href="#Installing-packages">6.3 Installing packages</a>
    <ul class="no-bullet">
      <li><a id="toc-Windows" href="#Windows-packages">6.3.1 Windows</a></li>
      <li><a id="toc-OS-X" href="#OS-X-packages">6.3.2 OS X</a></li>
      <li><a id="toc-Customizing-package-compilation-1" href="#Customizing-package-compilation">6.3.3 Customizing package compilation</a></li>
      <li><a id="toc-Multiple-sub_002darchitectures-1" href="#Multiple-sub_002darchitectures">6.3.4 Multiple sub-architectures</a></li>
      <li><a id="toc-Byte_002dcompilation-1" href="#Byte_002dcompilation">6.3.5 Byte-compilation</a></li>
    </ul></li>
    <li><a id="toc-Updating-packages-1" href="#Updating-packages">6.4 Updating packages</a></li>
    <li><a id="toc-Removing-packages-1" href="#Removing-packages">6.5 Removing packages</a></li>
    <li><a id="toc-Setting-up-a-package-repository-1" href="#Setting-up-a-package-repository">6.6 Setting up a package repository</a></li>
    <li><a id="toc-Checking-installed-source-packages-1" href="#Checking-installed-source-packages">6.7 Checking installed source packages</a></li>
  </ul></li>
  <li><a id="toc-Internationalization-and-Localization" href="#Internationalization">7 Internationalization and Localization</a>
  <ul class="no-bullet">
    <li><a id="toc-Locales-1" href="#Locales">7.1 Locales</a>
    <ul class="no-bullet">
      <li><a id="toc-Locales-under-Linux-1" href="#Locales-under-Linux">7.1.1 Locales under Linux</a></li>
      <li><a id="toc-Locales-under-Windows-1" href="#Locales-under-Windows">7.1.2 Locales under Windows</a></li>
      <li><a id="toc-Locales-under-OS-X-1" href="#Locales-under-OS-X">7.1.3 Locales under OS X</a></li>
    </ul></li>
    <li><a id="toc-Localization-of-messages-1" href="#Localization-of-messages">7.2 Localization of messages</a></li>
  </ul></li>
  <li><a id="toc-Choosing-between-32_002d-and-64_002dbit-builds-1" href="#Choosing-between-32_002d-and-64_002dbit-builds">8 Choosing between 32- and 64-bit builds</a></li>
  <li><a id="toc-The-standalone-Rmath-library-1" href="#The-standalone-Rmath-library">9 The standalone Rmath library</a>
  <ul class="no-bullet">
    <li><a id="toc-Unix_002dalikes" href="#Unix_002dalike-standalone">9.1 Unix-alikes</a></li>
    <li><a id="toc-Windows-1" href="#Windows-standalone">9.2 Windows</a></li>
  </ul></li>
  <li><a id="toc-Essential-and-useful-other-programs-under-a-Unix_002dalike-1" href="#Essential-and-useful-other-programs-under-a-Unix_002dalike">Appendix A Essential and useful other programs under a Unix-alike</a>
  <ul class="no-bullet">
    <li><a id="toc-Essential-programs-and-libraries-1" href="#Essential-programs-and-libraries">A.1 Essential programs and libraries</a></li>
    <li><a id="toc-Useful-libraries-and-programs-1" href="#Useful-libraries-and-programs">A.2 Useful libraries and programs</a>
    <ul class="no-bullet">
      <li><a id="toc-Tcl_002fTk-1" href="#Tcl_002fTk">A.2.1 Tcl/Tk</a></li>
      <li><a id="toc-Java-support-1" href="#Java-support">A.2.2 Java support</a></li>
    </ul></li>
    <li><a id="toc-Linear-algebra-1" href="#Linear-algebra">A.3 Linear algebra</a>
    <ul class="no-bullet">
      <li><a id="toc-BLAS-1" href="#BLAS">A.3.1 BLAS</a>
      <ul class="no-bullet">
        <li><a id="toc-ATLAS-1" href="#ATLAS">A.3.1.1 ATLAS</a></li>
        <li><a id="toc-ACML-1" href="#ACML">A.3.1.2 ACML</a></li>
        <li><a id="toc-Goto-BLAS-1" href="#Goto-BLAS">A.3.1.3 Goto BLAS</a></li>
        <li><a id="toc-Intel-MKL" href="#MKL">A.3.1.4 Intel MKL</a></li>
        <li><a id="toc-Shared-BLAS-1" href="#Shared-BLAS">A.3.1.5 Shared BLAS</a></li>
      </ul></li>
      <li><a id="toc-LAPACK-1" href="#LAPACK">A.3.2 LAPACK</a></li>
      <li><a id="toc-Caveats-1" href="#Caveats">A.3.3 Caveats</a></li>
    </ul></li>
  </ul></li>
  <li><a id="toc-Configuration-on-a-Unix_002dalike-1" href="#Configuration-on-a-Unix_002dalike">Appendix B Configuration on a Unix-alike</a>
  <ul class="no-bullet">
    <li><a id="toc-Configuration-options-1" href="#Configuration-options">B.1 Configuration options</a></li>
    <li><a id="toc-Compressed-and-uncompressed-pointers-1" href="#Compressed-and-uncompressed-pointers">B.2 Compressed and uncompressed pointers</a></li>
    <li><a id="toc-Helper-threads-and-task-merging-1" href="#Helper-threads-and-task-merging">B.3 Helper threads and task merging</a></li>
    <li><a id="toc-Internationalization-support-1" href="#Internationalization-support">B.4 Internationalization support</a></li>
    <li><a id="toc-Configuration-variables-1" href="#Configuration-variables">B.5 Configuration variables</a>
    <ul class="no-bullet">
      <li><a id="toc-Setting-paper-size-1" href="#Setting-paper-size">B.5.1 Setting paper size</a></li>
      <li><a id="toc-Setting-the-browsers-1" href="#Setting-the-browsers">B.5.2 Setting the browsers</a></li>
      <li><a id="toc-Compilation-flags-1" href="#Compilation-flags">B.5.3 Compilation flags</a></li>
      <li><a id="toc-Making-manuals-1" href="#Making-manuals">B.5.4 Making manuals</a></li>
    </ul></li>
    <li><a id="toc-Setting-the-shell-1" href="#Setting-the-shell">B.6 Setting the shell</a></li>
    <li><a id="toc-Using-make-1" href="#Using-make">B.7 Using make</a></li>
    <li><a id="toc-Using-FORTRAN-1" href="#Using-FORTRAN">B.8 Using FORTRAN</a>
    <ul class="no-bullet">
      <li><a id="toc-Using-gfortran-1" href="#Using-gfortran">B.8.1 Using gfortran</a></li>
    </ul></li>
    <li><a id="toc-Compile-and-load-flags-1" href="#Compile-and-load-flags">B.9 Compile and load flags</a></li>
  </ul></li>
  <li><a id="toc-Platform-notes-1" href="#Platform-notes">Appendix C Platform notes</a>
  <ul class="no-bullet">
    <li><a id="toc-X11-issues-1" href="#X11-issues">C.1 X11 issues</a></li>
    <li><a id="toc-Linux-1" href="#Linux">C.2 Linux</a>
    <ul class="no-bullet">
      <li><a id="toc-Clang-1" href="#Clang">C.2.1 Clang</a></li>
      <li><a id="toc-Intel-compilers-1" href="#Intel-compilers">C.2.2 Intel compilers</a></li>
      <li><a id="toc-Oracle-Solaris-Studio-compilers-1" href="#Oracle-Solaris-Studio-compilers">C.2.3 Oracle Solaris Studio compilers</a></li>
    </ul></li>
    <li><a id="toc-FreeBSD-1" href="#FreeBSD">C.3 FreeBSD</a></li>
    <li><a id="toc-_0028Mac_0029-OS-X" href="#Mac-OS-X">C.4 (Mac) OS X</a>
    <ul class="no-bullet">
      <li><a id="toc-32_002dbit-builds-1" href="#g_t32_002dbit-builds">C.4.1 32-bit builds</a></li>
      <li><a id="toc-64_002dbit-builds-1" href="#g_t64_002dbit-builds">C.4.2 64-bit builds</a></li>
      <li><a id="toc-Snow-Leopard-1" href="#Snow-Leopard">C.4.3 Snow Leopard</a></li>
      <li><a id="toc-Lion-1" href="#Lion">C.4.4 Lion</a></li>
      <li><a id="toc-Frameworks-1" href="#Frameworks">C.4.5 Frameworks</a></li>
    </ul></li>
    <li><a id="toc-Solaris-1" href="#Solaris">C.5 Solaris</a>
    <ul class="no-bullet">
      <li><a id="toc-Using-gcc-1" href="#Using-gcc">C.5.1 Using gcc</a></li>
    </ul></li>
    <li><a id="toc-AIX-1" href="#AIX">C.6 AIX</a></li>
    <li><a id="toc-Cygwin-1" href="#Cygwin">C.7 Cygwin</a></li>
    <li><a id="toc-New-platforms-1" href="#New-platforms">C.8 New platforms</a></li>
  </ul></li>
  <li><a id="toc-The-Windows-toolset-1" href="#The-Windows-toolset">Appendix D The Windows toolset</a>
  <ul class="no-bullet">
    <li><a id="toc-LaTeX-1" href="#LaTeX">D.1 LaTeX</a></li>
    <li><a id="toc-The-Inno-Setup-installer-1" href="#The-Inno-Setup-installer">D.2 The Inno Setup installer</a></li>
    <li><a id="toc-The-command-line-tools-1" href="#The-command-line-tools">D.3 The command line tools</a></li>
    <li><a id="toc-The-MinGW_002dw64-toolchain-1" href="#The-MinGW_002dw64-toolchain">D.4 The MinGW-w64 toolchain</a></li>
    <li><a id="toc-Useful-additional-programs-1" href="#Useful-additional-programs">D.5 Useful additional programs</a></li>
  </ul></li>
  <li><a id="toc-Function-and-variable-index-1" href="#Function-and-variable-index" rel="index">Function and variable index</a></li>
  <li><a id="toc-Concept-index-1" href="#Concept-index" rel="index">Concept index</a></li>
  <li><a id="toc-Environment-variable-index-1" href="#Environment-variable-index" rel="index">Environment variable index</a></li>
</ul>
</div>


<span id="Top"></span><div class="header">
<p>
Next: <a href="#Obtaining-pqR-and-R" accesskey="n" rel="next">Obtaining pqR and R</a>, Previous: <a href="dir.html#Top" accesskey="p" rel="prev">(dir)</a>, Up: <a href="dir.html#Top" accesskey="u" rel="up">(dir)</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Function-and-variable-index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="R-Installation-and-Administration"></span><h1 class="top">R Installation and Administration</h1>

<p>This is a guide to installation and administration for R - modified for pqR
</p>
<p>This document is based on the version for R 2.15.0 (2012-03-30).
</p>
<p>ISBN 3-900051-09-7
</p>
<p>Modifications for pqR are for pqR version 2.15.1 (2020-07-22).
</p>

<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top">&bull; <a href="#Obtaining-pqR-and-R" accesskey="1">Obtaining pqR and R</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Installing-R-under-Unix_002dalikes" accesskey="2">Installing R under Unix-alikes</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Installing-R-under-Windows" accesskey="3">Installing R under Windows</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Installing-R-under-_0028Mac_0029-OS-X" accesskey="4">Installing R under (Mac) OS X</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Running-R" accesskey="5">Running R</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Add_002don-packages" accesskey="6">Add-on packages</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Internationalization" accesskey="7">Internationalization</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Choosing-between-32_002d-and-64_002dbit-builds" accesskey="8">Choosing between 32- and 64-bit builds</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#The-standalone-Rmath-library" accesskey="9">The standalone Rmath library</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Essential-and-useful-other-programs-under-a-Unix_002dalike">Essential and useful other programs under a Unix-alike</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Configuration-on-a-Unix_002dalike">Configuration on a Unix-alike</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Platform-notes">Platform notes</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#The-Windows-toolset">The Windows toolset</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Function-and-variable-index" rel="index">Function and variable index</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Concept-index" rel="index">Concept index</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Environment-variable-index" rel="index">Environment variable index</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
</table>

<hr>
<span id="Obtaining-pqR-and-R"></span><div class="header">
<p>
Next: <a href="#Installing-R-under-Unix_002dalikes" accesskey="n" rel="next">Installing R under Unix-alikes</a>, Previous: <a href="#Top" accesskey="p" rel="prev">Top</a>, Up: <a href="#Top" accesskey="u" rel="up">Top</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Function-and-variable-index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Obtaining-pqR-and-R-1"></span><h2 class="chapter">1 Obtaining pqR and R</h2>
<span id="index-Obtaining-pqR-and-R"></span>

<p>Sources, binaries, and documentation for pqR can be obtained from the
project webpage at <a href="http://pqR-project.org/">http://pqR-project.org/</a> or the source code
repository at <a href="http://github.com/radfordneal/pqR/">http://github.com/radfordneal/pqR/</a>.  The
remainder of this section documents how to obtain versions of R
produced by the R Core Team.
</p>
<p>Sources, binaries and documentation for R can be obtained via
<acronym>CRAN</acronym>, the &ldquo;Comprehensive R Archive Network&rdquo; whose current
members are listed at <a href="http://cran.r-project.org/mirrors.html">http://cran.r-project.org/mirrors.html</a>.
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top">&bull; <a href="#Getting-and-unpacking-the-sources" accesskey="1">Getting and unpacking the sources</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Getting-patched-and-development-versions" accesskey="2">Getting patched and development versions</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
</table>

<hr>
<span id="Getting-and-unpacking-the-sources"></span><div class="header">
<p>
Next: <a href="#Getting-patched-and-development-versions" accesskey="n" rel="next">Getting patched and development versions</a>, Previous: <a href="#Obtaining-pqR-and-R" accesskey="p" rel="prev">Obtaining pqR and R</a>, Up: <a href="#Obtaining-pqR-and-R" accesskey="u" rel="up">Obtaining pqR and R</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Function-and-variable-index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Getting-and-unpacking-the-sources-1"></span><h3 class="section">1.1 Getting and unpacking the sources</h3>
<span id="index-Sources-for-R"></span>

<p>The simplest way is to download the most recent
<samp>R-<var>x</var>.<var>y</var>.<var>z</var>.tar.gz</samp> file, and unpack it with
</p>
<div class="example">
<pre class="example">tar -xf R-<var>x</var>.<var>y</var>.<var>z</var>.tar.gz
</pre></div>

<p>on systems that have a suitable<a id="DOCF1" href="#FOOT1"><sup>1</sup></a>
<code>tar</code> installed.  On other systems you need to have the
<code>gzip</code> program installed, when you can use
</p>
<div class="example">
<pre class="example">gzip -dc R-<var>x</var>.<var>y</var>.<var>z</var>.tar.gz | tar -xf -
</pre></div>

<p>The pathname of the directory into which the sources are unpacked should
not contain spaces, as most <code>make</code> programs (and specifically
<acronym>GNU</acronym> <code>make</code>) do not expect spaces.
</p>
<p>If you want the build to be usable by a group of users, set <code>umask</code>
before unpacking so that the files will be readable by the target group
(e.g., <code>umask 022</code> to be usable by all users).  Keep this
setting of <code>umask</code> whilst building and installing.
</p>
<p>If you use a recent GNU version of <code>tar</code> and do this as a root
account (which on Windows includes accounts with administrator
privileges) you may see many warnings about changing ownership.  In
which case you can use
</p>
<div class="example">
<pre class="example">tar --no-same-owner -xf R-<var>x</var>.<var>y</var>.<var>z</var>.tar.gz
</pre></div>

<p>and perhaps also include the option <samp>--no-same-permissions</samp>.
<span id="index-TAR_005fOPTIONS"></span>
(These options can also be set in the <code>TAR_OPTIONS</code> environment
variable: if more than one option is included they should be separated
by spaces.)
</p>


<hr>
<span id="Getting-patched-and-development-versions"></span><div class="header">
<p>
Previous: <a href="#Getting-and-unpacking-the-sources" accesskey="p" rel="prev">Getting and unpacking the sources</a>, Up: <a href="#Obtaining-pqR-and-R" accesskey="u" rel="up">Obtaining pqR and R</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Function-and-variable-index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Getting-patched-and-development-versions-1"></span><h3 class="section">1.2 Getting patched and development versions</h3>

<p>A patched version of the current release, &lsquo;<samp>r-patched</samp>&rsquo;, and the
current development version, &lsquo;<samp>r-devel</samp>&rsquo;, are available as daily
tarballs and via access to the R Subversion repository.  (For the two
weeks prior to the release of a minor (2.x.0) version, &lsquo;<samp>r-patched</samp>&rsquo;
tarballs may refer to beta/release candidates of the upcoming release,
the patched version of the current release being available via
Subversion.)
</p>
<p>The tarballs are available from
<a href="ftp://ftp.stat.math.ethz.ch/pub/Software/R/">ftp://ftp.stat.math.ethz.ch/pub/Software/R/</a>.  Download
<samp>R-patched.tar.gz</samp> or <samp>R-devel.tar.gz</samp> (or the <samp>.tar.bz2</samp>
versions) and unpack as described in the previous section.  They are
built in exactly the same way as distributions of R releases.
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top">&bull; <a href="#Using-Subversion-and-rsync" accesskey="1">Using Subversion and rsync</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
</table>

<hr>
<span id="Using-Subversion-and-rsync"></span><div class="header">
<p>
Previous: <a href="#Getting-patched-and-development-versions" accesskey="p" rel="prev">Getting patched and development versions</a>, Up: <a href="#Getting-patched-and-development-versions" accesskey="u" rel="up">Getting patched and development versions</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Function-and-variable-index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Using-Subversion-and-rsync-1"></span><h4 class="subsection">1.2.1 Using Subversion and rsync</h4>
<span id="index-Subversion"></span>

<p>Sources are also available via <a href="https://svn.R-project.org/R/">https://svn.R-project.org/R/</a>, the
R Subversion repository.  If you have a Subversion client (see
<a href="http://subversion.apache.org/">http://subversion.apache.org/</a>), you can check out and update the
current &lsquo;<samp>r-devel</samp>&rsquo; from
<a href="https://svn.r-project.org/R/trunk/">https://svn.r-project.org/R/trunk/</a> and the current
&lsquo;<samp>r-patched</samp>&rsquo; from
&lsquo;<samp>https://svn.r-project.org/R/branches/R-<var>x</var>-<var>y</var>-branch/</samp>&rsquo;
(where <var>x</var> and <var>y</var> are the major and minor number of the current
released version of R).  E.g., use
</p>
<div class="example">
<pre class="example">svn checkout https://svn.r-project.org/R/trunk/ <var>path</var>
</pre></div>

<p>to check out &lsquo;<samp>r-devel</samp>&rsquo; into directory <var>path</var> (which will be
created if necessary).  The alpha, beta and RC versions of an upcoming
<var>x.y.0</var> release are available from
&lsquo;<samp>https://svn.r-project.org/R/branches/R-<var>x</var>-<var>y</var>-branch/</samp>&rsquo; in
the four-week period prior to the release.
</p>
<p>Note that &lsquo;<samp>https:</samp>&rsquo; is required<a id="DOCF2" href="#FOOT2"><sup>2</sup></a>,
and that the SSL certificate for the Subversion server of the R project
should be recognized as from a trusted source.
</p>
<p>Note that retrieving the sources by e.g. <code>wget -r</code> or
<code>svn export</code> from that URL will not work: the Subversion
information is needed to build R.
</p>
<p>The Subversion repository does not contain the current sources for the
recommended packages, which can be obtained by <code>rsync</code> or
downloaded from <acronym>CRAN</acronym>.  To use <code>rsync</code> to install the
appropriate sources for the recommended packages, run
<code>./tools/rsync-recommended</code> from the top-level of the R sources.
</p>
<p>If downloading manually from <acronym>CRAN</acronym>, do ensure that you have the
correct versions of the recommended packages: if the number in the file
<samp>VERSION</samp> is &lsquo;<samp><var>x</var>.<var>y</var>.<var>z</var></samp>&rsquo; you need to download
the contents of &lsquo;<samp>http://CRAN.R-project.org/src/contrib/<var>dir</var></samp>&rsquo;,
where <var>dir</var> is &lsquo;<samp><var>x</var>.<var>y</var>.<var>z</var>/Recommended</samp>&rsquo; for
r-devel or <samp><var>x</var>.<var>y</var>-patched/Recommended</samp> for r-patched,
respectively, to directory <samp>src/library/Recommended</samp> in the sources
you have unpacked.  After downloading manually you need to execute
<code>tools/link-recommended</code> from the top level of the sources to
make the requisite links in <samp>src/library/Recommended</samp>.  A suitable
incantation from the top level of the R sources using <code>wget</code>
might be (for the correct value of <samp><var>dir</var></samp>)
</p>
<div class="example">
<pre class="example">wget -r -l1 --no-parent -A\*.gz -nd -P src/library/Recommended \
  http://CRAN.R-project.org/src/contrib/<var>dir</var>
./tools/link-recommended
</pre></div>



<hr>
<span id="Installing-R-under-Unix_002dalikes"></span><div class="header">
<p>
Next: <a href="#Installing-R-under-Windows" accesskey="n" rel="next">Installing R under Windows</a>, Previous: <a href="#Obtaining-pqR-and-R" accesskey="p" rel="prev">Obtaining pqR and R</a>, Up: <a href="#Top" accesskey="u" rel="up">Top</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Function-and-variable-index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Installing-R-under-Unix_002dalikes-1"></span><h2 class="chapter">2 Installing R under Unix-alikes</h2>
<span id="index-Installing-under-Unix_002dalikes"></span>

<p>pqR will configure and build under most common Unix and Unix-alike
platforms, in the same way as R-2.15.0, on which pqR is based.
Except as noted, the remainder of this section applies equally to 
R-2.15.0 and pqR.
</p>
<p>R-2.15.0 will configure and build on most common Unix and Unix-alike
platforms including &lsquo;<samp><var>cpu</var>-*-linux-gnu</samp>&rsquo; for the
&lsquo;<samp>alpha</samp>&rsquo;, &lsquo;<samp>arm</samp>&rsquo;, &lsquo;<samp>hppa</samp>&rsquo;, &lsquo;<samp>ix86</samp>&rsquo;,
&lsquo;<samp>ia64</samp>&rsquo;, &lsquo;<samp>m68k</samp>&rsquo;, &lsquo;<samp>mips</samp>&rsquo;, &lsquo;<samp>mipsel</samp>&rsquo;,
&lsquo;<samp>powerpc</samp>&rsquo;, &lsquo;<samp>s390</samp>&rsquo;, &lsquo;<samp>sparc</samp>&rsquo;, and &lsquo;<samp>x86_64</samp>&rsquo;
<acronym>CPU</acronym>s,
&lsquo;<samp>i386-apple-darwin</samp>&rsquo;, &lsquo;<samp>x86_64-apple-darwin</samp>&rsquo;,
&lsquo;<samp>i386-sun-solaris</samp>&rsquo;, &lsquo;<samp>sparc-sun-solaris</samp>&rsquo;,
&lsquo;<samp>x86_64-*-freebsd</samp>&rsquo;, and &lsquo;<samp>powerpc-ibm-aix6*</samp>&rsquo; as well as
perhaps (it is tested less frequently on these platforms)
&lsquo;<samp>powerpc-apple-darwin</samp>&rsquo;, &lsquo;<samp>i386-*-freebsd</samp>&rsquo;,
&lsquo;<samp>i386-*-netbsd</samp>&rsquo; and &lsquo;<samp>i386-*-openbsd</samp>&rsquo;.
</p>
<span id="index-Linux"></span>
<span id="index-OS-X"></span>
<p>No binary distributions of pqR are available yet.  Versions of R
distributed by the R Core Team are available as binary distributions 
for some common Linux
distributions and for OS X (formerly Mac OS).  See the <acronym>FAQ</acronym> for
current details.  These are installed in platform-specific ways, so for
the rest of this chapter we consider only building from the sources.
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top">&bull; <a href="#Simple-compilation" accesskey="1">Simple compilation</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Help-options" accesskey="2">Help options</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Making-the-manuals" accesskey="3">Making the manuals</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Installation" accesskey="4">Installation</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Uninstallation" accesskey="5">Uninstallation</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Sub_002darchitectures" accesskey="6">Sub-architectures</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Other-Options" accesskey="7">Other Options</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Stack-growth-direction" accesskey="8">Stack growth direction</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Testing-a-Unix_002dalike-Installation" accesskey="9">Testing a Unix-alike Installation</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
</table>

<hr>
<span id="Simple-compilation"></span><div class="header">
<p>
Next: <a href="#Help-options" accesskey="n" rel="next">Help options</a>, Previous: <a href="#Installing-R-under-Unix_002dalikes" accesskey="p" rel="prev">Installing R under Unix-alikes</a>, Up: <a href="#Installing-R-under-Unix_002dalikes" accesskey="u" rel="up">Installing R under Unix-alikes</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Function-and-variable-index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Simple-compilation-1"></span><h3 class="section">2.1 Simple compilation</h3>

<p>First review the essential and useful tools and libraries in
<a href="#Essential-and-useful-other-programs-under-a-Unix_002dalike">Essential and useful other programs under a Unix-alike</a>, and install
those you
<span id="index-TMPDIR"></span>
want or need.  Ensure that the environment variable <code>TMPDIR</code> is
either unset (and <samp>/tmp</samp> exists and can be written in and scripts
can be executed from) or points to a valid temporary directory (one from
which execution of scripts is allowed).
</p>
<span id="index-R_005fHOME"></span>
<p>Choose a place to install the R tree (R is not just a binary, but
has additional data sets, help files, font metrics etc).  Let us call
this place <var>R_HOME</var>.  Untar the source code.  This should create
directories <samp>src</samp>, <samp>doc</samp>, and several more under a top-level
directory: change to that top-level directory. Issue the
following commands:
</p>
<span id="index-configure"></span>

<div class="example">
<pre class="example">./configure
make
</pre></div>

<p>(See <a href="#Using-make">Using make</a> if your make is not called &lsquo;<samp>make</samp>&rsquo;.)  Users of
Debian-based 64-bit systems<a id="DOCF3" href="#FOOT3"><sup>3</sup></a> may need
</p>
<div class="example">
<pre class="example">./configure LIBnn=lib
make
</pre></div>

<p>Other options to <samp>./configure</samp> may also be useful (see 
<a href="#Configuration-on-a-Unix_002dalike">Configuration on a Unix-alike</a>).  In particular,
North American users should consult <a href="#Setting-paper-size">Setting paper size</a>.
</p>
<p>Once <code>make</code> has finished, you should check that the built system works 
correctly by
</p>
<div class="example">
<pre class="example">make check
</pre></div>

<p>Failures are not necessarily problems as they might be caused by missing
functionality,<a id="DOCF4" href="#FOOT4"><sup>4</sup></a> but you should look carefully at any
reported discrepancies.  (Some non-fatal errors are expected in locales
that do not support Latin-1, in particular in true <code>C</code> locales and
non-UTF-8 non-Western-European locales.)  A failure in
<samp>tests/ok-errors.R</samp> may indicate inadequate resource limits
(see <a href="#Running-R">Running R</a>).
</p>
<p>Note: Setting the <code>R_MATPROD_TEST_COUNT</code> environment variable to
a value greater than the default of 200 will increase the number of
random cases of matrix multiplication that are generated and checked
for correctness. Setting <code>R_MATPROD_TEST_BLAS</code> to TRUE will case
the BLAS matrix multiplication routines to be tested as well as the C
matprod functions.
</p>
<p>More comprehensive testing can be done by
</p>
<div class="example">
<pre class="example">make check-devel
</pre></div>

<p>or
</p>
<div class="example">
<pre class="example">make check-all
</pre></div>

<p>see file <samp>tests/README</samp>.
</p>
<p>If the command <code>configure</code> and <code>make</code> commands execute
successfully, a shell-script front-end called <samp>R</samp> will be created
and copied to <samp><var>R_HOME</var>/bin</samp>.  You can copy this script to a
place where users can invoke it, for example to <samp>/usr/local/bin/R</samp>.
You could also copy the man page <samp>R.1</samp> to a place where your
<code>man</code> reader finds it, such as <samp>/usr/local/man/man1</samp>.  If
you want to install the complete R tree to, e.g.,
<samp>/usr/local/lib/R</samp>, see <a href="#Installation">Installation</a>.  Note: you do not
<em>need</em> to install R: you can run it from where it was built.
</p>
<p>You do not necessarily have to build R in the top-level source
directory (say, <samp><var>TOP_SRCDIR</var></samp>).  To build in
<samp><var>BUILDDIR</var></samp>, run
</p>
<span id="index-configure-1"></span>

<div class="example">
<pre class="example">cd <var>BUILDDIR</var>
<var>TOP_SRCDIR</var>/configure
make
</pre></div>

<p>and so on, as described further below.  This has the advantage of always
keeping your source tree clean and is particularly recommended when you
work with a version of R from Subversion.  (You may need
<acronym>GNU</acronym> <code>make</code> to allow this, and you will need no spaces
in the path to the build directory.)
</p>



<p>Now <code>rehash</code> if necessary, type <kbd>R</kbd>, and read the R manuals
and the R <acronym>FAQ</acronym> (files <samp>FAQ</samp> or
<samp>doc/manual/R-FAQ.html</samp>, or
<a href="http://CRAN.R-project.org/doc/FAQ/R-FAQ.html">http://CRAN.R-project.org/doc/FAQ/R-FAQ.html</a> which always
has the version for the latest release of R).
</p>
<p>Most of the files in the source directory are human-created, but a few
are created automatically from other files.  One example is
<samp>NEWS</samp>, supplied with the source directory, but also re-created
from <samp>doc/NEWS.Rd</samp>, as part of the normal build process.  Other
such files do not normally need to be re-created.  In particular, you
will not usually need to re-create <samp>configure</samp>, which is derived
from <samp>configure.ac</samp>, <samp>VERSION</samp>, and the macro definitions in
the <samp>m4</samp> directory.  If you do want to re-create this or other
other automatically built files (such as <samp>src/main/gramRd.c</samp> from
<samp>src/main/gramRd.y</samp>), you will need to run <samp>./configure</samp> with the
<code>--enable-maintainer-mode</code> option, which creates a
<samp>Makefile</samp> with the appropriate rules.  Note that these files are
always recreated in the source directory, even if you are using a
separate build directory.  (When re-creating <samp>configure</samp>, you
should not use a separate build directory, since this has the effect
of stripping comments from <samp>configure</samp>.)
</p>
<p>There is a possible logical flaw with the concept of re-creating
<samp>configure</samp> using a <samp>Makefile</samp> that can be created only if
you have a working <samp>configure</samp> script &mdash; if necessary, you can re-create
<samp>configure</samp> as follows, when in the main source directory:
</p><div class="example">
<pre class="example">   cat m4/R.m4 m4/bigendian.m4 m4/cairo.m4 m4/clibs.m4 \
       m4/codeset.m4 m4/gettext.m4 m4/gettext-lib.m4 \
       m4/java.m4 m4/libtool.m4 m4/ltoptions.m4 m4/ltversion.m4 \
       m4/ltsugar.m4 m4/lt~obsolete.m4 m4/stat-time.m4 &gt; acinclude.m4
   aclocal --output=aclocal.m4 -I .
   autoconf -B .
</pre></div>
<p>These commands are in the <samp>create-configure</samp> shell file in the
main directory of a pqR source distribution.
</p>
<hr>
<span id="Help-options"></span><div class="header">
<p>
Next: <a href="#Making-the-manuals" accesskey="n" rel="next">Making the manuals</a>, Previous: <a href="#Simple-compilation" accesskey="p" rel="prev">Simple compilation</a>, Up: <a href="#Installing-R-under-Unix_002dalikes" accesskey="u" rel="up">Installing R under Unix-alikes</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Function-and-variable-index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Help-options-1"></span><h3 class="section">2.2 Help options</h3>

<p>By default <acronym>HTML</acronym> help pages are created when needed rather than being
built at install time.
</p>
<p>If you need to disable the server and want HTML help, there is the
option to build <acronym>HTML</acronym> pages when packages are installed
(including those installed with R).  This is enabled by the
<code>configure</code> option <samp>--enable-prebuilt-html</samp>.  Whether
<code>R CMD INSTALL</code> (and hence <code>install.packages</code>) pre-builds
<acronym>HTML</acronym> pages is determined by looking at the R installation and is
reported by <code>R CMD INSTALL --help</code>: it can be overridden by
specifying one of the <code>INSTALL</code> options <samp>--html</samp> or
<samp>--no-html</samp>.
</p>
<p>The server is disabled by setting the environment variable
<span id="index-R_005fDISABLE_005fHTTPD"></span>
<code>R_DISABLE_HTTPD</code> to a non-empty value, either before R is
started or within the R session before <acronym>HTML</acronym> help (including
<code>help.start</code>) is used.  It is also possible that system security
measures will prevent the server from being started, for example if the
loopback interface has been disabled.  See
<code>?tools::startDynamicHelp</code> for more details.
</p>
<hr>
<span id="Making-the-manuals"></span><div class="header">
<p>
Next: <a href="#Installation" accesskey="n" rel="next">Installation</a>, Previous: <a href="#Help-options" accesskey="p" rel="prev">Help options</a>, Up: <a href="#Installing-R-under-Unix_002dalikes" accesskey="u" rel="up">Installing R under Unix-alikes</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Function-and-variable-index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Making-the-manuals-1"></span><h3 class="section">2.3 Making the manuals</h3>
<span id="index-Manuals"></span>

<p>There is a set of manuals that can be built from the sources,
</p>
<dl compact="compact">
<dt>&lsquo;<samp>refman</samp>&rsquo;</dt>
<dd><p>Printed versions of the help pages for the base packages.
</p></dd>
<dt>&lsquo;<samp>fullrefman</samp>&rsquo;</dt>
<dd><p>Printed versions of all the help pages for base and recommended packages
(over 3200 pages).
</p></dd>
<dt>&lsquo;<samp>R-FAQ</samp>&rsquo;</dt>
<dd><p>R <acronym>FAQ</acronym>
</p></dd>
<dt>&lsquo;<samp>R-intro</samp>&rsquo;</dt>
<dd><p>&ldquo;An Introduction to R&rdquo;.
</p></dd>
<dt>&lsquo;<samp>R-data</samp>&rsquo;</dt>
<dd><p>&ldquo;R Data Import/Export&rdquo;.
</p></dd>
<dt>&lsquo;<samp>R-admin</samp>&rsquo;</dt>
<dd><p>&ldquo;R Installation and Administration&rdquo;, this manual.
</p></dd>
<dt>&lsquo;<samp>R-exts</samp>&rsquo;</dt>
<dd><p>&ldquo;Writing R Extensions&rdquo;.
</p></dd>
<dt>&lsquo;<samp>R-lang</samp>&rsquo;</dt>
<dd><p>&ldquo;The R Language Definition&rdquo;.
</p></dd>
</dl>

<p>To make these (except &lsquo;<samp>fullrefman</samp>&rsquo;), use
</p>
<div class="example">
<pre class="example">make pdf      <span class="roman">to create PDF versions</span>
make info     <span class="roman">to create info files (not &lsquo;<samp>refman</samp>&rsquo;).</span>
</pre></div>

<p>You will not be able to build any of these unless you have
<code>makeinfo</code> version 4.7 or later installed, and for PDF you must
have <code>texi2dvi</code> and <samp>texinfo.tex</samp> installed (which are part
of the <acronym>GNU</acronym> <strong>texinfo</strong> distribution but are, especially
<samp>texinfo.tex</samp>, often made part of the TeX package in
re-distributions).
</p>
<p>The PDF versions can be viewed using any recent PDF viewer: they have
hyperlinks that can be followed.  The info files are suitable for
reading online with Emacs or the standalone <acronym>GNU</acronym> <code>info</code>
program.  The PDF versions will be created using the paper size selected
at configuration (default ISO a4): this can be overridden by setting
<code>R_PAPERSIZE</code>
<span id="index-R_005fPAPERSIZE"></span>
on the <code>make</code> command line, or setting <code>R_PAPERSIZE</code> in the
environment and using <code>make -e</code>.  (If re-making the manuals for
a different paper size, you should first delete the file
<samp>doc/manual/version.texi</samp>.)
</p>
<p>There are some issues with making the PDF reference manual,
<samp>refman.pdf</samp>.  The help files contain both ISO Latin1 characters
(e.g. in <samp>text.Rd</samp>) and upright quotes, neither of which are
contained in the standard LaTeX Computer Modern fonts.  We have
provided four alternatives:
</p>
<dl compact="compact">
<dt><code>times</code></dt>
<dd><p>(The default.) Using standard PostScript fonts, Times Roman, Helvetica
and Courier.  This works well both for on-screen viewing and for
printing.  One disadvantage is that the Usage and Examples sections may
come out rather wide: this can be overcome by using <em>in addition</em>
either of the options <code>beramono</code> or <code>inconsolata</code> (which is
part of the current default), which replace the Courier monospaced font
by Bera Sans mono or Inconsolata respectively.  (You will need the
appropriate LaTeX package <strong>bera</strong> or <strong>inconsolata</strong>
installed.<a id="DOCF5" href="#FOOT5"><sup>5</sup></a>)
</p>
<p>Note that in most LaTeX installations this will not actually use the
standard fonts for PDF, but rather embed the URW clones NimbusRom,
NimbusSans and (for Courier, if used) NimbusMon.
</p>
</dd>
<dt><code>lm</code></dt>
<dd><p>Using the <em>Latin Modern</em> fonts.  These are not often installed as
part of a TeX distribution, but can obtained from
<a href="http://www.ctan.org/tex-archive/fonts/ps-type1/lm/">http://www.ctan.org/tex-archive/fonts/ps-type1/lm/</a> and
mirrors.  This uses fonts rather similar to Computer Modern, but is not
so good on-screen as <code>times</code>.
</p>
</dd>
<dt><code>cm-super</code></dt>
<dd><p>Using type-1 versions of the Computer Modern fonts by Vladimir Volovich.
This is a large installation, obtainable from
<a href="http://www.ctan.org/tex-archive/fonts/ps-type1/cm-super/">http://www.ctan.org/tex-archive/fonts/ps-type1/cm-super/</a>
and its mirrors.  These type-1 fonts have poor hinting and so are
nowhere near so readable on-screen as the other three options.
</p>
</dd>
<dt><code>ae</code></dt>
<dd><p>A package to use composites of Computer Modern fonts.  This works well
most of the time, and its PDF is more readable on-screen than the
previous two options.  There are three fonts for which it will need to
use bitmapped fonts, <samp>tctt0900.600pk</samp>, <samp>tctt1000.600pk</samp> and
<samp>tcrm1000.600pk</samp>.  Unfortunately, if those files are not available,
Acrobat Reader will substitute completely incorrect glyphs so you need
to examine the logs carefully.
</p></dd>
</dl>

<p>The default can be overridden by setting the environment variable
<span id="index-R_005fRD4PDF"></span>
<code>R_RD4PDF</code>.  (On Unix-alikes, this will be picked up at install time
and stored in <samp>etc/Renviron</samp>, but can still be overridden when the
manuals are built.)  The default value for <code>R_RD4PDF</code> is
&lsquo;<samp>times,inconsolata,hyper</samp>&rsquo;: omit &lsquo;<samp>hyper</samp>&rsquo; if you do not want
hyperlinks (e.g. for printing the manual) or do not have LaTeX
package <strong>hyperref</strong>, and omit &lsquo;<samp>inconsolata</samp>&rsquo; if you do not have
LaTeX package <strong>inconsolata</strong> installed.
</p>
<hr>
<span id="Installation"></span><div class="header">
<p>
Next: <a href="#Uninstallation" accesskey="n" rel="next">Uninstallation</a>, Previous: <a href="#Making-the-manuals" accesskey="p" rel="prev">Making the manuals</a>, Up: <a href="#Installing-R-under-Unix_002dalikes" accesskey="u" rel="up">Installing R under Unix-alikes</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Function-and-variable-index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Installation-1"></span><h3 class="section">2.4 Installation</h3>
<span id="index-Installation"></span>

<p>To ensure that the installed tree is usable by the right group of users,
set <code>umask</code> appropriately (perhaps to &lsquo;<samp>022</samp>&rsquo;) before unpacking
the sources and throughout the build process.
</p>
<p>After
</p>
<span id="index-configure-2"></span>
<div class="example">
<pre class="example">./configure
make
make check
</pre></div>

<p>(or, when building outside the source,
<code><var>TOP_SRCDIR</var>/configure</code>, etc) have been completed
successfully, you can install the complete R tree to your system by
typing
</p>
<div class="example">
<pre class="example">make install
</pre></div>

<p>A parallel make can be used (but run <code>make all</code> first).
</p>
<p>This will install to the following directories:
</p>
<dl compact="compact">
<dt><samp><var>prefix</var>/bin</samp> or <samp><var>bindir</var></samp></dt>
<dd><p>the front-end shell script and other scripts and executables
</p></dd>
<dt><samp><var>prefix</var>/man/man1</samp> or <samp><var>mandir</var>/man1</samp></dt>
<dd><p>the man page
</p></dd>
<dt><samp><var>prefix</var>/<var>LIBnn</var>/R</samp> or <samp><var>libdir</var>/R</samp></dt>
<dd><p>all the rest (libraries, on-line help system, &hellip;).  Here
<var>LIBnn</var> is usually &lsquo;<samp>lib</samp>&rsquo;, but may be &lsquo;<samp>lib64</samp>&rsquo; on some
64-bit Linux systems.  This is known as the R home directory.
</p></dd>
</dl>

<p>where <var>prefix</var> is determined during configuration (typically
<samp>/usr/local</samp>) and can be set by running <code>configure</code> with
the option <samp>--prefix</samp>, as in
</p>
<span id="index-configure-3"></span>
<div class="example">
<pre class="example">./configure --prefix=/where/you/want/R/to/go
</pre></div>

<p>This causes <code>make install</code> to install the R script to
<samp>/where/you/want/R/to/go/bin</samp>, and so on.  The prefix of the
installation directories can be seen in the status message that is
displayed at the end of <code>configure</code>.  You can install into
another directory tree by using
</p>
<div class="example">
<pre class="example">make prefix=/path/to/here install
</pre></div>

<p>at least with <acronym>GNU</acronym> <code>make</code> (and current Solaris and
FreeBSD <code>make</code>, but not some older Unix makes).
</p>
<p>More precise control is available at configure time via options: see
<code>configure --help</code> for details.  (However, most of the &lsquo;Fine
tuning of the installation directories&rsquo; options are not used by R.)
</p>
<p>Configure options <samp>--bindir</samp> and <samp>--mandir</samp> are supported
and govern where a copy of the <code>R</code> script and the <code>man</code>
page are installed.
</p>
<p>The configure option <samp>--libdir</samp> controls where the main R
files are installed: the default is &lsquo;<samp><var>eprefix</var>/<var>LIBnn</var></samp>&rsquo;,
where <var>eprefix</var> is the prefix used for installing
architecture-dependent files, defaults to <var>prefix</var>, and can be set
via the configure option <samp>--exec-prefix</samp>.
</p>
<p>Each of <code>bindir</code>, <code>mandir</code> and <code>libdir</code> can also be
specified on the <code>make install</code> command line (at least for
<acronym>GNU</acronym> <code>make</code>).
</p>
<p>The <code>configure</code> or <code>make</code> variables <code>rdocdir</code> and
<code>rsharedir</code> can be used to install the system-independent
<samp>doc</samp> and <samp>share</samp> directories to somewhere other than
<code>libdir</code>.  The C header files can be installed to the value of
<code>rincludedir</code>: note that as the headers are not installed into a
subdirectory you probably want something like
<code>rincludedir=/usr/local/include/R-2.15.0</code>.
</p>
<p>If you want the R home to be something other than
<samp><var>libdir</var>/R</samp>, use <samp>rhome</samp>: for example
</p>
<div class="example">
<pre class="example">make install rhome=/usr/local/lib64/R-2.15.0
</pre></div>

<p>will use a version-specific R home on a Linux 64-bit system.
</p>
<p>If you have made R as a shared/dynamic library you can install it in
your system&rsquo;s library directory by
</p>
<div class="example">
<pre class="example">make prefix=/path/to/here install-libR
</pre></div>

<p>where <code>prefix</code> is optional, and <code>libdir</code> will give more
precise control.
</p>
<div class="example">
<pre class="example">make install-strip
</pre></div>

<p>will install stripped executables, and on platforms where this is
supported, stripped libraries in directories <samp>lib</samp> and
<samp>modules</samp> and in the standard packages.
</p>
<p>Note that installing R into a directory whose path contains spaces is
not supported, and at least some aspects (such as installing source
packages) will not work.
</p>
<span id="index-Manuals_002c-installing"></span>

<p>To install info and PDF versions of the manuals, use one or more of
</p>
<div class="example">
<pre class="example">make install-info
make install-pdf
</pre></div>

<p>Once again, it is optional to specify <code>prefix</code>, <code>libdir</code> or
<code>rhome</code> (the PDF manuals are installed under the R home
directory).  (<code>make install-info</code> needs Perl installed if there
is no command <code>install-info</code> on the system.)
</p>
<p>More precise control is possible.  For info, the setting used is that of
<code>infodir</code> (default <samp><var>prefix</var>/info</samp>, set by configure
option <samp>--infodir</samp>).  The PDF files are installed into the R
<samp>doc</samp> tree, set by the <code>make</code> variable <code>rdocdir</code>.
</p>
<p>A staged installation is possible, that it is installing R into a
temporary directory in order to move the installed tree to its final
destination.  In this case <code>prefix</code> (and so on) should reflect the
<span id="index-DESTDIR"></span>
final destination, and <code>DESTDIR</code> should be used: see
<a href="http://www.gnu.org/prep/standards/html_node/DESTDIR.html">http://www.gnu.org/prep/standards/html_node/DESTDIR.html</a>.
</p>
<p>You can optionally install the run-time tests that are part of
<code>make check-all</code> by
</p>
<div class="example">
<pre class="example">make install-tests
</pre></div>

<p>which populates a <samp>tests</samp> directory in the installation.
</p>

<hr>
<span id="Uninstallation"></span><div class="header">
<p>
Next: <a href="#Sub_002darchitectures" accesskey="n" rel="next">Sub-architectures</a>, Previous: <a href="#Installation" accesskey="p" rel="prev">Installation</a>, Up: <a href="#Installing-R-under-Unix_002dalikes" accesskey="u" rel="up">Installing R under Unix-alikes</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Function-and-variable-index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Uninstallation-1"></span><h3 class="section">2.5 Uninstallation</h3>

<p>You can uninstall R by
</p>
<div class="example">
<pre class="example">make uninstall
</pre></div>

<p>optionally specifying <code>prefix</code> etc in the same way as specified for
installation.
</p>
<p>This will also uninstall any installed manuals.  There are specific
targets to uninstall info and PDF manuals in file
<samp>doc/manual/Makefile</samp>.
</p>
<p>Target <code>uninstall-tests</code> will uninstall any installed tests, as
well as removing the directory <samp>tests</samp> containing the test results.
</p>


<hr>
<span id="Sub_002darchitectures"></span><div class="header">
<p>
Next: <a href="#Other-Options" accesskey="n" rel="next">Other Options</a>, Previous: <a href="#Uninstallation" accesskey="p" rel="prev">Uninstallation</a>, Up: <a href="#Installing-R-under-Unix_002dalikes" accesskey="u" rel="up">Installing R under Unix-alikes</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Function-and-variable-index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Sub_002darchitectures-1"></span><h3 class="section">2.6 Sub-architectures</h3>

<p>Some platforms can support closely related builds of R which can
share all but the executables and dynamic objects.  Examples include
builds under Solaris for different chips (in particular, 32- and 64-bit
builds), 64- and 32- bit builds on &lsquo;<samp>x86_64</samp>&rsquo; Linux and different
<acronym>CPU</acronym>s (e.g. &lsquo;<samp>ppc</samp>&rsquo;, &lsquo;<samp>i386</samp>&rsquo; and
&lsquo;<samp>x86_64</samp>&rsquo;) under (Mac) OS X &gt;= 10.4.
</p>
<p>R supports the idea of architecture-specific builds, specified by
adding &lsquo;<samp>r_arch=<var>name</var></samp>&rsquo; to the <code>configure</code> line.  Here
<var>name</var> can be anything non-empty, and is used to name subdirectories
of <samp>lib</samp>, <samp>etc</samp>, <samp>include</samp> and the package <samp>libs</samp>
subdirectories.  Example names from other systems are the use of
<samp>sparcv9</samp> on Sparc Solaris and <samp>32</samp> by <code>gcc</code> on
&lsquo;<samp>x86_64</samp>&rsquo; Linux.
</p>
<p>If you have two or more such builds you can install them over each other
(and for 32/64-bit builds on one architecture, one build can be done
without &lsquo;<samp>r_arch</samp>&rsquo;).  The space savings can be considerable: on
&lsquo;<samp>x86_64</samp>&rsquo; Linux a basic install (without debugging symbols) took
63Mb, and adding a 32-bit build added 6Mb.  If you have installed
multiple builds you can select which build to run by
</p>
<div class="example">
<pre class="example">R --arch=<var>name</var>
</pre></div>

<p>and just running &lsquo;<samp>R</samp>&rsquo; will run the last build that was installed.
</p>
<p><code>R CMD INSTALL</code> will detect if more than one build is installed and
try to install packages with the appropriate library objects for each.
This will not be done if the package has an executable <code>configure</code>
script or a <samp>src/Makefile</samp> file.  In such cases you can install for
extra builds by
</p>
<div class="example">
<pre class="example">R --arch=<var>name</var> CMD INSTALL --libs-only <var>pkg1</var> <var>pkg2</var> &hellip;
</pre></div>

<p>If you want to mix sub-architectures compiled on different platforms
(for example &lsquo;<samp>x86_64</samp>&rsquo; Linux and &lsquo;<samp>i686</samp>&rsquo; Linux), it is
wise to use explicit names for each, and you may also need to set
<samp>libdir</samp> to ensure that they install into the same place.
</p>
<p>When sub-architectures are used the version of <code>Rscript</code> in
e.g. <samp>/usr/bin</samp> will be the last installed, but
architecture-specific versions will be available in e.g.
<samp>/usr/lib64/R/bin/exec${<var>R_ARCH</var>}</samp>.  Normally all installed
architectures will run on the platform so the architecture of
<code>Rscript</code> itself does not matter.  The executable
<code>Rscript</code> will run the <code>R</code> script, and at that time the
<span id="index-R_005fARCH"></span>
setting of the <code>R_ARCH</code> environment variable determines the
architecture which is run.
</p>
<p>When running post-install tests with sub-architectures, use
</p>
<div class="example">
<pre class="example">R --arch=<var>name</var> CMD make check[-devel|all]
</pre></div>

<p>to select a sub-architecture to check.
</p>
<p>Sub-architectures are also used on Windows, but by selecting executables
within the appropriate <samp>bin</samp> directory,
<samp><var>R_HOME</var>/bin/i386</samp> or <samp><var>R_HOME</var>/bin/x64</samp>.  For
backwards compatibility with R &lt; 2.12.0, there are executables
<samp><var>R_HOME</var>/bin/R.exe</samp> or <samp><var>R_HOME</var>/bin/Rscript.exe</samp>:
these will run an executable from one of the subdirectories, which one
being taken first from the
<span id="index-R_005fARCH-1"></span>
<code>R_ARCH</code> environment variable, then from the
<samp>--arch</samp> command-line option<a id="DOCF6" href="#FOOT6"><sup>6</sup></a> and finally from the
installation default (which is 32-bit for a combined 32/64 bit R
installation).
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top">&bull; <a href="#Multilib" accesskey="1">Multilib</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
</table>

<hr>
<span id="Multilib"></span><div class="header">
<p>
Previous: <a href="#Sub_002darchitectures" accesskey="p" rel="prev">Sub-architectures</a>, Up: <a href="#Sub_002darchitectures" accesskey="u" rel="up">Sub-architectures</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Function-and-variable-index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Multilib-1"></span><h4 class="subsection">2.6.1 Multilib</h4>

<p>On Linux<a id="DOCF7" href="#FOOT7"><sup>7</sup></a>, there is an alternative mechanism for mixing 32-bit and 64-bit
libraries known as <em>multilib</em>. If a Linux distribution supports
multilib, then parallel builds of R may be installed in the
sub-directories <samp>lib</samp> (32-bit) and <samp>lib64</samp> (64-bit).  The
build to be run may then be chosen using the <code>setarch</code>
command. For example, a 32-bit build may be chosen by
</p>
<div class="example">
<pre class="example">setarch i686 R
</pre></div>

<p>The <code>setarch</code> command is only operational if both 32-bit and
64-bit builds are installed. If there is only one installation of R,
then this will always be run regardless of the architecture specified
by the <code>setarch</code> command.
</p>
<p>There can be problems with installing packages on the non-native
architecture.  It is a good idea to run e.g. <code>setarch i686 R</code> for
sessions in which packages are to be installed, even if that is the only
version of R installed (since this tells the package installation
code the architecture needed).
</p>
<p>At present there is a potential problem with packages using Java, as
the post-install for a &lsquo;<samp>i386</samp>&rsquo; RPM on &lsquo;<samp>x86_64</samp>&rsquo; Linux
reconfigures Java and will find the &lsquo;<samp>x86_64</samp>&rsquo; Java.  If you know
where a 32-bit Java is installed you may be able to run (as root)
</p>
<div class="example">
<pre class="example">export JAVA_HOME=&lt;path to jre directory of 32-bit Java&gt;
setarch i686 R CMD javareconf
</pre></div>

<p>to get a suitable setting.
</p>
<p>When this mechanism is used, the version of <code>Rscript</code> in
e.g. <samp>/usr/bin</samp> will be the last installed, but an
architecture-specific version will be available in
e.g. <samp>/usr/lib64/R/bin</samp>.  Normally all installed architectures
will run on the platform so the architecture of <code>Rscript</code> does
not matter.
</p>
<hr>
<span id="Other-Options"></span><div class="header">
<p>
Next: <a href="#Stack-growth-direction" accesskey="n" rel="next">Stack growth direction</a>, Previous: <a href="#Sub_002darchitectures" accesskey="p" rel="prev">Sub-architectures</a>, Up: <a href="#Installing-R-under-Unix_002dalikes" accesskey="u" rel="up">Installing R under Unix-alikes</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Function-and-variable-index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Other-Options-1"></span><h3 class="section">2.7 Other Options</h3>

<p>Other configuration options for can be listed with <code>configure
--help</code>.  For pqR, these include options for enabling or disabling use
of helper threads and compressed pointers, which are discussed in 
<a href="#Configuration-on-a-Unix_002dalike">Configuration on a Unix-alike</a>.
</p>
<p>Most options not listed elsewhere in this manual are either standard
<code>autoconf</code> options not relevant to R or are intended for
specialist uses by the R developers.
</p>
<hr>
<span id="Stack-growth-direction"></span><div class="header">
<p>
Next: <a href="#Testing-a-Unix_002dalike-Installation" accesskey="n" rel="next">Testing a Unix-alike Installation</a>, Previous: <a href="#Other-Options" accesskey="p" rel="prev">Other Options</a>, Up: <a href="#Installing-R-under-Unix_002dalikes" accesskey="u" rel="up">Installing R under Unix-alikes</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Function-and-variable-index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Stack-growth-direction-1"></span><h3 class="section">2.8 Stack growth direction</h3>

<p>The direction of growth for the C stack is assumed by default to be downwards,
as is the case for almost all current platforms.  To override this, the
C pre-processor symbol <code>R_CStackDir</code> can be defined to be <code>-1</code>,
which can usually be done by including an argument of <code>R_CStackDir=-1</code>
in the <code>CFLAGS</code> variable.
</p>
<hr>
<span id="Testing-a-Unix_002dalike-Installation"></span><div class="header">
<p>
Previous: <a href="#Stack-growth-direction" accesskey="p" rel="prev">Stack growth direction</a>, Up: <a href="#Installing-R-under-Unix_002dalikes" accesskey="u" rel="up">Installing R under Unix-alikes</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Function-and-variable-index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Testing-a-Unik_002dalike-Installation"></span><h3 class="section">2.9 Testing a Unik-alike Installation</h3>

<p>Full testing is possible only if the test files have been installed with
</p>
<div class="example">
<pre class="example">make install-tests
</pre></div>

<p>which populates a <samp>tests</samp> directory in the installation.
</p>
<p>If this has been done, two testing routes are available.
The first is to move to the home directory of the R installation
(as given by <code>R.home()</code>) and run
</p>
<div class="example">
<pre class="example">cd tests
## followed by one of
../bin/R CMD make check
../bin/R CMD make check-devel
../bin/R CMD make check-all
</pre></div>

<p>and other useful targets are <code>test-BasePackages</code> and
<code>test-Recommended</code> to the run tests of the standard and
recommended packages (if installed) respectively.
</p>
<p>This re-runs all the tests relevant to the installed R (including for
example code in the package vignettes), but not for example the ones
checking the example code in the manuals nor making the standalone Rmath
library.  This can occasionally be useful when the operating environment
has been changed, for example by OS updates or by substituting the
<acronym>BLAS</acronym> (see <a href="#Shared-BLAS">Shared BLAS</a>).
</p>
<p>Alternatively, the installed R can be run, preferably with
<samp>--vanilla</samp>.  Then
</p>
<div class="example">
<pre class="example">library(&quot;tools&quot;)
testInstalledBasic(&quot;both&quot;)
testInstalledPackages(scope = &quot;base&quot;)
testInstalledPackages(scope = &quot;recommended&quot;)
</pre></div>

<p>runs the basic tests and then all the tests on the standard and
recommended packages.  These tests can be run from anywhere: the basic
tests write their results in the <samp>tests</samp> folder of the R home
directory and run slightly fewer tests than the first approach: in
particular they do not test Internet access.
</p>
<p>These tests work best if <code>diff</code> (in <samp>Rtools*.exe</samp> for
Windows users) is in the path, and on some systems need the collation
locale set manually (the R code tries to do so but it may not be
possible to reset it): so if needed try setting the environment variable
<code>LC_COLLATE</code> to &lsquo;<samp>C</samp>&rsquo; before starting R.
<span id="index-LC_005fCOLLATE"></span>
</p>
<p>It is possible to test the installed packages (but not the
package-specific tests) by <code>testInstalledPackages</code> even if
<code>make install-tests</code> was not run.
</p>
<p>Note that the results may depend on the language set for times and
messages: for maximal similarity to reference results you may want to
try setting
</p>
<div class="example">
<pre class="example">LANGUAGE=en LC_TIME=C
</pre></div>


<hr>
<span id="Installing-R-under-Windows"></span><div class="header">
<p>
Next: <a href="#Installing-R-under-_0028Mac_0029-OS-X" accesskey="n" rel="next">Installing R under (Mac) OS X</a>, Previous: <a href="#Installing-R-under-Unix_002dalikes" accesskey="p" rel="prev">Installing R under Unix-alikes</a>, Up: <a href="#Top" accesskey="u" rel="up">Top</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Function-and-variable-index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Installing-R-under-Windows-1"></span><h2 class="chapter">3 Installing R under Windows</h2>
<span id="index-Installing-under-Windows"></span>

<p>Recent versions of pqR have been sucessfully installed under Windows
7, 8, 8.1, and 10.  The src/gnuwin32/INSTALL file contains
instructions for how to do this.  This section describes installation
of R-2.15.0, but may also be relevant to pqR.
</p>
<p>The <samp>bin/windows</samp> directory of a <acronym>CRAN</acronym> site contains
binaries for a base distribution and a large number of add-on packages
from <acronym>CRAN</acronym> to run on Windows XP or later on ix86
<acronym>CPU</acronym>s (including AMD64/Intel64<a id="DOCF8" href="#FOOT8"><sup>8</sup></a> chips and Windows x64).
</p>
<p>Your file system must allow long file names (as is likely except
perhaps for some network-mounted systems).
</p>
<p>Installation is <em>via</em> the installer
<samp>R-2.15.1-win.exe</samp>.  Just double-click on the icon and
follow the instructions.  When installing on a 64-bit version of Windows
the options will include 32- or 64-bit versions of R (and the default is
to install both).  You can uninstall R from the Control Panel.
</p>
<p>Note that you will be asked to choose a language for installation, and
that choice applies to both installation and un-installation but not to
running R itself.
</p>
<p>See the <a href="http://CRAN.R-project.org/bin/windows/base/rw-FAQ.html">R
Windows <acronym>FAQ</acronym></a> for more details on the binary installer.
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top">&bull; <a href="#Building-from-source" accesskey="1">Building from source</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Testing-a-Windows-Installation" accesskey="2">Testing a Windows Installation</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
</table>

<hr>
<span id="Building-from-source"></span><div class="header">
<p>
Next: <a href="#Testing-a-Windows-Installation" accesskey="n" rel="next">Testing a Windows Installation</a>, Previous: <a href="#Installing-R-under-Windows" accesskey="p" rel="prev">Installing R under Windows</a>, Up: <a href="#Installing-R-under-Windows" accesskey="u" rel="up">Installing R under Windows</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Function-and-variable-index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Building-from-source-1"></span><h3 class="section">3.1 Building from source</h3>

<p>Step-by-step directions for installing pqR on Windows are in 
<samp>src/gnuwin32/INSTALL</samp>.  The instructions below also
generally apply to pqR as well as to R Core versions.
</p>
<p>R can be built as either a 32-bit or 64-bit application on Windows:
to build the 64-bit application you need a 64-bit edition of Windows:
such an OS can also be used to build 32-bit R.
</p>
<p>The standard installer combines 32-bit and 64-bit builds into a single
executable which can then be installed into the same location and share
all the files except the <samp>.exe</samp> and <samp>.dll</samp> files and some
configuration files in the <samp>etc</samp> directory.
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top">&bull; <a href="#Getting-the-tools" accesskey="1">Getting the tools</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Getting-the-source-files" accesskey="2">Getting the source files</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Building-the-core-files" accesskey="3">Building the core files</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Building-the-bitmap-files" accesskey="4">Building the bitmap files</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Building-the-cairo-devices-files" accesskey="5">Building the cairo devices files</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Checking-the-build" accesskey="6">Checking the build</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Building-the-manuals" accesskey="7">Building the manuals</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Building-the-Inno-Setup-installer" accesskey="8">Building the Inno Setup installer</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Building-the-MSI-installer" accesskey="9">Building the MSI installer</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Cross_002dbuilding-on-Linux">Cross-building on Linux</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#g_t64_002dbit-Windows-builds">64-bit Windows builds</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
</table>

<hr>
<span id="Getting-the-tools"></span><div class="header">
<p>
Next: <a href="#Getting-the-source-files" accesskey="n" rel="next">Getting the source files</a>, Previous: <a href="#Building-from-source" accesskey="p" rel="prev">Building from source</a>, Up: <a href="#Building-from-source" accesskey="u" rel="up">Building from source</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Function-and-variable-index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Getting-the-tools-1"></span><h4 class="subsection">3.1.1 Getting the tools</h4>

<p>If you want to build R from the sources, you will first need to
collect, install and test an extensive set of tools.  See <a href="#The-Windows-toolset">The Windows toolset</a> (and perhaps updates in
<a href="http://cran.r-project.org/bin/windows/Rtools/">http://cran.r-project.org/bin/windows/Rtools/</a>) for details.
</p>
<p>The <samp>Rtools*.exe</samp> executable installer described in <a href="#The-Windows-toolset">The Windows toolset</a> also includes some source files in addition to the R
source as noted below.  You should run it first, to obtain a working
<code>tar</code> and other necessities.  
</p>
<p>The installer has the option of adding extra files to the source
directory, but this is not advised, since file ownership problems can
arise.  It is better to add them (plus files needed for cairo) by
untarring a win-extras file obtained from pqR-project.org, as
described in src/gnuwin32/INSTALL.
</p>
<p>Note that the name of the intended source directory,
e.g. pqR-YYYY-MM-DD, <em>should not contain spaces</em>.  We will call
this directory <samp><var>R_HOME</var></samp> below.
</p>
<p>The toolchain used as from R 2.14.2 differs from from that used for
R 2.12.0 to R 2.14.1.
</p>
<hr>
<span id="Getting-the-source-files"></span><div class="header">
<p>
Next: <a href="#Building-the-core-files" accesskey="n" rel="next">Building the core files</a>, Previous: <a href="#Getting-the-tools" accesskey="p" rel="prev">Getting the tools</a>, Up: <a href="#Building-from-source" accesskey="u" rel="up">Building from source</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Function-and-variable-index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Getting-the-source-files-1"></span><h4 class="subsection">3.1.2 Getting the source files</h4>

<p>You need to collect the following sets of files:
</p><ul>
<li> Get the R source code tarball <samp>R-2.15.0.tar.gz</samp> from
<acronym>CRAN</acronym>.  Open a command window (or another shell) at directory
<var>R_HOME</var>, and run

<div class="example">
<pre class="example">tar -xf R-2.15.0.tar.gz
</pre></div>

<p>to create the source tree in <var>R_HOME</var>.  <strong>Beware</strong>: do use
<code>tar</code> to extract the sources rather than tools such as WinZip
that do not understand symbolic links.  If you are using an account with
administrative privileges you may get a lot of messages which can be
suppressed by
</p>
<div class="example">
<pre class="example">tar --no-same-owner -xf R-2.15.0.tar.gz
</pre></div>

<p><span id="index-TAR_005fOPTIONS-1"></span>
or perhaps better, set the environment variable <code>TAR_OPTIONS</code> to the
value &lsquo;<samp>--no-same-owner --no-same-permissions</samp>&rsquo;.
</p>
<p>It is also possible to obtain the source code using Subversion; see 
<a href="#Obtaining-pqR-and-R">Obtaining pqR and R</a> for details.
</p>

</li><li> If you are not using a tarball you need to obtain copies of the
recommended packages from <acronym>CRAN</acronym>.  Put the <samp>.tar.gz</samp> files
in <samp><var>R_HOME</var>/src/library/Recommended</samp> and run <code>make
link-recommended</code>.  If you have an Internet connection, you can do this
automatically by running in <samp><var>R_HOME</var>/src/gnuwin32</samp>

<div class="example">
<pre class="example">make rsync-recommended
</pre></div>

</li></ul>

<p>The following additional items are normally installed by
<samp>Rtools215.exe</samp>.  If instead you choose to do a completely manual
build you will also need
</p>
<ul>
<li> The Tcl/Tk support files are contained in <samp>Rtools215.exe</samp> and
available as <samp>.zip</samp>s from
<a href="http://www.stats.ox.ac.uk/pub/Rtools">http://www.stats.ox.ac.uk/pub/Rtools</a>.  Please make sure you
install the right version: there is a 32-bit version and a 64-bit
version.

</li><li> You need <code>libpng</code>, <code>jpeg</code> and <code>libtiff</code> sources
(available, e.g., from <a href="http://www.libpng.org/">http://www.libpng.org/</a>,
<a href="http://www.ijg.org">http://www.ijg.org</a> and
<a href="http://download.osgeo.org/libtiff/">http://download.osgeo.org/libtiff/</a>.  The earliest versions
that have been tested are <samp>libpng-1.5.4.tar.gz</samp>,
<samp>jpegsrc.v8c.tar.gz</samp>, <samp>tiff-3.9.4.tar.gz</samp> (including betas of
<samp>tiff-4.0.0</samp>).  It is also possible to use &lsquo;<samp>libjpeg-turbo</samp>&rsquo;
from <a href="http://sourceforge.net/projects/libjpeg-turbo/files/">http://sourceforge.net/projects/libjpeg-turbo/files/</a>.

<p>Working in the directory <samp><var>R_HOME</var>/src/gnuwin32/bitmap</samp>,
install the <code>libpng</code> and <code>jpeg</code> sources in sub-directories.
The <code>jpeg</code> sub-directory for version 8c is named <samp>jpeg-8c</samp>; if
you use a different version (e.g. <samp>jpeg-7</samp> or
<samp>libjpeg-turbo</samp>), edit the definition of
<code>JPEGDIR</code> in <samp>src/gnuwin32/MkRules.local</samp>, which you
should have copied from <samp>src/gnuwin32/MkRules.dist32</samp> (or
<samp>MkRules.dist32-sse</samp>, or <samp>MkRules.dist64</samp>).  The names 
of the <samp>libpng</samp> and <samp>libtiff</samp> directories can also be set there.
</p>
<p>Example:
</p>
<div class="example">
<pre class="example">&gt; tar -zxf libpng-1.5.5.tar.gz
&gt; mv libpng-1.5.5 libpng
&gt; tar -zxf jpegsrc.v8c.tar.gz
&gt; tar -zxf tiff-3.9.5.tar.gz
&gt; mv tiff-3.9.5/libtiff .
&gt; rm -rf tiff-3.9.5
</pre></div>

<p>(and see the comment above about <samp>--no-same-owner</samp>).
</p>
</li></ul>

<hr>
<span id="Building-the-core-files"></span><div class="header">
<p>
Next: <a href="#Building-the-bitmap-files" accesskey="n" rel="next">Building the bitmap files</a>, Previous: <a href="#Getting-the-source-files" accesskey="p" rel="prev">Getting the source files</a>, Up: <a href="#Building-from-source" accesskey="u" rel="up">Building from source</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Function-and-variable-index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Building-the-core-files-1"></span><h4 class="subsection">3.1.3 Building the core files</h4>

<span id="index-TMPDIR-1"></span>
<p>Set the environment variable <code>TMPDIR</code> to point to a writable
directory, with a path specified with forward slashes and no spaces.
(The default is <samp>/tmp</samp>, which may not be useful on Windows.)
</p>
<p>You may need to compile under a case-honouring file system: we found
that a <code>samba</code>-mounted file system (which maps all file names to
lower case) did not work.
</p>
<p>Open a command window at <samp><var>R_HOME</var>/src/gnuwin32</samp>.  Copy one
of the files <samp>MkRules.dist32</samp>, <samp>MkRules.dist32-sse2</samp>, or
<samp>MkRules.dist64</samp> to <samp>MkRules.local</samp> and edit the settings
there.  Then run
</p>
<div class="example">
<pre class="example">make all recommended
</pre></div>

<p>and sit back and wait while the basic compile takes place.
</p>
<p>Notes:
</p><ul>
<li> We have had reports that earlier versions of anti-virus software locking
up the machine, but not for several years.  However, aggressive
anti-virus checking such as the on-access scanning of Sophos can slow
the build down several-fold.

</li><li> By default Doug Lea&rsquo;s <code>malloc</code> in the file
<samp><var>R_HOME</var>/src/gnuwin32/malloc.c</samp> is used for R&rsquo;s internal
memory allocations.  You can opt out of this by setting
<code>LEA_MALLOC=NO</code> in <samp>MkRules.local</samp>, in which case the <code>malloc</code>
in <samp>msvcrt.dll</samp> is used.  This does impose a considerable
performance penalty and has not been tested recently.

</li><li> You can run a parallel make by e.g.

<div class="example">
<pre class="example">make -j4 all
make -j4 recommended
</pre></div>

<p>but this is only likely to be worthwhile on a multi-core machine with
ample memory, and is not 100% reliable.
</p>
</li></ul>

<hr>
<span id="Building-the-bitmap-files"></span><div class="header">
<p>
Next: <a href="#Building-the-cairo-devices-files" accesskey="n" rel="next">Building the cairo devices files</a>, Previous: <a href="#Building-the-core-files" accesskey="p" rel="prev">Building the core files</a>, Up: <a href="#Building-from-source" accesskey="u" rel="up">Building from source</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Function-and-variable-index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Building-the-bitmap-files-1"></span><h4 class="subsection">3.1.4 Building the bitmap files</h4>
<span id="index-Rbitmap_002edll"></span>

<p>The file
<samp><var>R_HOME</var>/library/grDevices/libs/{i386,x64}Rbitmap.dll</samp> is
not built automatically.
</p>
<p>Running <code>make</code> in <samp><var>R_HOME</var>/src/gnuwin32/bitmap</samp> or
<code>make bitmapdll</code> in <samp><var>R_HOME</var>/src/gnuwin32</samp> should build
<samp>Rbitmap.dll</samp> and install it under
<samp><var>R_HOME</var>/library/grDevices/libs</samp>.
</p>
<hr>
<span id="Building-the-cairo-devices-files"></span><div class="header">
<p>
Next: <a href="#Checking-the-build" accesskey="n" rel="next">Checking the build</a>, Previous: <a href="#Building-the-bitmap-files" accesskey="p" rel="prev">Building the bitmap files</a>, Up: <a href="#Building-from-source" accesskey="u" rel="up">Building from source</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Function-and-variable-index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Building-the-cairo-devices"></span><h4 class="subsection">3.1.5 Building the cairo devices</h4>
<span id="index-winCairo_002edll"></span>

<p>The devices based on cairographics (<code>svg</code>, <code>cairo_pdf</code>,
<code>cairo_ps</code> and the <code>type = &quot;cairo&quot;</code> versions of <code>png</code>,
<code>jpeg</code>, <code>tiff</code> and <code>bmp</code>) are implemented in a separate
DLL <samp>winCairo.dll</samp> which is loaded when one of these devices is
first used.  It is not built by default, and needs to be built after
<samp>Rbitmap.dll</samp>, by <code>make cairodevices</code>.
</p>
<p>To enable the building of these devices you need to install the static
cairographics libraries built by Simon Urbanek at
<a href="http://www.rforge.net/Cairo/files/cairo-current-win.tar.gz">http://www.rforge.net/Cairo/files/cairo-current-win.tar.gz</a>.  Set
the macro &lsquo;<samp>CAIRO_HOME</samp>&rsquo; in <samp>MkRules.local</samp>.  (Note that this
tarball unpacks with a top-level directory <samp>src/</samp>:
&lsquo;<samp>CAIRO_HOME</samp>&rsquo; needs to include that directory in its path.)
These files are also included in the win-extras tarball that you
can obtain from pqR-project.org, as described in src/gnuwin32/INSTALL.
</p>

<hr>
<span id="Checking-the-build"></span><div class="header">
<p>
Next: <a href="#Building-the-manuals" accesskey="n" rel="next">Building the manuals</a>, Previous: <a href="#Building-the-cairo-devices-files" accesskey="p" rel="prev">Building the cairo devices files</a>, Up: <a href="#Building-from-source" accesskey="u" rel="up">Building from source</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Function-and-variable-index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Checking-the-build-1"></span><h4 class="subsection">3.1.6 Checking the build</h4>

<p>You can test a build by running
</p>
<div class="example">
<pre class="example">make check
</pre></div>

<p>The recommended packages can be checked by
</p>
<div class="example">
<pre class="example">make check-recommended
</pre></div>

<p>Other levels of checking are
</p>
<div class="example">
<pre class="example">make check-devel
</pre></div>

<p>for a more thorough check of the R functionality, and
</p>
<div class="example">
<pre class="example">make check-all
</pre></div>

<p>for <code>check-devel</code> and <code>check-recommended</code>.
</p>

<hr>
<span id="Building-the-manuals"></span><div class="header">
<p>
Next: <a href="#Building-the-Inno-Setup-installer" accesskey="n" rel="next">Building the Inno Setup installer</a>, Previous: <a href="#Checking-the-build" accesskey="p" rel="prev">Checking the build</a>, Up: <a href="#Building-from-source" accesskey="u" rel="up">Building from source</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Function-and-variable-index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Building-the-manuals-1"></span><h4 class="subsection">3.1.7 Building the manuals</h4>

<p>The PDF manuals can be made by
</p>
<div class="example">
<pre class="example">make manuals
</pre></div>

<p>If you want to make the info versions (not including the Reference
Manual), use
</p>
<div class="example">
<pre class="example">cd ../../doc/manual
make -f Makefile.win info
</pre></div>

<p>(all assuming you have <code>pdftex</code>/<code>pdflatex</code> installed and
in your path).
</p>
<p>See the <a href="#Making-the-manuals">Making the manuals</a> section in the Unix-alike section for setting
options such as the paper size and the fonts used.
</p>
<hr>
<span id="Building-the-Inno-Setup-installer"></span><div class="header">
<p>
Next: <a href="#Building-the-MSI-installer" accesskey="n" rel="next">Building the MSI installer</a>, Previous: <a href="#Building-the-manuals" accesskey="p" rel="prev">Building the manuals</a>, Up: <a href="#Building-from-source" accesskey="u" rel="up">Building from source</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Function-and-variable-index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Building-the-Inno-Setup-installer-1"></span><h4 class="subsection">3.1.8 Building the Inno Setup installer</h4>

<p>You need to have the files for a complete R build, including bitmap and
Tcl/Tk support and the manuals, as well as the recommended packages and
Inno Setup (see <a href="#The-Inno-Setup-installer">The Inno Setup installer</a>).
</p>
<p>Once everything is set up
</p>
<div class="example">
<pre class="example">make distribution
make check-all
</pre></div>

<p>will make all the pieces and the installers and put them in the
<samp>gnuwin32/cran</samp> subdirectory, then check the build.  This works by
building all the parts in the sequence:
</p>
<div class="example">
<pre class="example">rbuild <span class="roman">(the executables, the <acronym>FAQ</acronym> docs etc.)</span>
rpackages <span class="roman">(the base packages)</span>
htmldocs <span class="roman">(the HTML documentation)</span>
bitmapdll <span class="roman">(the bitmap support files)</span>
cairodevices <span class="roman">(the cairo-based graphics devices)</span>
recommended <span class="roman">(the recommended packages)</span>
vignettes <span class="roman">(the vignettes in package <strong>grid</strong>:</span>
	  <span class="roman"> only needed if building from an svn checkout)</span>
manuals <span class="roman">(the PDF manuals)</span>
rinstaller <span class="roman">(the install program)</span>
crandir <span class="roman">(the <acronym>CRAN</acronym> distribution directory, only for 64-bit builds)</span>
</pre></div>

<p>The parts can be made individually if a full build is not needed, but
earlier parts must be built before later ones.  (The <samp>Makefile</samp>
doesn&rsquo;t enforce this dependency&mdash;some build targets force a lot of
computation even if all files are up to date.)  The first four targets
are the default build if just <code>make</code> (or <code>make all</code>) is
run.
</p>
<p>If you want to customize the installation by adding extra packages,
replace <code>make rinstaller</code> by something like
</p>
<div class="example">
<pre class="example">make rinstaller EXTRA_PKGS='pkg1 pkg2 pkg3'
</pre></div>


<p>An alternative way to customize the installer starting with a binary
distribution is to first make an installation of R from the standard
installer, then add packages and make other customizations to that
installation.  Then (after having customized file <samp>MkRules</samp>,
possibly <em>via</em> <samp>MkRules.local</samp>, and having made R in the
source tree) in <samp>src/gnuwin32/installer</samp> run
</p>
<div class="example">
<pre class="example">make myR IMAGEDIR=rootdir
</pre></div>

<p>where <samp>rootdir</samp> is the path to the root of the customized
installation (in double quotes if it contains spaces or backslashes).
</p>
<p>Both methods create an executable with a standard name such as
<samp>R-2.15.1-win.exe</samp>, so please rename it to indicate that
it is customized.  If you intend to <em>distribute</em> a customized
installer please do check that license requirements are met &ndash; note that
the installer will state that the contents are distributed under GPL-2
and this has a requirement for <em>you</em> to supply the complete sources
(including the R sources even if you started with a binary distribution
of R, and also the sources of any extra packages (including their
external software) which are included).
</p>

<p>The defaults for the startup parameters may also be customized.  For example
</p>
<div class="example">
<pre class="example">make myR IMAGEDIR=rootdir MDISDI=1
</pre></div>

<p>will create an installer that defaults to installing R to run in SDI
mode.  See <samp>src/gnuwin32/installer/Makefile</samp> for the names and
values that can be set.
</p>
<p>The standard CRAN distribution of a 32/64-bit installer is made by first
building 32-bit R (just
</p>
<div class="example">
<pre class="example">make 32-bit
</pre></div>

<p>is needed), and then building 64-bit R with the macro <code>HOME32</code> set
in file <samp>MkRules.local</samp> to the top-level directory of the 32-bit
build.  Then the <code>make rinstaller</code> step copies the files that
differ between architectures from the 32-bit build as it builds the
installer image.
</p>
<hr>
<span id="Building-the-MSI-installer"></span><div class="header">
<p>
Next: <a href="#Cross_002dbuilding-on-Linux" accesskey="n" rel="next">Cross-building on Linux</a>, Previous: <a href="#Building-the-Inno-Setup-installer" accesskey="p" rel="prev">Building the Inno Setup installer</a>, Up: <a href="#Building-from-source" accesskey="u" rel="up">Building from source</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Function-and-variable-index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Building-the-MSI-installer-1"></span><h4 class="subsection">3.1.9 Building the MSI installer</h4>

<p>It is also possible to build an installer for use with Microsoft
Installer.  This is intended for use by sysadmins doing automated
installs, and is not recommended for casual use.
</p>
<p>It makes use of the Windows Installer XML (WiX) toolkit <em>version
3.0 or 3.5</em> available from <a href="http://wix.sourceforge.net/">http://wix.sourceforge.net/</a>.  Once WiX
is installed, set the path to its home directory in
<samp>MkRules.local</samp>.
</p>
<p>You need to have the files for a complete R build, including bitmap and
Tcl/Tk support and the manuals, as well as the recommended packages.
There is no option in the installer to customize startup options, so
edit <samp>etc/Rconsole</samp> and <samp>etc/Rprofile.site</samp> to set these as
required.  Then
</p>
<div class="example">
<pre class="example">cd installer
make msi
</pre></div>

<p>which will result in a file with a name like
<samp>R-2.15.1-win32.msi</samp>.  This can be double-clicked to be
installed, but those who need it will know what to do with it (usually
by running <code>msiexec /i</code> with additional options).  Properties
that users might want to set from the <code>msiexec</code> command line
include &lsquo;<samp>ALLUSERS</samp>&rsquo;, &lsquo;<samp>INSTALLDIR</samp>&rsquo; (something like
<samp>c:\Program Files\R\R-2.15.1</samp>) and &lsquo;<samp>RMENU</samp>&rsquo; (the path
to the &lsquo;<samp>R</samp>&rsquo; folder on the start menu) and &lsquo;<samp>STARTDIR</samp>&rsquo; (the
starting directory for R shortcuts, defaulting to something like
<samp>c:\Users\name\Documents\R</samp>).
</p>
<p>The MSI installer can be built both from a 32-bit build of R
(<samp>R-2.15.1-win32.msi</samp>) and from a 64-bit build of R
(<samp>R-2.15.1-win64.msi</samp>, optionally including 32-bit files
by setting the macro <code>HOME32</code>, when the name is
<samp>R-2.15.1-win.msi</samp>).  Unlike the main installer, a 64-bit
MSI installer can only be run on 64-bit Windows.
</p>
<p>Thanks to David del Campo (Dept of Statistics, University of Oxford)
for suggesting WiX and building a prototype installer.
</p>
<hr>
<span id="Cross_002dbuilding-on-Linux"></span><div class="header">
<p>
Next: <a href="#g_t64_002dbit-Windows-builds" accesskey="n" rel="next">64-bit Windows builds</a>, Previous: <a href="#Building-the-MSI-installer" accesskey="p" rel="prev">Building the MSI installer</a>, Up: <a href="#Building-from-source" accesskey="u" rel="up">Building from source</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Function-and-variable-index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Cross_002dbuilding-on-Linux-1"></span><h4 class="subsection">3.1.10 Cross-building on Linux</h4>

<p>Support for cross-building was withdrawn at R 2.9.0.
</p>
<hr>
<span id="g_t64_002dbit-Windows-builds"></span><div class="header">
<p>
Previous: <a href="#Cross_002dbuilding-on-Linux" accesskey="p" rel="prev">Cross-building on Linux</a>, Up: <a href="#Building-from-source" accesskey="u" rel="up">Building from source</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Function-and-variable-index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="g_t64_002dbit-Windows-builds-1"></span><h4 class="subsection">3.1.11 64-bit Windows builds</h4>

<p>To build a 64-bit version of R you need a 64-bit toolchain: the only one
discussed here is based on the work of the MinGW-w64 project
(<a href="http://sourceforge.net/projects/mingw-w64/">http://sourceforge.net/projects/mingw-w64/</a>, but commercial
compilers such as those from Intel and PGI could be used (and have been
by R redistributors).
</p>
<p>Support for MinGW-w64 was developed in the R sources over the period
2008&ndash;10 and was first released as part of R 2.11.0.  The assistance
of Yu Gong at a crucial step in porting R to MinGW-w64 is gratefully
acknowledged, as well as help from Kai Tietz, the lead developer of the
MinGW-w64 project.
</p>
<p>Windows 64-bit is now completely integrated into the R and package
build systems.
</p>
<hr>
<span id="Testing-a-Windows-Installation"></span><div class="header">
<p>
Previous: <a href="#Building-from-source" accesskey="p" rel="prev">Building from source</a>, Up: <a href="#Installing-R-under-Windows" accesskey="u" rel="up">Installing R under Windows</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Function-and-variable-index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Testing-an-Installation"></span><h3 class="section">3.2 Testing an Installation</h3>

<p>The Windows installer contains a set of test files used when building
R.
</p>
<p>The <code>Rtools</code> are not needed to run these tests. but more
comprehensive analysis of errors will be given if <code>diff</code> is in
the path (and <code>errorsAreFatal = FALSE</code> is then not needed below).
</p>
<p>Launch either <code>Rgui</code> or <code>Rterm</code>, preferably with
<samp>--vanilla</samp>.  Then run
</p>
<div class="example">
<pre class="example">library(&quot;tools&quot;)
testInstalledBasic(&quot;both&quot;)
testInstalledPackages(&quot;base&quot;, errorsAreFatal = FALSE)
testInstalledPackages(&quot;recommended&quot;, errorsAreFatal = FALSE)
</pre></div>

<p>runs the basic tests and then all the tests on the standard and
recommended packages.  These tests can be run from anywhere: they write
their results in the <samp>tests</samp> folder of the R home directory (as
given by <code>R.home()</code>), and hence may need to be run under the
account used to install R.
</p>

<hr>
<span id="Installing-R-under-_0028Mac_0029-OS-X"></span><div class="header">
<p>
Next: <a href="#Running-R" accesskey="n" rel="next">Running R</a>, Previous: <a href="#Installing-R-under-Windows" accesskey="p" rel="prev">Installing R under Windows</a>, Up: <a href="#Top" accesskey="u" rel="up">Top</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Function-and-variable-index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Installing-R-under-_0028Mac_0029-OS-X-1"></span><h2 class="chapter">4 Installing R under (Mac) OS X</h2>
<span id="index-OS-X-1"></span>

<p>The current version of pqR has tested under OS X, and works with
the Xcode compilers (except that these do not support OpenMP, and
hence do not support helper threas), and with recent versions of gcc
(4.7 to 4.9).  This section describes R-2.15.0, but may apply to
pqR as well.
</p>
<p>The <samp>bin/macosx</samp> directory of a <acronym>CRAN</acronym> site contains
binaries for OS X for a base distribution and a large number of
add-on packages from <acronym>CRAN</acronym> to run on OS X 10.[567].
</p>
<p>The simplest way is to use <samp>R-2.15.0.pkg</samp>: just
double-click on the icon.  Note that Tcl/Tk and the compilers
need to be installed separately if needed.
</p>
<p>See the <a href="http://CRAN.R-project.org/bin/macosx/RMacOSX-FAQ.html">R
for Mac OS X <acronym>FAQ</acronym></a> for more details.
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top">&bull; <a href="#Building-from-source-on-_0028Mac_0029-OS-X" accesskey="1">Building from source on (Mac) OS X</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
</table>

<hr>
<span id="Building-from-source-on-_0028Mac_0029-OS-X"></span><div class="header">
<p>
Previous: <a href="#Installing-R-under-_0028Mac_0029-OS-X" accesskey="p" rel="prev">Installing R under (Mac) OS X</a>, Up: <a href="#Installing-R-under-_0028Mac_0029-OS-X" accesskey="u" rel="up">Installing R under (Mac) OS X</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Function-and-variable-index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Building-from-source-on-_0028Mac_0029-OS-X-1"></span><h3 class="section">4.1 Building from source on (Mac) OS X</h3>

<p>If you want to build this port from the sources, you should read the R for
Mac OS X FAQ for full details.  You will need to collect and install
some tools as explained in that document.  Then you have to unpack the
R sources and configure R appropriately, for example
</p>
<div class="example">
<pre class="example">tar -zxvf R-2.15.0.tar.gz
cd R-2.15.0
./configure --with-blas='-framework Accelerate' --with-aqua --enable-R-framework
make
</pre></div>

<p>and then sit back and wait.  The first option enables use of
a BLAS built into OS X.  This may be much faster that the BLAS
distributed with pqR, especially if you have many processor cores,
but not necessarily.  The accuracy of results may also differ.
</p>
<p>The second line of options are also default on OS X, but needed only
if you want to build R for use with <code>R.app</code> Console, and imply
<samp>--enable-R-shlib</samp> to build R as a shared/dynamic library.
These options configure R to be built and installed as a framework
called <samp>R.framework</samp>.  The default installation path for
<samp>R.framework</samp> is <samp>/Library/Frameworks</samp> but this can be changed
at configure time by specifying the flag
<samp>--enable-R-framework[=<var>DIR</var>]</samp> or at install time as
</p>
<div class="example">
<pre class="example">make prefix=/where/you/want/R.framework/to/go install
</pre></div>

<p>(the final <samp>R.framework</samp> directory should not be included in the
path).
</p>
<p>For compatibility with the <acronym>CRAN</acronym> distribution you may need to
specify <samp>--with-included-gettext</samp> to avoid linking against a
&lsquo;<samp>libintl</samp>&rsquo; dynamic library you may have available, for example in
<samp>/usr/local/lib</samp>.
</p>
<p>Note that building the <samp>R.app</samp> GUI console is a separate project:
see the OS X FAQ for details.
</p>

<hr>
<span id="Running-R"></span><div class="header">
<p>
Next: <a href="#Add_002don-packages" accesskey="n" rel="next">Add-on packages</a>, Previous: <a href="#Installing-R-under-_0028Mac_0029-OS-X" accesskey="p" rel="prev">Installing R under (Mac) OS X</a>, Up: <a href="#Top" accesskey="u" rel="up">Top</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Function-and-variable-index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Running-R-1"></span><h2 class="chapter">5 Running R</h2>

<p>How to start R and what command-line options are available is discussed
in <a href="./R-intro.html#Invoking-R">Invoking R</a> in <cite>An Introduction to R</cite>.
</p>
<p>You should ensure that the shell has set adequate resource limits: R
expects a stack size of at least 8MB and to be able to open at least 256
file descriptors.  (Any modern OS will have default limits at least as
large as these, but apparently NetBSD does not.  Use the shell command
<code>ulimit</code> (<code>sh</code>/<code>bash</code>) or <code>limit</code>
(<code>csh</code>/<code>tcsh</code>) to check.)
</p>
<p>R makes use of a number of environment variables, the default values
of many of which are set in file <samp><var>R_HOME</var>/etc/Renviron</samp> (there
are none set by default on Windows and hence no such file).  These are
set at <code>configure</code> time, and you would not normally want to
<span id="index-R_005fPAPERSIZE-1"></span>
change them &ndash; a possible exception is <code>R_PAPERSIZE</code> (see <a href="#Setting-paper-size">Setting paper size</a>).  The paper size will be deduced from the &lsquo;<samp>LC_PAPER</samp>&rsquo;
locale category if it exists and <code>R_PAPERSIZE</code> is unset, and this
will normally produce the right choice from &lsquo;<samp>a4</samp>&rsquo; and &lsquo;<samp>letter</samp>&rsquo;
on modern Unix-alikes (but can always be overridden by setting
<code>R_PAPERSIZE</code>).
</p>
<p>Various environment variables can be set to determine where R creates
its per-session temporary directory.  The environment variables
<span id="index-TMPDIR-2"></span>
<span id="index-TMP"></span>
<span id="index-TEMP"></span>
<code>TMPDIR</code>, <code>TMP</code> and <code>TEMP</code> are searched in turn and the
first one which is set and points to a writable area is used.  If none
do, the final default is <samp>/tmp</samp> on Unix-alikes and the value of
<span id="index-R_005fUSER"></span>
<code>R_USER</code> on Windows.
</p>
<p>Some Unix-alike systems are set up to remove files and directories
periodically from <samp>/tmp</samp>, for example by a <code>cron</code> job
<span id="index-TMPDIR-3"></span>
running <code>tmpwatch</code>.  Set <code>TMPDIR</code> to another directory
before running long-running jobs on such a system.
</p>
<p>Note that <code>TMPDIR</code> will be used to execute <code>configure</code>
scripts when installing packages, so if <samp>/tmp</samp> has been mounted as
&lsquo;<samp>noexec</samp>&rsquo;, <code>TMPDIR</code> needs to be set to a directory from which
execution is allowed.
</p>
<hr>
<span id="Add_002don-packages"></span><div class="header">
<p>
Next: <a href="#Internationalization" accesskey="n" rel="next">Internationalization</a>, Previous: <a href="#Running-R" accesskey="p" rel="prev">Running R</a>, Up: <a href="#Top" accesskey="u" rel="up">Top</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Function-and-variable-index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Add_002don-packages-1"></span><h2 class="chapter">6 Add-on packages</h2>
<span id="index-Packages"></span>
<span id="index-Libraries"></span>

<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top">&bull; <a href="#Default-packages" accesskey="1">Default packages</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Managing-libraries" accesskey="2">Managing libraries</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Installing-packages" accesskey="3">Installing packages</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Updating-packages" accesskey="4">Updating packages</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Removing-packages" accesskey="5">Removing packages</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Setting-up-a-package-repository" accesskey="6">Setting up a package repository</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Checking-installed-source-packages" accesskey="7">Checking installed source packages</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
</table>

<p>It is helpful to use the correct terminology.  A <em>package</em> is
loaded from a <em>library</em> by the function <code>library()</code>.  Thus a
library is a directory containing installed packages; the main library
is <samp><var>R_HOME</var>/library</samp>, but others can be used, for example by
<span id="index-R_005fLIBS"></span>
setting the environment variable <code>R_LIBS</code> or using the R function
<code>.libPaths()</code>.
</p>
<hr>
<span id="Default-packages"></span><div class="header">
<p>
Next: <a href="#Managing-libraries" accesskey="n" rel="next">Managing libraries</a>, Previous: <a href="#Add_002don-packages" accesskey="p" rel="prev">Add-on packages</a>, Up: <a href="#Add_002don-packages" accesskey="u" rel="up">Add-on packages</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Function-and-variable-index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Default-packages-1"></span><h3 class="section">6.1 Default packages</h3>
<span id="index-Packages_002c-default"></span>

<p>The set of packages loaded on startup is by default
</p>
<div class="example">
<pre class="example">&gt; getOption(&quot;defaultPackages&quot;)
[1] &quot;datasets&quot;  &quot;utils&quot;     &quot;grDevices&quot; &quot;graphics&quot;  &quot;stats&quot;     &quot;methods&quot;
</pre></div>

<p>(plus, of course, <strong>base</strong>) and this can be changed by setting the
option in startup code (e.g. in <samp>~/.Rprofile</samp>).  It is initially
<span id="index-R_005fDEFAULT_005fPACKAGES"></span>
set to the value of the environment variable <code>R_DEFAULT_PACKAGES</code> if
set (as a comma-separated list).  Setting <code>R_DEFAULT_PACKAGES=NULL</code>
ensures that only package <strong>base</strong> is loaded.
</p>
<p>Changing the set of default packages is normally used to reduce the set
for speed when scripting: in particular not using <strong>methods</strong> will
reduce the start-up time by a factor of up to two (and this is done by
<code>Rscript</code>).  But it can also be used to customize R, e.g.
for class use.
</p>

<hr>
<span id="Managing-libraries"></span><div class="header">
<p>
Next: <a href="#Installing-packages" accesskey="n" rel="next">Installing packages</a>, Previous: <a href="#Default-packages" accesskey="p" rel="prev">Default packages</a>, Up: <a href="#Add_002don-packages" accesskey="u" rel="up">Add-on packages</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Function-and-variable-index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Managing-libraries-1"></span><h3 class="section">6.2 Managing libraries</h3>
<span id="index-Libraries_002c-managing"></span>

<p>R packages are installed into <em>libraries</em>, which are
directories in the file system containing a subdirectory for each
package installed there.
</p>
<p>R comes with a single library, <samp><var>R_HOME</var>/library</samp> which is
the value of the R object &lsquo;<samp>.Library</samp>&rsquo; containing the standard and
recommended<a id="DOCF9" href="#FOOT9"><sup>9</sup></a>  packages.
Both sites and users can create others and make use of them (or not) in
an R session.  At the lowest level &lsquo;<samp>.libPaths()</samp>&rsquo; can be used to
add paths to the collection of libraries or to report the current
collection.
</p>
<span id="index-Libraries_002c-site"></span>
<span id="index-Site-libraries"></span>
<p>R will automatically make use of a site-specific library
<samp><var>R_HOME</var>/site-library</samp> if this exists (it does not in a
vanilla R installation).  This location can be overridden by
setting<a id="DOCF10" href="#FOOT10"><sup>10</sup></a> &lsquo;<samp>.Library.site</samp>&rsquo; in
<samp><var>R_HOME</var>/etc/Rprofile.site</samp>, or (not recommended) by setting
the
<span id="index-R_005fLIBS_005fSITE"></span>
environment variable <code>R_LIBS_SITE</code>.  Like &lsquo;<samp>.Library</samp>&rsquo;, the
site libraries are always included by &lsquo;<samp>.libPaths()</samp>&rsquo;.
</p>
<span id="index-Libraries_002c-user"></span>
<span id="index-User-libraries"></span>
<span id="index-R_005fLIBS_005fUSER"></span>
<p>Users can have one or more libraries, normally specified by the
environment variable <code>R_LIBS_USER</code>.  This has a default value (use
&lsquo;<samp>Sys.getenv(&quot;R_LIBS_USER&quot;)</samp>&rsquo; within an R session to see what it
is), but only is used if the corresponding directory actually exists
(which by default it will not).
</p>
<p>Both <code>R_LIBS_USER</code> and <code>R_LIBS_SITE</code> can specify multiple
library paths, separated by colons (semicolons on Windows).
</p>

<hr>
<span id="Installing-packages"></span><div class="header">
<p>
Next: <a href="#Updating-packages" accesskey="n" rel="next">Updating packages</a>, Previous: <a href="#Managing-libraries" accesskey="p" rel="prev">Managing libraries</a>, Up: <a href="#Add_002don-packages" accesskey="u" rel="up">Add-on packages</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Function-and-variable-index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Installing-packages-1"></span><h3 class="section">6.3 Installing packages</h3>
<span id="index-Packages_002c-installing"></span>

<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top">&bull; <a href="#Windows-packages" accesskey="1">Windows packages</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#OS-X-packages" accesskey="2">OS X packages</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Customizing-package-compilation" accesskey="3">Customizing package compilation</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Multiple-sub_002darchitectures" accesskey="4">Multiple sub-architectures</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Byte_002dcompilation" accesskey="5">Byte-compilation</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
</table>


<p>Packages may be distributed in source form or compiled binary form.
Installing source packages which contain C/C++/Fortran code requires
that compilers and related tools be installed.  Binary packages are
platform-specific and generally need no special tools to install, but
see the documentation for your platform for details.
</p>
<p>Note that you may need to specify implicitly or explicitly the library to
which the package is to be installed.  This is only an issue if you have
more than one library, of course.
</p>
<p>If installing packages on a Unix-alike to be used by other users, ensure
that the system <code>umask</code> is set to give sufficient permissions (see
also <code>Sys.umask</code> in R).  (To a large extent this is unnecessary
in recent versions of R, which install packages as if <code>umask = 022</code>.)
</p>
<p>For most users it suffices to call
&lsquo;<samp>install.packages(<var>pkgname</var>)</samp>&rsquo; or its GUI equivalent if the
intention is to install a <acronym>CRAN</acronym> package and internet access is
available.<a id="DOCF11" href="#FOOT11"><sup>11</sup></a>  On most systems &lsquo;<samp>install.packages()</samp>&rsquo;
will allow packages to be selected from a list box.
</p>
<p>To install packages from source in a Unix-alike use
</p>
<div class="example">
<pre class="example">R CMD INSTALL -l /path/to/library <var>pkg1</var> <var>pkg2</var> &hellip;
</pre></div>

<p>The part &lsquo;<samp>-l /path/to/library</samp>&rsquo; can be omitted, in which case the
first library of a normal R session is used (that shown by
<code>.libPaths()[1]</code>).
</p>
<span id="index-TMPDIR-4"></span>
<p>Ensure that the environment variable <code>TMPDIR</code> is either unset (and
<samp>/tmp</samp> exists and can be written in and executed from) or points to
a valid temporary directory.
</p>
<p>There are a number of options available: use <code>R CMD INSTALL --help</code>
to see the current list.
</p>
<span id="index-install_002epackages"></span>
<p>Alternatively, packages can be downloaded and installed from within
R.  First set the option <code>CRAN</code> to your nearest <acronym>CRAN</acronym>
mirror using <code>chooseCRANmirror()</code>.  Then download
and install packages <strong>pkg1</strong> and <strong>pkg2</strong> by
</p>
<div class="example">
<pre class="example">&gt; install.packages(c(&quot;pkg1&quot;, &quot;pkg2&quot;))
</pre></div>

<p>The essential dependencies of the specified packages will also be fetched.
Unless the library is specified (argument <code>lib</code>) the first library
in the library search path is used: if this is not writable, R will
ask the user (in an interactive session) if the default user library
should be created, and if allowed to will install the packages there.
</p>

<p>If you want to fetch a package and all those it depends on (in any way)
that are not already installed, use e.g.
</p>
<div class="example">
<pre class="example">&gt; install.packages(&quot;Rcmdr&quot;, dependencies = TRUE)
</pre></div>

<p><code>install.packages</code> can install a source package from a local
<samp>.tar.gz</samp> file by setting argument <code>repos</code> to <code>NULL</code>:
this will be selected automatically if the name given is a single
<samp>.tar.gz</samp> file.
</p>
<p><code>install.packages</code> can look in several repositories, specified as a
character vector by the argument <code>repos</code>: these can include a
<acronym>CRAN</acronym> mirror, Bioconductor, Omegahat, R-forge, local archives,
local files, &hellip;).  Function <code>setRepositories()</code> can select
amongst those repositories that the R installation is aware of.
</p>
<p>Naive users sometimes forget that as well as installing a package, they
have to use <code>library</code> to make its functionality available.
</p>
<hr>
<span id="Windows-packages"></span><div class="header">
<p>
Next: <a href="#OS-X-packages" accesskey="n" rel="next">OS X packages</a>, Previous: <a href="#Installing-packages" accesskey="p" rel="prev">Installing packages</a>, Up: <a href="#Installing-packages" accesskey="u" rel="up">Installing packages</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Function-and-variable-index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Windows"></span><h4 class="subsection">6.3.1 Windows</h4>

<p>What <code>install.packages</code> does by default is different on Unix-alikes
(except OS X) and Windows.  On Unix-alikes it consults the list of
available <em>source</em> packages on <acronym>CRAN</acronym> (or other
repository/ies), downloads the latest version of the package sources,
and installs them (via <code>R CMD INSTALL</code>).  On Windows it looks (by
default) at the list of <em>binary</em> versions of packages available for
your version of R and downloads the latest versions (if any),
although optionally it will also download and install a source package
by setting the <code>type</code> argument.
</p>
<p>On Windows <code>install.packages</code> can also install a binary package
from a local <samp>zip</samp> file by setting argument <code>repos</code> to
<code>NULL</code>.   <code>Rgui.exe</code> has a menu <code>Packages</code> with a GUI
interface to <code>install.packages</code>, <code>update.packages</code> and
<code>library</code>.
</p>
<p>Windows binary packages for R are nowadays distributed as a single
binary containing either or both architectures.
</p>
<p>A few of the binary packages need other software to be installed on your
system: see for example
<a href="http://cran.r-project.org/bin/windows/contrib/2.14/@ReadMe">http://cran.r-project.org/bin/windows/contrib/2.14/@ReadMe</a>.
For 64-bit builds, packages using Gtk+ (<a href="http://CRAN.R-project.org/package=Cairo"><strong>Cairo</strong></a>, <a href="http://CRAN.R-project.org/package=RGtk2"><strong>RGtk2</strong></a>,
<a href="http://CRAN.R-project.org/package=cairoDevice"><strong>cairoDevice</strong></a> and those that depend on them) need the <samp>bin</samp>
directory of a bundled distribution from
<a href="http://www.gtk.org/download-windows-64bit.html">http://www.gtk.org/download-windows-64bit.html</a> in the path: it
should work to have both Gtk+ <samp>bin</samp> directories in the path on a
64-bit version of R.
</p>
<p><code>R CMD INSTALL</code> works in Windows to install source packages if
you have set up the tools needed (see <a href="#The-Windows-toolset">The Windows toolset</a>).  No
additional tools are needed if the package does not contain compiled
code, and <code>install.packages(type=&quot;source&quot;)</code> will work for such
packages (and for those with compiled code if the tools are in the path).
</p>
<p>We have seen occasional permission problems after unpacking source
packages on some Vista/Windows 7/Server 2008 systems: these have been
circumvented by setting the environment variable <code>R_INSTALL_TAR</code> to
&lsquo;<samp>tar.exe</samp>&rsquo;.
<span id="index-R_005fINSTALL_005fTAR"></span>
</p>
<p>If you have only a source package that is known to work with current
R and just want a binary Windows build of it, you could make use of
the building service offered at
<a href="http://win-builder.r-project.org/">http://win-builder.r-project.org/</a>.
</p>
<p>For almost all packages <code>R CMD INSTALL</code> will attempt to install
both 32- and 64-bit builds of a package if run from a 32/64-bit install
of R on a 64-bit version of Windows.  It will report success if the
installation of the architecture of the running <code>R</code> succeeded,
whether or not the other architecture was successfully installed.
</p>
<p>The exceptions are packages with a non-empty <samp>configure.win</samp> script
or which make use of <samp>src/Makefile.win</samp>.  If <samp>configure.win</samp>
does something appropriate to both architectures use<a id="DOCF12" href="#FOOT12"><sup>12</sup></a> option
<samp>--force-biarch</samp>: otherwise <code>R CMD INSTALL
--merge-multiarch</code> can be applied to a source tarball to merge separate
32- and 64-bit installs.  (This can only be applied to a tarball, and
will only succeed if both installs succeed.)
</p>
<p>If you have a package without compiled code and no Windows-specific
help, you can zip up an installation on another OS and install from the
that zip file on Windows.  However, such a package can be installed from
the sources on Windows without any additional tools.
</p>
<hr>
<span id="OS-X-packages"></span><div class="header">
<p>
Next: <a href="#Customizing-package-compilation" accesskey="n" rel="next">Customizing package compilation</a>, Previous: <a href="#Windows-packages" accesskey="p" rel="prev">Windows packages</a>, Up: <a href="#Installing-packages" accesskey="u" rel="up">Installing packages</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Function-and-variable-index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="OS-X"></span><h4 class="subsection">6.3.2 OS X</h4>

<p>On OS X <code>install.packages</code> works as it does on other Unix-alike
systems, but there are additional types <code>mac.binary*</code> (the default
in the <acronym>CRAN</acronym> distribution) that can be passed to
<code>install.packages</code> in order to download and install binary packages
from a suitable repository, and type <code>mac.binary.leopard</code> is the
default for <acronym>CRAN</acronym> builds of R.  These OS X binary package
files have the extension &lsquo;<samp>tgz</samp>&rsquo;.  The R.app GUI provides for
installation of either binary or source packages, from <acronym>CRAN</acronym> or
local files.
</p>
<hr>
<span id="Customizing-package-compilation"></span><div class="header">
<p>
Next: <a href="#Multiple-sub_002darchitectures" accesskey="n" rel="next">Multiple sub-architectures</a>, Previous: <a href="#OS-X-packages" accesskey="p" rel="prev">OS X packages</a>, Up: <a href="#Installing-packages" accesskey="u" rel="up">Installing packages</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Function-and-variable-index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Customizing-package-compilation-1"></span><h4 class="subsection">6.3.3 Customizing package compilation</h4>

<p>The R system and package-specific compilation flags can be overridden or
added to by setting the appropriate Make variables in the personal file
<samp><var>HOME</var>/.R/Makevars-<var>R_PLATFORM</var></samp> (but
<samp><var>HOME</var>/.R/Makevars.win</samp> or <samp><var>HOME</var>/.R/Makevars.win64</samp>
on Windows), or if that does not exist, <samp><var>HOME</var>/.R/Makevars</samp>,
where &lsquo;<samp>R_PLATFORM</samp>&rsquo; is the platform for which R was built, as
available in the <code>platform</code> component of the R variable
<code>R.version</code>.
</p>
<p>Package developers are encouraged to use this mechanism to enable a
reasonable amount of diagnostic messaging (&ldquo;warnings&rdquo;) when compiling,
such as e.g. <samp>-Wall -pedantic</samp> for tools from GCC, the Gnu
Compiler Collection.
</p>
<p>Note that this mechanism can also be used when it necessary to change
the optimization level for a particular package.  For example
</p>
<div class="example">
<pre class="example">## <span class="roman">for C code</span>
CFLAGS=-g -O
## <span class="roman">for C++ code</span>
CXXFLAGS=-g -O
## <span class="roman">for Fortran code</span>
FFLAGS=-g -O
## <span class="roman">for Fortran 95 code</span>
FCFLAGS=-g -O
</pre></div>

<p>There is also provision for a site-wide <samp>Makevars.site</samp> file under
<samp><var>R_HOME</var>/etc</samp> (in a sub-architecture-specific directory if
appropriate).  This is read immediately after <samp>Makeconf</samp>.
</p>
<hr>
<span id="Multiple-sub_002darchitectures"></span><div class="header">
<p>
Next: <a href="#Byte_002dcompilation" accesskey="n" rel="next">Byte-compilation</a>, Previous: <a href="#Customizing-package-compilation" accesskey="p" rel="prev">Customizing package compilation</a>, Up: <a href="#Installing-packages" accesskey="u" rel="up">Installing packages</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Function-and-variable-index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Multiple-sub_002darchitectures-1"></span><h4 class="subsection">6.3.4 Multiple sub-architectures</h4>

<p>When installing packages from their sources, there are some extra
considerations on installations which use sub-architectures.  These are
commonly used on (Mac) OS X and Windows, but can in principle be used on
other platforms.
</p>
<p>When a source package is installed by a build of R which supports
multiple sub-architectures, the normal installation process installs the
packages for all sub-architectures, but only tests it can be loaded
under the current sub-architecture.  The exceptions are
</p>
<dl compact="compact">
<dt><em>Unix-alikes</em></dt>
<dd>
<p>where there is an <samp>configure</samp> script, or a file <samp>src/Makefile</samp>.
</p>
</dd>
<dt><em>Windows</em></dt>
<dd>
<p>where there is a non-empty <samp>configure.win</samp> script, or a file
<samp>src/Makefile.win</samp> (with some exceptions where the package is known
to have an architecture-independent <samp>configure.win</samp>, or if
<samp>--force-biarch</samp> is used to assert so).
</p>
</dd>
</dl>

<p>In those cases only the current architecture is installed.  Further
sub-architectures can be installed by
</p>
<div class="example">
<pre class="example">R CMD INSTALL --libs-only <var>pkg</var>
</pre></div>

<p>using the path to <code>R</code> or <code>R --arch</code> to select the
additional sub-architecture.  On Windows there is also <code>R CMD
INSTALL --merge-multiarch</code> to build and merge the two architectures,
starting with a source tarball.
</p>
<hr>
<span id="Byte_002dcompilation"></span><div class="header">
<p>
Previous: <a href="#Multiple-sub_002darchitectures" accesskey="p" rel="prev">Multiple sub-architectures</a>, Up: <a href="#Installing-packages" accesskey="u" rel="up">Installing packages</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Function-and-variable-index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Byte_002dcompilation-1"></span><h4 class="subsection">6.3.5 Byte-compilation</h4>

<p>Byte compilation is not recommended in pqR, and can only be enabled
by very deliberate measures, as described in <code>help(compile)</code> from
the compiler package.
</p>
<hr>
<span id="Updating-packages"></span><div class="header">
<p>
Next: <a href="#Removing-packages" accesskey="n" rel="next">Removing packages</a>, Previous: <a href="#Installing-packages" accesskey="p" rel="prev">Installing packages</a>, Up: <a href="#Add_002don-packages" accesskey="u" rel="up">Add-on packages</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Function-and-variable-index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Updating-packages-1"></span><h3 class="section">6.4 Updating packages</h3>
<span id="index-update_002epackages"></span>
<span id="index-Packages_002c-updating"></span>

<p>The command <code>update.packages()</code> is the simplest way to ensure that
all the packages on your system are up to date.  Set the <code>repos</code>
argument as in the previous section.  The <code>update.packages()</code>
downloads the list of available packages and their current versions,
compares it with those installed and offers to fetch and install any
that have later versions on the repositories.
</p>
<p>An alternative interface to keeping packages up-to-date is provided by
the command <code>packageStatus()</code>, which returns an object with
information on all installed packages and packages available at multiple
repositories.  The <code>print</code> and <code>summary</code> methods give an
overview of installed and available packages, the <code>upgrade</code> method
offers to fetch and install the latest versions of outdated packages.
</p>
<p>One sometimes-useful additional piece of information that
<code>packageStatus()</code> returns is the status of a package, as
<code>&quot;ok&quot;</code>, <code>&quot;upgrade&quot;</code> or <code>&quot;unavailable&quot;</code> (in the currently
selected repositories).  For example
</p>
<div class="example">
<pre class="example">&gt; inst &lt;- packageStatus()$inst
&gt; inst[inst$Status != &quot;ok&quot;, c(&quot;Package&quot;, &quot;Version&quot;, &quot;Status&quot;)])
                  Package Version      Status
Biobase           Biobase   2.8.0 unavailable
RCurl               RCurl   1.4-2     upgrade
Rgraphviz       Rgraphviz  1.26.0 unavailable
rgdal               rgdal  0.6-27     upgrade
</pre></div>


<hr>
<span id="Removing-packages"></span><div class="header">
<p>
Next: <a href="#Setting-up-a-package-repository" accesskey="n" rel="next">Setting up a package repository</a>, Previous: <a href="#Updating-packages" accesskey="p" rel="prev">Updating packages</a>, Up: <a href="#Add_002don-packages" accesskey="u" rel="up">Add-on packages</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Function-and-variable-index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Removing-packages-1"></span><h3 class="section">6.5 Removing packages</h3>
<span id="index-remove_002epackages"></span>
<span id="index-Packages_002c-removing"></span>

<p>Packages can be removed in a number of ways.  From a command prompt they
can be removed by
</p>
<div class="example">
<pre class="example">R CMD REMOVE -l /path/to/library <var>pkg1</var> <var>pkg2</var> &hellip;
</pre></div>

<p>From a running R process they can be removed by
</p>
<div class="example">
<pre class="example">&gt; remove.packages(c(&quot;pkg1&quot;, &quot;pkg2&quot;),
                  lib = file.path(&quot;path&quot;, &quot;to&quot;, &quot;library&quot;))
</pre></div>

<p>Finally, in most installations one can just remove the package directory
from the library.
</p>

<hr>
<span id="Setting-up-a-package-repository"></span><div class="header">
<p>
Next: <a href="#Checking-installed-source-packages" accesskey="n" rel="next">Checking installed source packages</a>, Previous: <a href="#Removing-packages" accesskey="p" rel="prev">Removing packages</a>, Up: <a href="#Add_002don-packages" accesskey="u" rel="up">Add-on packages</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Function-and-variable-index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Setting-up-a-package-repository-1"></span><h3 class="section">6.6 Setting up a package repository</h3>
<span id="index-Repositories"></span>

<p>Utilities such as <code>install.packages</code> can be pointed at any
<acronym>CRAN</acronym>-style repository, and R users may want to set up their
own.  The &lsquo;base&rsquo; of a repository is a URL such as
<a href="http://www.omegahat.org/R/">http://www.omegahat.org/R/</a>: this must be an URL scheme that
<code>download.packages</code> supports (which also includes &lsquo;<samp>ftp://</samp>&rsquo; and
&lsquo;<samp>file://</samp>&rsquo;, but not on most systems &lsquo;<samp>https://</samp>&rsquo;).  Under that
base URL there should be directory trees for one or more of the
following types of package distributions:
</p>
<ul>
<li> <code>&quot;source&quot;</code>: located at <samp>src/contrib</samp> and containing
<samp>.tar.gz</samp> files.  Other forms of compression can be used, e.g.
<samp>.tar.bz2</samp> or <samp>.tar.xz</samp> files.

</li><li> <code>&quot;win.binary&quot;</code>: located at <samp>bin/windows/contrib/<var>x.y</var></samp> for
R versions <var>x.y.z</var> and containing <samp>.zip</samp> files for Windows.

</li><li> <code>&quot;mac.binary.leopard&quot;</code>: located at
<samp>bin/macosx/leopard/contrib/<var>x.y</var></samp> for R versions <var>x.y.z</var>
and containing <samp>.tgz</samp> files.
</li></ul>

<p>Each terminal directory must also contain a <samp>PACKAGES</samp> file.  This
can be a concatenation of the <samp>DESCRIPTION</samp> files of the packages
separated by blank lines, but only a few of the fields are needed.  The
simplest way to set up such a file is to use function
<code>write_PACKAGES</code> in the <strong>tools</strong> package, and its help explains
which fields are needed.  Optionally there can also be a
<samp>PACKAGES.gz</samp> file, a <code>gzip</code>-compressed version of
<samp>PACKAGES</samp>&mdash;as this will be downloaded in preference to
<samp>PACKAGES</samp> it should be included for large repositories.  (If you
have a mis-configured server that does not report correctly non-existent
files you will need <samp>PACKAGES.gz</samp>.)
</p>
<p>To add your repository to the list offered by <code>setRepositories()</code>,
see the help file for that function.
</p>
<p>A repository can contain subdirectories, when the descriptions in the
<samp>PACKAGES</samp> file of packages in subdirectories must include a line
of the form
</p>
<div class="example">
<pre class="example">Path: <var>path/to/subdirectory</var>
</pre></div>

<p>&mdash;once again <code>write_PACKAGES</code> is the simplest way to set this up.
</p>
<hr>
<span id="Checking-installed-source-packages"></span><div class="header">
<p>
Previous: <a href="#Setting-up-a-package-repository" accesskey="p" rel="prev">Setting up a package repository</a>, Up: <a href="#Add_002don-packages" accesskey="u" rel="up">Add-on packages</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Function-and-variable-index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Checking-installed-source-packages-1"></span><h3 class="section">6.7 Checking installed source packages</h3>

<p>It can be convenient to run <code>R CMD check</code> on an installed
package, particularly on a platform which uses sub-architectures.  The
outline of how to do this is, with the source package in directory
<samp><var>pkgname</var></samp> (or a tarball filename):
</p>
<div class="example">
<pre class="example">R CMD INSTALL -l <var>libdir</var> <var>pkgname</var> &gt; <var>pkgname</var>.log 2&gt;&amp;1
R CMD check -l <var>libdir</var> --install=check:<var>pkgname</var>.log <var>pkgname</var>
</pre></div>

<p>Where sub-architectures are in use the <code>R CMD check</code> line can be
repeated with additional architectures by
</p>
<div class="example">
<pre class="example">R --arch <var>arch</var> CMD check -l <var>libdir</var> --extra-arch --install=check:<var>pkgname</var>.log <var>pkgname</var>
</pre></div>

<p>where <samp>--extra-arch</samp> selects only those checks which depend on
the installed code and not those which analyse the sources.  (If
multiple sub-architectures fail only because they need different
settings, e.g. environment variables, <samp>--no-multiarch</samp> may need
to be added to the <code>INSTALL</code> lines.)  On (Mac) OS X and other
Unix-alikes the architecture to run is selected by <samp>--arch</samp>: this
can also be used on Windows with <samp><var>R_HOME</var>/bin/R.exe</samp>, but it
is more usual to select the path to the <code>Rcmd.exe</code> of the
desired architecture.
</p>
<p>So on Windows to install, check and package for distribution a source
package from a tarball which has been tested on another platform one
might use
</p>
<div class="example">
<pre class="example">.../bin/i386/Rcmd INSTALL -l <var>libdir</var> <var>tarball</var> --build &gt; <var>pkgname</var>.log 2&gt;&amp;1
.../bin/i386/Rcmd check -l <var>libdir</var> --extra-arch --install=check:<var>pkgname</var>.log <var>pkgname</var>
.../bin/x64/Rcmd check -l <var>libdir</var> --extra-arch --install=check:<var>pkgname</var>.log <var>pkgname</var>
</pre></div>

<p>where one might want to run the second and third lines in a different
shell with different settings for environment variables and the path (to
find external software, notably for Gtk+).
</p>
<p><code>R CMD INSTALL</code> can do a <code>i386</code> install and then add the
<code>x64</code> DLL from a single command by
</p>
<div class="example">
<pre class="example">R CMD INSTALL --merge-multiarch -l <var>libdir</var> <var>tarball</var>
</pre></div>

<p>and <samp>--build</samp> can be added to zip up the installation.
</p>
<hr>
<span id="Internationalization"></span><div class="header">
<p>
Next: <a href="#Choosing-between-32_002d-and-64_002dbit-builds" accesskey="n" rel="next">Choosing between 32- and 64-bit builds</a>, Previous: <a href="#Add_002don-packages" accesskey="p" rel="prev">Add-on packages</a>, Up: <a href="#Top" accesskey="u" rel="up">Top</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Function-and-variable-index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Internationalization-and-Localization"></span><h2 class="chapter">7 Internationalization and Localization</h2>
<span id="index-Internationalization"></span>
<span id="index-Localization"></span>

<p><em>Internationalization</em> refers to the process of enabling support
for many human languages, and <em>localization</em> to adapting to a
specific country and language.
</p>
<p>Historically R worked in the ISO Latin-1 8-bit character set and so
covered English and most Western European languages (if not necessarily
their currency symbols).  Since R 2.1.0 it has supported multi-byte
character sets such as UTF-8 and others used for Chinese, Japanese and
Korean.
</p>
<p>Current builds of R support all the character sets that the
underlying OS can handle.  These are interpreted according to the
<span id="index-Locale"></span>
current <code>locale</code>, a sufficiently complicated topic to merit a
separate section.  Note though that R has no built-in support for
right-to-left languages and bidirectional output, relying on the OS
services.  For example, how character vectors in UTF-8 containing both
English digits and Hebrew characters are printed is OS-dependent (and
perhaps locale-dependent).
</p>
<p>The other aspect of the internationalization is support for the
translation of messages.  This is enabled in almost all builds of R.
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top">&bull; <a href="#Locales" accesskey="1">Locales</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Localization-of-messages" accesskey="2">Localization of messages</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
</table>

<hr>
<span id="Locales"></span><div class="header">
<p>
Next: <a href="#Localization-of-messages" accesskey="n" rel="next">Localization of messages</a>, Previous: <a href="#Internationalization" accesskey="p" rel="prev">Internationalization</a>, Up: <a href="#Internationalization" accesskey="u" rel="up">Internationalization</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Function-and-variable-index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Locales-1"></span><h3 class="section">7.1 Locales</h3>
<span id="index-Locale-1"></span>

<p>A <em>locale</em> is a description of the local environment of the user,
including the preferred language, the encoding of characters, the
currency used and its conventions, and so on.  Aspects of the locale are
accessed by the R functions <code>Sys.getlocale</code> and
<code>Sys.localeconv</code>.
</p>
<p>The system of naming locales is OS-specific.  There is quite wide
agreement on schemes, but not on the details of their implementation.  A
locale needs to specify
</p><ul>
<li> A human language.  These are generally specified by a lower-case
two-character abbreviation following ISO 639 (see e.g.
<a href="http://en.wikipedia.org/wiki/ISO_639-1">http://en.wikipedia.org/wiki/ISO_639-1</a>).

</li><li> A &lsquo;territory&rsquo;, used mainly to specify the currency. These are generally
specified by an upper-case two-character abbreviation following ISO 3166
(see e.g. <a href="http://en.wikipedia.org/wiki/ISO_3166">http://en.wikipedia.org/wiki/ISO_3166</a>).  Sometimes
the combination of language and territory is used to specify the
encoding, for example to distinguish between traditional and simplified
Chinese.

</li><li> A charset encoding, which determines both how a byte stream should be
divided into characters, and which characters the subsequences of bytes
represent.

</li><li> Optionally, a modifier, for example to indicate that Austria is to be
considered pre- or post-Euro.  The modifier is also used to indicate the
script (<code>@latin</code>, <code>@cyrillic</code>, <code>@iqtelif</code>) or language
dialect (e.g. <code>saaho</code>, a dialect of Afar, and <code>bokmal</code> and
<code>nynorsk</code>, dialects of Norwegian regarded by some OSes as separate
languages, <code>no</code> and <code>nn</code>).
</li></ul>

<p>R is principally concerned with the first (for translations) and
third.  Note that the charset may be deducible from the language, as
some OSes offer only one charset per language, and most OSes have only
one charset each for many languages.  Note too the remark above about
Chinese.
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top">&bull; <a href="#Locales-under-Linux" accesskey="1">Locales under Linux</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Locales-under-Windows" accesskey="2">Locales under Windows</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Locales-under-OS-X" accesskey="3">Locales under OS X</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
</table>

<hr>
<span id="Locales-under-Linux"></span><div class="header">
<p>
Next: <a href="#Locales-under-Windows" accesskey="n" rel="next">Locales under Windows</a>, Previous: <a href="#Locales" accesskey="p" rel="prev">Locales</a>, Up: <a href="#Locales" accesskey="u" rel="up">Locales</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Function-and-variable-index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Locales-under-Linux-1"></span><h4 class="subsection">7.1.1 Locales under Linux</h4>

<p>Modern Linux uses the XPG<a id="DOCF13" href="#FOOT13"><sup>13</sup></a> locale specifications which have the form
&lsquo;<samp>en_GB</samp>&rsquo;, &lsquo;<samp>en_GB.UTF-8</samp>&rsquo;, &lsquo;<samp>aa_ER.UTF-8@saaho</samp>&rsquo;,
&lsquo;<samp>de_AT.iso885915@euro</samp>&rsquo;, the components being in the order listed
above.  (See <code>man locale</code> and <code>locale -a</code> for more
details.)  Similar schemes are used by most Unix-alikes: some (including
some distributions of Linux) use &lsquo;<samp>.utf8</samp>&rsquo; rather than &lsquo;<samp>.UTF-8</samp>&rsquo;.
</p>
<hr>
<span id="Locales-under-Windows"></span><div class="header">
<p>
Next: <a href="#Locales-under-OS-X" accesskey="n" rel="next">Locales under OS X</a>, Previous: <a href="#Locales-under-Linux" accesskey="p" rel="prev">Locales under Linux</a>, Up: <a href="#Locales" accesskey="u" rel="up">Locales</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Function-and-variable-index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Locales-under-Windows-1"></span><h4 class="subsection">7.1.2 Locales under Windows</h4>

<p>Windows also uses locales, but specified in a rather less concise way.
Most users will encounter locales only via drop-down menus, but more
information and lists can be found at
<a href="http://msdn.microsoft.com/library/default.asp?url=/library/en-us/vccore98/html/_crt_language_and_country_strings.asp">http://msdn.microsoft.com/library/default.asp?url=/library/en-us/vccore98/html/_crt_language_and_country_strings.asp</a>.
</p>
<p>It offers only one encoding per language.
</p>
<p>Some care is needed with Windows&rsquo; locale names.  For example,
<code>chinese</code> is Traditional Chinese and not Simplified Chinese as used
in most of the Chinese-speaking world.
</p>
<hr>
<span id="Locales-under-OS-X"></span><div class="header">
<p>
Previous: <a href="#Locales-under-Windows" accesskey="p" rel="prev">Locales under Windows</a>, Up: <a href="#Locales" accesskey="u" rel="up">Locales</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Function-and-variable-index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Locales-under-OS-X-1"></span><h4 class="subsection">7.1.3 Locales under OS X</h4>

<p>OS X supports locales in its own particular way, but the R GUI tries to
make this easier for users. See
<a href="http://developer.apple.com/documentation/MacOSX/Conceptual/BPInternational/">http://developer.apple.com/documentation/MacOSX/Conceptual/BPInternational/</a>
for how users can set their locales.  As with Windows, end users will
generally only see lists of languages/territories.  Users of R in a
terminal may need to set the locale to something like &lsquo;<samp>en_GB.UTF-8</samp>&rsquo;
if it defaults to &lsquo;<samp>C</samp>&rsquo; (as it often does when logging it remotely
and in batch jobs).
</p>
<p>Internally OS X uses a form similar to Linux.  It is based on ICU
locales IDs (<a href="http://userguide.icu-project.org/locale">http://userguide.icu-project.org/locale</a>) and not
XPG ones, but utilities such as <code>Sys.setlocale()</code> do now normally
accept XPG forms.  So there are locales like <code>de_AT.ISO8859-15</code>
(German in Austria in Latin-9, which covers the Euro): the main
difference from other Unix-alikes is that where a character set is not
specified it is assumed to be <code>UTF-8</code>.
</p>

<hr>
<span id="Localization-of-messages"></span><div class="header">
<p>
Previous: <a href="#Locales" accesskey="p" rel="prev">Locales</a>, Up: <a href="#Internationalization" accesskey="u" rel="up">Internationalization</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Function-and-variable-index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Localization-of-messages-1"></span><h3 class="section">7.2 Localization of messages</h3>

<p>The preferred language for messages is by default taken from the locale.
This can be overridden first by the setting of the environment variable
<span id="index-LANGUAGE"></span>
<span id="index-LC_005fALL"></span>
<span id="index-LC_005fMESSAGES"></span>
<span id="index-LANG"></span>
<code>LANGUAGE</code> and then<a id="DOCF14" href="#FOOT14"><sup>14</sup></a>
by the environment variables <code>LC_ALL</code>, <code>LC_MESSAGES</code> and
<code>LANG</code>. (The last three are normally used to set the locale and so
should not be needed, but the first is only used to select the language
for messages.)  The code tries hard to map locales to languages, but on
some systems (notably Windows) the locale names needed for the
environment variable <code>LC_ALL</code> do not all correspond to XPG language
names and so <code>LANGUAGE</code> may need to be set.  (One example is
&lsquo;<samp>LC_ALL=es</samp>&rsquo; on Windows which sets the locale to Estonian and the
language to Spanish.)
</p>
<p>It is usually possible to change the language once R is running
<em>via</em> (not Windows) <code>Sys.setlocale(&quot;LC_MESSAGES&quot;,
&quot;new_locale&quot;)</code>, or by setting an environment variable such as
<code>LANGUAGE</code>, <em>provided</em><a id="DOCF15" href="#FOOT15"><sup>15</sup></a> the language you are changing to can be output in
the current character set.  But this is OS-specific, and has been known
to stop working on an OS upgrade.
</p>
<p>Messages are divided into <em>domains</em>, and translations may be
available for some or all messages in a domain.  R makes use of the
following domains.
</p>
<ul>
<li> Domain <code>R</code> for basic C-level error messages.

</li><li> Domain <code>R-<var>pkg</var></code> for the R <code>stop</code>, <code>warning</code> and
<code>message</code> messages in each package, including <code>R-base</code> for the
<strong>base</strong> package.

</li><li> Domain <code><var>pkg</var></code> for the C-level messages in each package.

</li><li> Domain <code>RGui</code> for the menus etc of the R for Windows GUI front-end.

</li></ul>

<p>Dividing up the messages in this way allows R to be extensible: as
packages are loaded, their message translation catalogues can be loaded
too.
</p>
<p>Translations are looked for by domain according to the currently
specified language, as specifically as possible, so for example an
Austrian (&lsquo;<samp>de_AT</samp>&rsquo;) translation catalogue will be used in preference
to a generic German one (&lsquo;<samp>de</samp>&rsquo;) for an Austrian user.  However, if a
specific translation catalogue exists but does not contain a
translation, the less specific catalogues are consulted.  For example,
R has catalogues for &lsquo;<samp>en_GB</samp>&rsquo; that translate the Americanisms
(e.g., &lsquo;<samp>gray</samp>&rsquo;) in the standard messages into English.<a id="DOCF16" href="#FOOT16"><sup>16</sup></a>  Two other examples: there are catalogues
for &lsquo;<samp>es</samp>&rsquo;, which is Spanish as written in Spain and these will by
default also be used in Spanish-speaking Latin American countries, and
also for &lsquo;<samp>pt_BR</samp>&rsquo;, which are used for Brazilian locales but not for
locales specifying Portugal.
</p>
<p>Translations in the right language but the wrong charset be made use of
<span id="index-LANGUAGE-1"></span>
by on-the-fly re-encoding.  The <code>LANGUAGE</code> variable (only) can be a
colon-separated list, for example &lsquo;<samp>se:de</samp>&rsquo;, giving a set of
languages in decreasing order of preference.  One special value is
&lsquo;<samp>en@quot</samp>&rsquo;, which can be used in a UTF-8 locale to have American
error messages with pairs of quotes translated to Unicode directional
quotes.
</p>
<p>If no suitable translation catalogue is found or a particular message is
not translated in any suitable catalogue, &lsquo;English&rsquo;<a id="DOCF17" href="#FOOT17"><sup>17</sup></a> is used.
</p>
<p>See <a href="http://developer.r-project.org/Translations.html">http://developer.r-project.org/Translations.html</a> for how to
prepare and install translation catalogues.
</p>
<hr>
<span id="Choosing-between-32_002d-and-64_002dbit-builds"></span><div class="header">
<p>
Next: <a href="#The-standalone-Rmath-library" accesskey="n" rel="next">The standalone Rmath library</a>, Previous: <a href="#Internationalization" accesskey="p" rel="prev">Internationalization</a>, Up: <a href="#Top" accesskey="u" rel="up">Top</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Function-and-variable-index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Choosing-between-32_002d-and-64_002dbit-builds-1"></span><h2 class="chapter">8 Choosing between 32- and 64-bit builds</h2>

<p>Many current <acronym>CPU</acronym>s have both 32- and 64-bit sets of
instructions: this has long been true for UltraSparc and more recently
for MIPS, PPC and &lsquo;<samp>x86_64</samp>&rsquo; (sometimes known as &lsquo;<samp>amd64</samp>&rsquo;
and &lsquo;<samp>Intel64</samp>&rsquo; and earlier as &lsquo;<samp>EM64T</samp>&rsquo;: practically all
current &lsquo;<samp>ix86</samp>&rsquo; CPUs support this set of instructions).  Most
OSes running on such <acronym>CPU</acronym>s offer the choice of building a
32-bit or a 64-bit version of R (and details are given below under
specific OSes).  For most a 32-bit version is the default, but for some
(e.g., &lsquo;<samp>x86_64</samp>&rsquo; Linux and (Mac) OS X &gt;= 10.6) 64-bit is.
</p>
<p>All current versions of R use 32-bit integers and
<acronym>IEC</acronym>&nbsp;60559<a id="DOCF18" href="#FOOT18"><sup>18</sup></a> double-precision reals, and so compute to
the same precision<a id="DOCF19" href="#FOOT19"><sup>19</sup></a> and with the same limits on the sizes of
numerical quantities.  The principal difference is in the size of the
pointers.
</p>
<p>64-bit builds have both advantages and disadvantages:
</p><ul>
<li> The total virtual memory space made available to a 32-bit process is
limited by the pointer size to 4GB, and on most OSes to 3GB (or even
2GB).  The limits for 64-bit processes are much larger (e.g.
8&ndash;128TB).

<p>R allocates memory for large objects as needed, and removes any
unused ones at garbage collection.  When the sizes of objects become an
appreciable fraction of the address limit, fragmentation of the address
space becomes an issue and there may be no hole available that is the
size requested.  This can cause more frequent garbage collection or the
inability to allocate large objects.  As a guide, this will become an
issue with objects more than 10% of the size of the address space
(around 300Mb) or when the total size of objects in use is around one
third (around 1Gb).
</p>
</li><li> Most 32-bit OSes by default limit file sizes to 2GB (and this may also
apply to 32-bit builds on 64-bit OSes).  This can often be worked
around: and <code>configure</code> selects suitable defines if this is
possible.  (We have also largely worked around that limit on 32-bit
Windows.)  64-bit builds have much larger limits.

</li><li> Because the pointers are larger, R&rsquo;s basic structures are larger.
This means that R objects take more space and (usually) more time to
manipulate.  So 64-bit builds of R will, all other things being
equal, run slower than 32-bit builds.  (On Sparc Solaris the difference
was 15-20%.)

</li><li> However, &lsquo;other things&rsquo; may not be equal.  In the specific case of
&lsquo;<samp>x86_64</samp>&rsquo; <em>vs</em> &lsquo;<samp>ix86</samp>&rsquo;, the 64-bit CPU has features
(such as SSE2 instructions) which are guaranteed to be present but are
optional on the 32-bit CPU, and also has more general-purpose registers.
This means that on chips like a desktop Intel Core 2 Duo the vanilla
64-bit version of R is around 10% faster on both Linux and OS X.
(Laptop CPUs are relatively slower in 64-bit mode.)
</li></ul>

<p>So, for speed you may want to use a 32-bit build, but to handle large
datasets (and perhaps large files) a 64-bit build.  You can often build
both and install them in the same place: See <a href="#Sub_002darchitectures">Sub-architectures</a>.
(This is done in the OS X and Windows binary distributions.)
</p>
<p>Even on 64-bit builds of R there are limits on the size of R
objects (see <code>help(&quot;Memory-limits&quot;)</code>, some of which stem from the
use of 32-bit integers (especially in FORTRAN code).  On all builds of
R, the maximum length (number of elements) of a vector is
<em>2^{31}-1</em>, about 2 billion, and on 64-bit builds the size of a
block of memory allocated is limited to <em>2^{34}-1</em> bytes (8GB).  It
is anticipated these will be raised eventually<a id="DOCF20" href="#FOOT20"><sup>20</sup></a> but the need for 8GB objects is (when
this was written in 2011) exceptional.
</p>
<hr>
<span id="The-standalone-Rmath-library"></span><div class="header">
<p>
Next: <a href="#Essential-and-useful-other-programs-under-a-Unix_002dalike" accesskey="n" rel="next">Essential and useful other programs under a Unix-alike</a>, Previous: <a href="#Choosing-between-32_002d-and-64_002dbit-builds" accesskey="p" rel="prev">Choosing between 32- and 64-bit builds</a>, Up: <a href="#Top" accesskey="u" rel="up">Top</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Function-and-variable-index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="The-standalone-Rmath-library-1"></span><h2 class="chapter">9 The standalone Rmath library</h2>

<p>The routines supporting the distribution and
special<a id="DOCF21" href="#FOOT21"><sup>21</sup></a> functions in R
and a few others are declared in C header file <samp>Rmath.h</samp>.  These
can be compiled into a standalone library for linking to other
applications.  (Note that they are not a separate library when R is
built, and the standalone version differs in several ways.)
</p>
<p>The makefiles and other sources needed are in directory
<samp>src/nmath/standalone</samp>, so the following instructions assume that
is the current working directory (in the build directory tree on a
Unix-alike if that is separate from the sources).
</p>
<p><samp>Rmath.h</samp> contains &lsquo;<samp>R_VERSION_STRING</samp>&rsquo;, which is a character
string containing the current R version, for example <code>&quot;2.15.0&quot;</code>.
</p>
<p>There is full access to R&rsquo;s handling of <code>NaN</code>, <code>Inf</code> and
<code>-Inf</code> via special versions of the macros and functions
</p>
<div class="example">
<pre class="example">    ISNAN, R_FINITE, R_log, R_pow and R_pow_di
</pre></div>

<p>and (extern) constants <code>R_PosInf</code>, <code>R_NegInf</code> and <code>NA_REAL</code>.
</p>
<p>There is no support for R&rsquo;s notion of missing values, in particular
not for <code>NA_INTEGER</code> nor the distinction between <code>NA</code> and
<code>NaN</code> for doubles.
</p>
<p>A little care is needed to use the random-number routines. You will
need to supply the uniform random number generator 
</p>
<div class="example">
<pre class="example">    double unif_rand(void)
</pre></div>

<p>or use the one supplied (and with a shared library or DLL you will
have to use the one supplied, which is the Marsaglia-multicarry with
an entry point
</p>
<div class="example">
<pre class="example">    set_seed(unsigned int, unsigned int)
</pre></div>

<p>to set its seeds).
</p>
<p>The facilities to change the normal random number generator are
available through the constant N01_kind. This takes values
from the enumeration type
</p>
<div class="example">
<pre class="example">typedef enum {
    BUGGY_KINDERMAN_RAMAGE,
    AHRENS_DIETER,
    BOX_MULLER,
    USER_NORM,
    INVERSION,
    KINDERMAN_RAMAGE
} N01type;
</pre></div>

<p>(and &lsquo;<samp>USER_NORM</samp>&rsquo; is not available).
</p>

<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top">&bull; <a href="#Unix_002dalike-standalone" accesskey="1">Unix-alike standalone</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Windows-standalone" accesskey="2">Windows standalone</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
</table>

<hr>
<span id="Unix_002dalike-standalone"></span><div class="header">
<p>
Next: <a href="#Windows-standalone" accesskey="n" rel="next">Windows standalone</a>, Previous: <a href="#The-standalone-Rmath-library" accesskey="p" rel="prev">The standalone Rmath library</a>, Up: <a href="#The-standalone-Rmath-library" accesskey="u" rel="up">The standalone Rmath library</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Function-and-variable-index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Unix_002dalikes"></span><h3 class="section">9.1 Unix-alikes</h3>

<p>If R has not already be made in the directory tree,
<code>configure</code> must be run as described in the main build
instructions.
</p>
<p>Then (in <samp>src/nmath/standalone</samp>)
</p>
<div class="example">
<pre class="example">make
</pre></div>

<p>will make standalone libraries <samp>libRmath.a</samp> and <samp>libRmath.so</samp>
(<samp>libRmath.dylib</samp> on Mac OS X): &lsquo;<samp>make static</samp>&rsquo; and &lsquo;<samp>make
shared</samp>&rsquo; will create just one of them.
</p>
<p><strong>NB:</strong> certain compilers are unable to do compile-time IEC 60559
arithmetic and so cannot compile <samp>mlutils.c</samp> and several other
files.  The known example is old versions of Sun&rsquo;s <code>cc</code> (e.g.
Forte 6 and 7).
</p>

<p>To use the routines in your own C or C++ programs, include
</p>
<div class="example">
<pre class="example">#define MATHLIB_STANDALONE
#include &lt;Rmath.h&gt;
</pre></div>

<p>and link against &lsquo;<samp>-lRmath</samp>&rsquo; (and &lsquo;<samp>-lm</samp>&rsquo; if needed on your OS).
The example file <samp>test.c</samp> does nothing useful, but is provided to
test the process (via <code>make test</code>).  Note that you will probably
not be able to run it unless you add the directory containing
<span id="index-LD_005fLIBRARY_005fPATH"></span>
<samp>libRmath.so</samp> to the <code>LD_LIBRARY_PATH</code> environment variable.
</p>
<p>The targets
</p>
<div class="example">
<pre class="example">make install
make uninstall
</pre></div>

<p>will (un)install the header <samp>Rmath.h</samp> and shared and static
<span id="index-DESTDIR-1"></span>
libraries (if built).  Both <code>prefix=</code> and <code>DESTDIR</code> are
supported, together with more precise control as described for the main
build.
</p>
<p>&lsquo;<samp>make install</samp>&rsquo; installs a file for <code>pkg-config</code> to use by
e.g.
</p>
<div class="example">
<pre class="example">$(CC) `pkg-config --cflags libRmath` -c test.c
$(CC) `pkg-config --libs libRmath` test.o -o test
</pre></div>

<p>On some systems &lsquo;<samp>make install-strip</samp>&rsquo; will install a stripped shared
library.
</p>


<hr>
<span id="Windows-standalone"></span><div class="header">
<p>
Previous: <a href="#Unix_002dalike-standalone" accesskey="p" rel="prev">Unix-alike standalone</a>, Up: <a href="#The-standalone-Rmath-library" accesskey="u" rel="up">The standalone Rmath library</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Function-and-variable-index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Windows-1"></span><h3 class="section">9.2 Windows</h3>

<p>You need to set up<a id="DOCF22" href="#FOOT22"><sup>22</sup></a> almost all the
tools to make R and then run (in a Unix-like shell)
</p>
<div class="example">
<pre class="example">(cd ../../gnuwin32; make MkRules)
(cd ../../include; make -f Makefile.win config.h Rconfig.h Rmath.h)
make -f Makefile.win
</pre></div>

<p>For <samp>cmd.exe</samp> use
</p>
<div class="example">
<pre class="example">cd ../../include
make -f Makefile.win config.h Rconfig.h Rmath.h
cd ../nmath/standalone
make -f Makefile.win
</pre></div>


<p>This creates a static library <samp>libRmath.a</samp> and a DLL
<samp>Rmath.dll</samp>.  If you want an import library <samp>libRmath.dll.a</samp>
(you don&rsquo;t need one), use
</p>
<div class="example">
<pre class="example">make -f Makefile.win shared implib
</pre></div>

<p>To use the routines in your own C or C++ programs using MinGW, include
</p>
<div class="example">
<pre class="example">#define MATHLIB_STANDALONE
#include &lt;Rmath.h&gt;
</pre></div>

<p>and link against &lsquo;<samp>-lRmath</samp>&rsquo;.  This will use the first found of
<samp>libRmath.dll.a</samp>, <samp>libRmath.a</samp> and <samp>Rmath.dll</samp> in that
order, so the result depends on which files are present.  You should be
able to force static or dynamic linking  <em>via</em>
</p>
<div class="example">
<pre class="example">-Wl,-Bstatic -lRmath -Wl,dynamic
-Wl,-Bdynamic -lRmath
</pre></div>

<p>or by linking to explicit files (as in the &lsquo;<samp>test</samp>&rsquo; target in
<samp>Makefile.win</samp>: this makes two executables, <samp>test.exe</samp> which
is dynamically linked, and <samp>test-static.exe</samp>, which is statically
linked).
</p>
<p>It is possible to link to <samp>Rmath.dll</samp> using other compilers, either
directly or via an import library: if you make a MinGW import library as
above, you will create a file <samp>Rmath.def</samp> which can be used
(possibly after editing) to create an import library for other systems
such as Visual C++.
</p>
<p>If you make use of dynamic linking you should use
</p>
<div class="example">
<pre class="example">#define MATHLIB_STANDALONE
#define RMATH_DLL
#include &lt;Rmath.h&gt;
</pre></div>

<p>to ensure that the constants like <code>NA_REAL</code> are linked correctly.
(Auto-import will probably work with MinGW, but it is better to be
sure. This is likely to also work with VC++, Borland and similar
compilers.)
</p>

<hr>
<span id="Essential-and-useful-other-programs-under-a-Unix_002dalike"></span><div class="header">
<p>
Next: <a href="#Configuration-on-a-Unix_002dalike" accesskey="n" rel="next">Configuration on a Unix-alike</a>, Previous: <a href="#The-standalone-Rmath-library" accesskey="p" rel="prev">The standalone Rmath library</a>, Up: <a href="#Top" accesskey="u" rel="up">Top</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Function-and-variable-index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Essential-and-useful-other-programs-under-a-Unix_002dalike-1"></span><h2 class="appendix">Appendix A Essential and useful other programs under a Unix-alike</h2>

<p>This appendix gives details of programs you will need to build R on
Unix-like platforms, or which will be used by R if found by
<code>configure</code>.
</p>
<p>Remember that some package management systems (such as <acronym>RPM</acronym> and
deb) make a distinction between the user version of a package and the
development version.  The latter usually has the same name but with the
extension &lsquo;<samp>-devel</samp>&rsquo; or &lsquo;<samp>-dev</samp>&rsquo;: you need both versions
installed.
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top">&bull; <a href="#Essential-programs-and-libraries" accesskey="1">Essential programs and libraries</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Useful-libraries-and-programs" accesskey="2">Useful libraries and programs</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Linear-algebra" accesskey="3">Linear algebra</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
</table>

<hr>
<span id="Essential-programs-and-libraries"></span><div class="header">
<p>
Next: <a href="#Useful-libraries-and-programs" accesskey="n" rel="next">Useful libraries and programs</a>, Previous: <a href="#Essential-and-useful-other-programs-under-a-Unix_002dalike" accesskey="p" rel="prev">Essential and useful other programs under a Unix-alike</a>, Up: <a href="#Essential-and-useful-other-programs-under-a-Unix_002dalike" accesskey="u" rel="up">Essential and useful other programs under a Unix-alike</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Function-and-variable-index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Essential-programs-and-libraries-1"></span><h3 class="section">A.1 Essential programs and libraries</h3>

<p>You need a means of compiling C and FORTRAN 77 (see <a href="#Using-FORTRAN">Using FORTRAN</a>).  Some add-on packages also need a C++ compiler.  Your C
compiler should be <acronym>IEC</acronym>&nbsp;60059<a id="DOCF23" href="#FOOT23"><sup>23</sup></a>, POSIX 1003.1 and C99-compliant.<a id="DOCF24" href="#FOOT24"><sup>24</sup></a>  R tries to choose suitable flags for the C
compilers it knows about, but you may have to set <code>CC</code> or
<code>CFLAGS</code> suitably.  For recent versions of <code>gcc</code> with
<code>glibc</code> this means including
<samp>-std=gnu99</samp><a id="DOCF25" href="#FOOT25"><sup>25</sup></a>.  If the compiler is
detected as <code>gcc</code>, <samp>-std=gnu99</samp> will be appended to
<code>CC</code> unless it conflicts with a setting of <code>CFLAGS</code>.  (Note
that options essential to run the compiler even for linking, such as
those to set the architecture, should be specified as part of <code>CC</code>
rather than in <code>CFLAGS</code>.)
</p>
<p>Unless you do not want to view graphs on-screen (or use a Mac) you need
&lsquo;<samp>X11</samp>&rsquo; installed, including its headers and client libraries. For
recent Fedora distributions it means (at least) RPMs &lsquo;<samp>libX11</samp>&rsquo;,
&lsquo;<samp>libX11-devel</samp>&rsquo;, &lsquo;<samp>libXt</samp>&rsquo; and &lsquo;<samp>libXt-devel</samp>&rsquo;.  On Debian we
recommend the meta-package &lsquo;<samp>xorg-dev</samp>&rsquo;.  If you really do not want
these you will need to explicitly configure R without X11, using
<samp>--with-x=no</samp>.
</p>
<p>The command-line editing (and command completion) depends on the
<acronym>GNU</acronym> <code>readline</code> library: version 4.2 or later is needed
for all the features to be enabled.  Otherwise you will need to
configure with <samp>--with-readline=no</samp> (or equivalent).
</p>
<p>A suitably comprehensive <code>iconv</code> function is essential.  The R
usage requires <code>iconv</code> to be able to translate between
<code>&quot;latin1&quot;</code> and <code>&quot;UTF-8&quot;</code>, to recognize <code>&quot;&quot;</code> (as the
current encoding) and <code>&quot;ASCII&quot;</code>, and to translate to and from the
Unicode wide-character formats <code>&quot;UCS-[24][BL]E&quot;</code> &mdash; this is true
for <code>glibc</code> but not of most commercial Unixes.  However, you can
make use of <acronym>GNU</acronym> <code>libiconv</code> (possibly as a plug-in
replacement: see <a href="http://www.gnu.org/software/libiconv/">http://www.gnu.org/software/libiconv/</a>).
</p>
<p>An implementation of <acronym>XDR</acronym> is required.  This is part of
<acronym>RPC</acronym> and historically has been part of <samp>libc</samp> on a
Unix-alike: however some builds<a id="DOCF26" href="#FOOT26"><sup>26</sup></a> of <code>glibc
2.14</code> hide it.  The intention seems to be that the <acronym>TI-RPC</acronym>
library be used instead, in which case <code>libtirpc</code> (and its
development version) needs to be installed, and its headers need to be
on the C include path (and <code>configure</code> tries
<samp>/usr/include/tirpc</samp> if the headers are not found on the standard
include path).  The R sources contain a simple implementation of
<acronym>XDR</acronym> which in recent versions can be used on platforms with
32-bit or 64-bit <code>long</code> (and earlier ones will fail to compile
unless <code>long</code> is 32-bit).
</p>
<p>The OS needs to have enough support<a id="DOCF27" href="#FOOT27"><sup>27</sup></a> for wide-character
types: this is checked at configuration.
</p>
<p>A <code>tar</code> program is needed to unpack the sources and packages
(including the recommended packages).  A version<a id="DOCF28" href="#FOOT28"><sup>28</sup></a> that can
automagically detect compressed archives is preferred for use with
<code>untar()</code>: the configure script looks for <code>gtar</code> and
<code>gnutar</code> before
<span id="index-TAR"></span>
<code>tar</code>: use environment variable <code>TAR</code> to override this.
</p>
<p>There need to be suitable versions of the tools <code>grep</code> and
<code>sed</code>: the problems are usually with old AT&amp;T and BSD variants.
<code>configure</code> will try to find suitable versions (including
looking in <samp>/usr/xpg4/bin</samp> which is used on some commercial
Unixes).
</p>
<p>You will not be able to build most of the manuals unless you have
<code>makeinfo</code> version 4.7 or later installed, and if not some of
the <acronym>HTML</acronym> manuals will be linked to <acronym>CRAN</acronym>. To make PDF
versions of the manuals you will also need file <samp>texinfo.tex</samp>
installed (which is part of the <acronym>GNU</acronym> <strong>texinfo</strong> distribution
but is often made part of the TeX package in re-distributions) as
well as <code>texi2dvi</code>.<a id="DOCF29" href="#FOOT29"><sup>29</sup></a>  Further, the versions of <code>texi2dvi</code> and
<samp>texinfo.tex</samp> need to be compatible: we have seen problems with
older TeX distributions (TeXLive 2007 and MiKTeX 2.8) used with
<strong>texinfo</strong> 4.13.
</p>
<span id="index-Vignettes"></span>
<p>The PDF documentation (including <samp>doc/NEWS.pdf</samp>) and
building vignettes needs <code>tex</code> and <code>latex</code>, or
<code>pdftex</code> and <code>pdflatex</code>.  We require LaTeX version
<code>2005/12/01</code> or later (for UTF-8 support).  Building PDF package
manuals (including the R reference manual) and vignettes is sensitive
to the version of the LaTeX package <strong>hyperref</strong> and we recommend
that the TeX distribution used is keep up-to-date.  A number of
LaTeX packages are required (including <strong>url.sty</strong>, and
<strong>listings.sty</strong>) and others such as <strong>hyperref</strong> and
<strong>inconsolata</strong> are desirable (and without them you will need to
change R&rsquo;s defaults: see <a href="#Making-the-manuals">Making the manuals</a>).
</p>

<p>If you want to build from the R Subversion repository you need both
<code>makeinfo</code> and <code>pdflatex</code>.
<span id="index-Subversion-1"></span>
</p>
<span id="index-PATH"></span>
<p>The essential programs should be in your <code>PATH</code> at the time
<code>configure</code> is run: this will capture the full paths.
</p>
<hr>
<span id="Useful-libraries-and-programs"></span><div class="header">
<p>
Next: <a href="#Linear-algebra" accesskey="n" rel="next">Linear algebra</a>, Previous: <a href="#Essential-programs-and-libraries" accesskey="p" rel="prev">Essential programs and libraries</a>, Up: <a href="#Essential-and-useful-other-programs-under-a-Unix_002dalike" accesskey="u" rel="up">Essential and useful other programs under a Unix-alike</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Function-and-variable-index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Useful-libraries-and-programs-1"></span><h3 class="section">A.2 Useful libraries and programs</h3>

<p>The ability to use translated messages makes use of <code>gettext</code> and
most likely needs <acronym>GNU</acronym> <code>gettext</code>: you do need this to work
with new translations, but otherwise the version contained in the R
sources will be used if no suitable external <code>gettext</code> is found.
</p>
<p>The &lsquo;modern&rsquo; version of the <code>X11()</code>, <code>jpeg()</code>, <code>png()</code>
and <code>tiff()</code> graphics devices uses the <code>cairo</code> and
(optionally) <code>Pango</code> libraries.  Cairo version 1.2.0 or later is
required.  Pango needs to be at least version 1.10, and 1.12 is the
earliest version we have tested.  (For Fedora users we believe the
<code>pango-devel</code> RPM and its dependencies suffice.)  R checks for
<code>pkg-config</code>, and uses that to check first that the
&lsquo;<samp>pangocairo</samp>&rsquo; package is installed (and if not, &lsquo;<samp>cairo</samp>&rsquo;) and if
additional flags are needed for the &lsquo;<samp>cairo-xlib</samp>&rsquo; package, then if
suitable code can be compiled.  These tests will fail if
<code>pkg-config</code> is not installed, and are likely to fail if
<code>cairo</code> was built statically (unusual).  Most systems with
<code>Gtk+</code> 2.8 or later installed will have suitable libraries.  OS X
comes with none of these libraries, but <code>cairo</code> support (without
<code>Pango</code>) has been added to the binary distribution:
<code>pkg-config</code> is still needed and can be installed from the sources.
</p>
<p>For the best font experience with these devices you need suitable fonts
installed: Linux users will want the <code>urw-fonts</code> package.  On
platforms which have it available, the <code>msttcorefonts</code>
package<a id="DOCF30" href="#FOOT30"><sup>30</sup></a>  provides
TrueType versions of Monotype fonts such as Arial and Times New Roman.
Another useful set of fonts is the &lsquo;liberation&rsquo; TrueType fonts available
at
<a href="https://www.redhat.com/promo/fonts/">https://www.redhat.com/promo/fonts/</a>,<a id="DOCF31" href="#FOOT31"><sup>31</sup></a> which cover the Latin, Greek and Cyrillic alphabets
plus a fair range of signs.  These share metrics with Arial, Times New
Roman and Courier New, and contain fonts rather similar to the first two
(<a href="http://en.wikipedia.org/wiki/Liberation_fonts">http://en.wikipedia.org/wiki/Liberation_fonts</a>).  Then there
is the &lsquo;Free UCS Outline Fonts&rsquo; project
(<a href="http://www.gnu.org/software/freefont/">http://www.gnu.org/software/freefont/</a>) which are
OpenType/TrueType fonts based on the URW fonts but with extended Unicode
coverage.  See the R help on <code>X11</code> on selecting such fonts.
</p>
<p>The bitmapped graphics devices <code>jpeg()</code>, <code>png()</code> and
<code>tiff()</code> need the appropriate headers and libraries installed:
<code>jpeg</code> (version 6b or later, or <code>libjpeg-turbo</code>) or
<code>libpng</code> (version 1.2.7 or later, including 1.4.x and 1.5.x) and
<code>zlib</code> or <code>libtiff</code> (any recent version of 3.x.y &ndash; 3.9.[45]
have been tested) respectively.  They also need support for either
<code>X11</code> or <code>cairo</code> (see above).
</p>
<p>If you have them installed (including the appropriate headers and of
suitable versions), system versions of <code>zlib</code>, <code>libbz2</code> and
PCRE will be used if specified by <samp>--with-system-zlib</samp> (version
1.2.3 or later), <samp>--with-system-bzlib</samp> or
<samp>--with-system-pcre</samp> (version 8.10 or later, preferably 8.21
which is what is supplied with R): otherwise versions in the R
sources will be compiled in.  As the latter suffice and are tested with
R you should not need to change this.
</p>
<p><code>liblzma</code> from <code>xz-utils</code> version 4.999 or later (preferably
5.0.0 or later) will be used if installed: the version in the R
sources can be selected instead by configuring with
<samp>--with-system-xz=no</samp>.
</p>
<p>Use of the X11 clipboard selection requires the <code>Xmu</code> headers and
libraries.  These are normally part of an X11 installation (e.g. the
Debian meta-package &lsquo;<samp>xorg-dev</samp>&rsquo;), but some distributions have split
this into smaller parts, so for example recent versions of Fedora
require the &lsquo;<samp>libXmu</samp>&rsquo; and &lsquo;<samp>libXmu-devel</samp>&rsquo; RPMs.
</p>
<p>Some systems (notably OS X and at least some FreeBSD systems) have
inadequate support for collation in multibyte locales.  It is possible
to replace the OS&rsquo;s collation support by that from ICU (International
Components for Unicode, <a href="http://site.icu-project.org/">http://site.icu-project.org/</a>), and this
provides much more precise control over collation on all systems.  ICU
is available as sources and as binary distributions for (at least) most
Linux distributions, Solaris, FreeBSD and AIX, usually as <code>libicu</code>
or <code>icu4c</code>.  It will be used by default where available (including
on OS X &gt;= 10.4): should a very old or broken version of ICU be found
this can be suppressed by <samp>--without-ICU</samp>.
</p>
<p>The <code>bitmap</code> and <code>dev2bitmap</code> devices and also
<code>embedFonts()</code> use ghostscript
(<a href="http://www.cs.wisc.edu/~ghost">http://www.cs.wisc.edu/~ghost</a>).  This should either be in your
path when the command is run, or its full path specified by the
environment variable <code>R_GSCMD</code> at that time.
<span id="index-R_005fGSCMD"></span>
</p>

<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top">&bull; <a href="#Tcl_002fTk" accesskey="1">Tcl/Tk</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Java-support" accesskey="2">Java support</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
</table>

<hr>
<span id="Tcl_002fTk"></span><div class="header">
<p>
Next: <a href="#Java-support" accesskey="n" rel="next">Java support</a>, Previous: <a href="#Useful-libraries-and-programs" accesskey="p" rel="prev">Useful libraries and programs</a>, Up: <a href="#Useful-libraries-and-programs" accesskey="u" rel="up">Useful libraries and programs</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Function-and-variable-index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Tcl_002fTk-1"></span><h4 class="subsection">A.2.1 Tcl/Tk</h4>

<p>The <strong>tcltk</strong> package needs Tcl/Tk &gt;= 8.4 installed: the sources are
available at <a href="http://www.tcl.tk/">http://www.tcl.tk/</a>.  To specify the locations of the
Tcl/Tk files you may need the configuration options
</p>
<dl compact="compact">
<dt><samp>--with-tcltk</samp></dt>
<dd><p>use Tcl/Tk, or specify its library directory
</p></dd>
<dt><samp>--with-tcl-config=<var>TCL_CONFIG</var></samp></dt>
<dd><p>specify location of <samp>tclConfig.sh</samp>
</p></dd>
<dt><samp>--with-tk-config=<var>TK_CONFIG</var></samp></dt>
<dd><p>specify location of <samp>tkConfig.sh</samp>
</p></dd>
</dl>

<p>or use the configure variables <code>TCLTK_LIBS</code> and
<code>TCLTK_CPPFLAGS</code> to specify the flags needed for linking against
the Tcl and Tk libraries and for finding the <samp>tcl.h</samp> and
<samp>tk.h</samp> headers, respectively.  If you have both 32- and 64-bit
versions of Tcl/Tk installed, specifying the paths to the correct config
files may be necessary to avoid confusion between them.
</p>
<p>Versions of Tcl/Tk up to 8.5.10 have been tested (including most versions
of 8.4.x, but not recently).
</p>
<hr>
<span id="Java-support"></span><div class="header">
<p>
Previous: <a href="#Tcl_002fTk" accesskey="p" rel="prev">Tcl/Tk</a>, Up: <a href="#Useful-libraries-and-programs" accesskey="u" rel="up">Useful libraries and programs</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Function-and-variable-index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Java-support-1"></span><h4 class="subsection">A.2.2 Java support</h4>

<p><code>configure</code> looks for Java support on the host system, and if it
finds it sets some settings which are useful for Java-using packages.
<span id="index-JAVA_005fHOME"></span>
<code>JAVA_HOME</code> can be set during the <code>configure</code> run to point
to a specific JRE/JDK.
</p>
<p>Principal amongst these are setting some library paths to the Java
libraries and JVM, which are stored in environment variable
<span id="index-R_005fJAVA_005fLD_005fLIBRARY_005fPATH"></span>
<code>R_JAVA_LD_LIBRARY_PATH</code> in file <samp><var>R_HOME</var>/etc/ldpaths</samp> (or
a sub-architecture-specific version).  A typical setting for
&lsquo;<samp>x86_64</samp>&rsquo; Linux is
</p>
<div class="example">
<pre class="example">JAVA_HOME=/usr/lib/jvm/java-1.6.0-openjdk-1.6.0.0.x86_64/jre
R_JAVA_LD_LIBRARY_PATH=${JAVA_HOME}/lib/amd64/server:${JAVA_HOME}/lib/amd64
</pre></div>

<p>Note that this unfortunately depends on the exact version of the JRE/JDK
installed, and so may need updating if the Java installation is
updated.  This can be done by running <code>R CMD javareconf</code>. The
script re-runs Java detection in a manner similar to that of the
<code>configure</code> script and updates settings in both <samp>Makeconf</samp> and
<samp><var>R_HOME</var>/etc/ldpaths</samp>. See <code>R CMD javareconf --help</code> for
details.
</p>
<p>Another alternative of overriding those setting is to  set
<span id="index-R_005fJAVA_005fLD_005fLIBRARY_005fPATH-1"></span>
<code>R_JAVA_LD_LIBRARY_PATH</code> (e.g. in <samp>~/.Renviron</samp>), or use
<samp>/etc/ld.so.conf</samp> to specify the Java runtime library paths to
the system. Other settings are recorded in <samp>etc/Makeconf</samp> (or a
sub-architecture-specific version), e.g.
</p>
<div class="example">
<pre class="example">JAVA = /usr/bin/java
JAVAC = /usr/bin/javac
JAVA_HOME = /usr/java/jdk1.5.0_06/jre
JAVA_LD_LIBRARY_PATH = $(JAVA_HOME)/lib/amd64/server:$(JAVA_HOME)/lib/amd64:\
$(JAVA_HOME)/../lib/amd64:/usr/local/lib64
JAVA_LIBS = -L$(JAVA_HOME)/lib/amd64/server -L$(JAVA_HOME)/lib/amd64 
            -L$(JAVA_HOME)/../lib/amd64 -L/usr/local/lib64 -ljvm
</pre></div>

<p>where &lsquo;<samp>JAVA_LIBS</samp>&rsquo; contains flags necessary to link JNI programs.
Some of the above variables can be queried using <code>R CMD config</code>.
</p>

<hr>
<span id="Linear-algebra"></span><div class="header">
<p>
Previous: <a href="#Useful-libraries-and-programs" accesskey="p" rel="prev">Useful libraries and programs</a>, Up: <a href="#Essential-and-useful-other-programs-under-a-Unix_002dalike" accesskey="u" rel="up">Essential and useful other programs under a Unix-alike</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Function-and-variable-index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Linear-algebra-1"></span><h3 class="section">A.3 Linear algebra</h3>
<span id="index-BLAS-library"></span>

<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top">&bull; <a href="#BLAS" accesskey="1">BLAS</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#LAPACK" accesskey="2">LAPACK</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Caveats" accesskey="3">Caveats</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
</table>

<hr>
<span id="BLAS"></span><div class="header">
<p>
Next: <a href="#LAPACK" accesskey="n" rel="next">LAPACK</a>, Previous: <a href="#Linear-algebra" accesskey="p" rel="prev">Linear algebra</a>, Up: <a href="#Linear-algebra" accesskey="u" rel="up">Linear algebra</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Function-and-variable-index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="BLAS-1"></span><h4 class="subsection">A.3.1 BLAS</h4>

<p>The linear algebra routines in R can make use of enhanced
<acronym>BLAS</acronym> (Basic Linear Algebra Subprograms,
<a href="http://www.netlib.org/blas/faq.html">http://www.netlib.org/blas/faq.html</a>) routines.  However,
these have to be explicitly requested at configure time: R provides
an internal <acronym>BLAS</acronym> which is well-tested and will be adequate for
most uses of R.
</p>
<p>You can specify a particular <acronym>BLAS</acronym> library <em>via</em> a value
for the configuration option <samp>--with-blas</samp> and not to use an
external <acronym>BLAS</acronym> library by <samp>--without-blas</samp> (the
default).  If <samp>--with-blas</samp> is given with no <code>=</code>, its value
is taken from the
<span id="index-BLAS_005fLIBS"></span>
environment variable <code>BLAS_LIBS</code>, set for example in
<samp>config.site</samp>.  If neither the option nor the environment variable
supply a value, a search is made for a suitable <acronym>BLAS</acronym>.  If the
value is not obviously a linker command (starting with a dash or giving
the path to a library), it is prefixed by &lsquo;<samp>-l</samp>&rsquo;, so
</p>
<div class="example">
<pre class="example">--with-blas=&quot;foo&quot;
</pre></div>

<p>is an instruction to link against &lsquo;<samp>-lfoo</samp>&rsquo; to find an external
<acronym>BLAS</acronym> (which needs to be found both at link time and run time).
</p>
<p>The configure code checks that the external <acronym>BLAS</acronym> is complete
(it must include all double precision and double complex routines, as
well as <code>LSAME</code>), and appears to be usable.  However, an external
<acronym>BLAS</acronym> has to be usable from a shared object (so must contain
position-independent code), and that is not checked.
</p>
<p>Some enhanced <acronym>BLAS</acronym>es are compiler-system-specific
(<code>sunperf</code> on Solaris<a id="DOCF32" href="#FOOT32"><sup>32</sup></a>, <code>libessl</code> on IBM,
<code>vecLib</code> on OS X).  The correct incantation for these is usually
found <em>via</em> <samp>--with-blas</samp> with no value on the appropriate
platforms.
</p>
<p>Some of the external <acronym>BLAS</acronym>es are multi-threaded.  One issue is
that R profiling (which uses the <code>SIGPROF</code> signal) may cause
problems, and you may want to disable profiling if you use a
multi-threaded <acronym>BLAS</acronym>.  Note that using a multi-threaded
<acronym>BLAS</acronym> can result in taking more <acronym>CPU</acronym> time and even
more elapsed time (occasionally dramatically so) than using a similar
single-threaded <acronym>BLAS</acronym>.
</p>
<p>Note that under Unix (but not under Windows) if R is compiled against
a non-default <acronym>BLAS</acronym> and <samp>--enable-BLAS-shlib</samp> is
<strong>not</strong> used, then all <acronym>BLAS</acronym>-using packages must also be.
So if R is re-built to use an enhanced <acronym>BLAS</acronym> then packages
such as <a href="http://CRAN.R-project.org/package=quantreg"><strong>quantreg</strong></a> will need to be re-installed.
</p>
<p>R relies on <acronym>IEC</acronym>&nbsp;60559 compliance of an external
<acronym>BLAS</acronym>.  This can be broken if for example the code assumes that
terms with a zero factor are always zero and do not need to be
computed&mdash;whereas <code>x*0</code> can be <code>NaN</code>. This is
checked in the test suite.
</p>

<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top">&bull; <a href="#ATLAS" accesskey="1">ATLAS</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#ACML" accesskey="2">ACML</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Goto-BLAS" accesskey="3">Goto BLAS</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#MKL" accesskey="4">MKL</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Shared-BLAS" accesskey="5">Shared BLAS</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
</table>

<hr>
<span id="ATLAS"></span><div class="header">
<p>
Next: <a href="#ACML" accesskey="n" rel="next">ACML</a>, Previous: <a href="#BLAS" accesskey="p" rel="prev">BLAS</a>, Up: <a href="#BLAS" accesskey="u" rel="up">BLAS</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Function-and-variable-index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="ATLAS-1"></span><h4 class="subsubsection">A.3.1.1 ATLAS</h4>

<p>ATLAS (<a href="http://math-atlas.sourceforge.net/">http://math-atlas.sourceforge.net/</a>) is a &ldquo;tuned&rdquo;
<acronym>BLAS</acronym> that runs on a wide range of Unix-alike platforms.
Unfortunately it is usually built as a static library that on some
platforms cannot be used with shared objects such as are used in R
packages.  Be careful when using pre-built versions of ATLAS (they seem
to work on &lsquo;<samp>ix86</samp>&rsquo; platforms, but not always on &lsquo;<samp>x86_64</samp>&rsquo;
ones).
</p>
<p>The usual way to specify ATLAS will be via
</p>
<div class="example">
<pre class="example">--with-blas=&quot;-lf77blas -latlas&quot;
</pre></div>

<p>if the libraries are in the library path, otherwise by
</p>
<div class="example">
<pre class="example">--with-blas=&quot;-L/path/to/ATLAS/libs -lf77blas -latlas&quot;
</pre></div>

<p>For example, &lsquo;<samp>x86_64</samp>&rsquo; Fedora needs
</p><div class="example">
<pre class="example">--with-blas=&quot;-L/usr/lib64/atlas -lf77blas -latlas&quot;
</pre></div>

<p>For systems with multiple CPU cores it is possible to use a
multi-threaded version of ATLAS, by specifying
</p>
<div class="example">
<pre class="example">--with-blas=&quot;-lptf77blas -lpthread -latlas&quot;
</pre></div>

<p>Consult its file <samp>INSTALL.txt</samp> for how to build ATLAS with
position-independent code (at least on version 3.8.0 and later): that
file also describes how to build ATLAS as a shared library.
</p>
<p>ATLAS can also be used on Windows: see see <a href="#Getting-the-source-files">Getting the source files</a>
when building from source, and
<a href="http://CRAN.R-project.org/bin/windows/rw-FAQ.html">R Windows
<acronym>FAQ</acronym></a> for adding pre-compiled support to binary versions.
</p>
<hr>
<span id="ACML"></span><div class="header">
<p>
Next: <a href="#Goto-BLAS" accesskey="n" rel="next">Goto BLAS</a>, Previous: <a href="#ATLAS" accesskey="p" rel="prev">ATLAS</a>, Up: <a href="#BLAS" accesskey="u" rel="up">BLAS</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Function-and-variable-index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="ACML-1"></span><h4 class="subsubsection">A.3.1.2 ACML</h4>

<p>For &lsquo;<samp>x86_64</samp>&rsquo; and &lsquo;<samp>i686</samp>&rsquo; processors under Linux there is
the AMD Core Math Library (ACML) <a href="http://www.amd.com/acml">http://www.amd.com/acml</a>.  For
the <code>gcc</code> version we could use
</p>
<div class="example">
<pre class="example">--with-blas=&quot;-lacml&quot;
</pre></div>

<p>if the appropriate library directory (such as
<span id="index-LD_005fLIBRARY_005fPATH-1"></span>
<samp>/opt/acml5.1.0/gfortran64/lib</samp>) is in the <code>LD_LIBRARY_PATH</code>.
For other compilers, see the ACML documentation.  There is a
multithreaded Linux version of ACML available for recent versions of
<code>gfortran</code>.  To make use of this you will need something like
</p>
<div class="example">
<pre class="example">--with-blas=&quot;-L/opt/acml5.1.0/gfortran64_mp/lib -lacml_mp&quot;
</pre></div>

<p>(and you may need to arrange for the directory to be in <code>ld.so</code>
cache).
</p>
<p>See see <a href="#Shared-BLAS">Shared BLAS</a> for an alternative (and in many ways preferable)
way to use ACML.
</p>
<p>The version last tested (5.1.0) failed the <samp>reg-BLAS.R</samp> test in its
handling of <code>NA</code>s.
</p>
<hr>
<span id="Goto-BLAS"></span><div class="header">
<p>
Next: <a href="#MKL" accesskey="n" rel="next">MKL</a>, Previous: <a href="#ACML" accesskey="p" rel="prev">ACML</a>, Up: <a href="#BLAS" accesskey="u" rel="up">BLAS</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Function-and-variable-index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Goto-BLAS-1"></span><h4 class="subsubsection">A.3.1.3 Goto BLAS</h4>

<p>Dr Kazushige Goto wrote another tuned <acronym>BLAS</acronym> which is
available for several processors and OSes.  The current version is known
as GotoBLAS2, and has (in November 2010) been re-released under a much
less restrictive licence.  Source code can be obtained from
<a href="http://www.tacc.utexas.edu/tacc-projects/gotoblas2/">http://www.tacc.utexas.edu/tacc-projects/gotoblas2/</a>
</p>
<p>Once it is built and installed, it can be used by configuring R with
</p>
<div class="example">
<pre class="example">--with-blas=&quot;-lgoto2&quot;
</pre></div>

<p>See see <a href="#Shared-BLAS">Shared BLAS</a> for an alternative (and in many ways preferable)
way to use it.
</p>
<p>Our understanding is that this project is now frozen and so will not be
updated for CPUs released since mid-2010.  However, OpenBLAS
(<a href="http://xianyi.github.com/OpenBLAS/">http://xianyi.github.com/OpenBLAS/</a>) is a descendant project.
</p>
<hr>
<span id="MKL"></span><div class="header">
<p>
Next: <a href="#Shared-BLAS" accesskey="n" rel="next">Shared BLAS</a>, Previous: <a href="#Goto-BLAS" accesskey="p" rel="prev">Goto BLAS</a>, Up: <a href="#BLAS" accesskey="u" rel="up">BLAS</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Function-and-variable-index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Intel-MKL"></span><h4 class="subsubsection">A.3.1.4 Intel MKL</h4>
<p>For Intel processors under Linux, there is Intel&rsquo;s Math Kernel Library
(<a href="http://www.intel.com/software/products/mkl/">http://www.intel.com/software/products/mkl/</a>).  You are
strongly encouraged to read the MKL User&rsquo;s Guide, which is installed
with the library, before attempting to link to MKL.  There are also
versions of MKL for Mac OS X and Windows, but they do not work with the
standard compilers used for R on those platforms.
</p>
<p>The MKL interface has changed several times, and may change again: the
following notes apply exactly only to version 10.0.
</p>
<p>Version 10 of MKL supports two linking models: the default model, which
is backward compatible with version 9 (see below), and the pure layered
model.  The layered model gives the user fine-grained control over four
different library layers: interface, threading, computation, and
run-time library support. Some examples of linking to MKL using this
layered model are given below. (These examples are for GCC compilers on
&lsquo;<samp>x86_64</samp>&rsquo;.)  The choice of interface layer is important on
&lsquo;<samp>x86_64</samp>&rsquo; since the Intel Fortran compiler returns complex values
in different registers from the <acronym>GNU</acronym> Fortran compiler. You must
therefore use the interface layer that matches your compiler
(<code>mkl_intel*</code> or <code>mkl_gf*</code>).
</p>
<p>R can be linked to a sequential version of MKL by something like
</p>
<div class="example">
<pre class="example">MKL_LIB_PATH=/opt/intel/mkl/10.0.3.020/lib/em64t/
export LD_LIBRARY_PATH=$MKL_LIB_PATH
MKL=&quot;-L${MKL_LIB_PATH} -lmkl_gf_lp64 -lmkl_sequential -lmkl_lapack -lmkl_core&quot;
./configure --with-blas=&quot;$MKL&quot; --with-lapack
</pre></div>

<p>The order of the libraries is important.  The option
<samp>--with-lapack</samp> is used since MKL contains a tuned copy of LAPACK
as well as <acronym>BLAS</acronym> (see <a href="#LAPACK">LAPACK</a>), although this (and the
corresponding library) can be omitted.
</p>
<p>Threaded MKL may be used (according to Zhang Zhang of Intel) by
replacing the line defining the variable <code>MKL</code> with (Intel OMP)
</p>
<div class="example">
<pre class="example">MKL=&quot;-L${MKL_LIB_PATH} -lmkl_gf_lp64 -lmkl_intel_thread \
     -lmkl_lapack -lmkl_core -liomp5 -lpthread&quot;
</pre></div>

<p>or (GNU OMP)
</p>
<div class="example">
<pre class="example">MKL=&quot;-L${MKL_LIB_PATH} -lmkl_gf_lp64 -lmkl_gnu_thread \
     -lmkl_lapack -lmkl_core -fopenmp -lpthread&quot;
</pre></div>

<p>The default number of threads will be chosen by the OpenMP software,
but can be controlled by setting <code>OMP_NUM_THREADS</code> or
<code>MKL_NUM_THREADS</code>.
</p>
<p>Static threaded MKL may be used (GNU OpenMP) with something like
</p>
<div class="example">
<pre class="example">MKL=&quot;   -L${MKL_LIB_PATH}                               \
        -Wl,--start-group                               \
                ${MKL_LIB_PATH}/libmkl_gf_lp64.a        \
                ${MKL_LIB_PATH}/libmkl_gnu_thread.a     \
                ${MKL_LIB_PATH}/libmkl_core.a           \
        -Wl,--end-group                                 \
        -lgomp -lpthread&quot;
</pre></div>

<p>(Thanks to Ei-ji Nakama).
</p>
<p>The default linking model, which was also used by version 9 of MKL, can
be used by
</p>
<div class="example">
<pre class="example">--with-blas=&quot;-lmkl -lguide -lpthread&quot;
</pre></div>

<p>but this may not match your compiler on a 64-bit platform.  This is
multi-threaded, but in version 9 the number of threads defaults to 1.
It can be increased by setting <code>OMP_NUM_THREADS</code>.  (Thanks to Andy
Liaw for the information.)
</p>
<hr>
<span id="Shared-BLAS"></span><div class="header">
<p>
Previous: <a href="#MKL" accesskey="p" rel="prev">MKL</a>, Up: <a href="#BLAS" accesskey="u" rel="up">BLAS</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Function-and-variable-index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Shared-BLAS-1"></span><h4 class="subsubsection">A.3.1.5 Shared BLAS</h4>

<p>The <acronym>BLAS</acronym> library will be used for many of the add-on packages
as well as for R itself.  This means that it is better to use a
shared/dynamic <acronym>BLAS</acronym> library, as most of a static library will
be compiled into the R executable and each <acronym>BLAS</acronym>-using
package.
</p>
<p>R offers the option of compiling the <acronym>BLAS</acronym> into a dynamic
library <code>libRblas</code> stored in <samp><var>R_HOME</var>/lib</samp> and linking
both R itself and all the add-on packages against that library.
</p>
<p>This is the default on all platforms except AIX unless an external
<acronym>BLAS</acronym> is specified and found: for the latter it can be used by
specifying the option <samp>--enable-BLAS-shlib</samp>, and it can always be
disabled via <samp>--disable-BLAS-shlib</samp>.
</p>
<p>This has both advantages and disadvantages.
</p>
<ul>
<li> It saves space by having only a single copy of the <acronym>BLAS</acronym>
routines, which is helpful if there is an external static <acronym>BLAS</acronym>
such as used to be standard for ATLAS.

</li><li> There may be performance disadvantages in using a shared <acronym>BLAS</acronym>.
Probably the most likely is when R&rsquo;s internal <acronym>BLAS</acronym> is used
and R is <em>not</em> built as a shared library, when it is possible to
build the <acronym>BLAS</acronym> into <samp>R.bin</samp> (and <samp>libR.a</samp>) without
using position-independent code.  However, experiments showed that in
many cases using a shared <acronym>BLAS</acronym> was as fast, provided high
levels of compiler optimization are used.

</li><li> It is easy to change the <acronym>BLAS</acronym> without needing to re-install
R and all the add-on packages, since all references to the
<acronym>BLAS</acronym> go through <code>libRblas</code>, and that can be replaced.
Note though that any dynamic libraries the replacement links to will
need to be found by the linker: this may need the library path to be
changed in <samp><var>R_HOME</var>/etc/ldpaths</samp>.
</li></ul>

<p>Another option to change the <acronym>BLAS</acronym> in use is to symlink a
dynamic <acronym>BLAS</acronym> library (such as ACML or Goto&rsquo;s) to
<samp><var>R_HOME</var>/lib/libRblas.so</samp>.  For example, just
</p>
<div class="example">
<pre class="example">mv <var>R_HOME</var>/lib/libRblas.so <var>R_HOME</var>/lib/libRblas.so.keep
ln -s /opt/acml5.1.0/gfortran64_mp/lib/libacml_mp.so <var>R_HOME</var>/lib/libRblas.so
</pre></div>
<p>will change the <acronym>BLAS</acronym> in use to multithreaded ACML.  A similar
link works for recent versions of the Goto <acronym>BLAS</acronym> and perhaps
for MKL (provided the appropriate <samp>lib</samp> directory is in the
run-time library path or <code>ld.so</code> cache).
</p>

<hr>
<span id="LAPACK"></span><div class="header">
<p>
Next: <a href="#Caveats" accesskey="n" rel="next">Caveats</a>, Previous: <a href="#BLAS" accesskey="p" rel="prev">BLAS</a>, Up: <a href="#Linear-algebra" accesskey="u" rel="up">Linear algebra</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Function-and-variable-index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="LAPACK-1"></span><h4 class="subsection">A.3.2 LAPACK</h4>

<span id="index-LAPACK-library"></span>
<p>Provision is made for using an external LAPACK library, principally to
cope with <acronym>BLAS</acronym> libraries which contain a copy of LAPACK (such
as <code>sunperf</code> on Solaris, <code>vecLib</code> on OS X and ACML on
&lsquo;<samp>ix86</samp>&rsquo;/&lsquo;<samp>x86_64</samp>&rsquo; Linux).  However, the likely performance
gains are thought to be small (and may be negative), and the default is
not to search for a suitable LAPACK library, and this is definitely
<strong>not</strong> recommended.  You can specify a specific LAPACK library or
a search for a generic library by the configuration option
<samp>--with-lapack</samp>.  The default for <samp>--with-lapack</samp> is to
check the <acronym>BLAS</acronym> library and then look for an external library
&lsquo;<samp>-llapack</samp>&rsquo;.  Sites searching for the fastest possible linear
algebra may want to build a LAPACK library using the ATLAS-optimized
subset of LAPACK.  To do so specify something like
</p>
<div class="example">
<pre class="example">--with-lapack=&quot;-L/path/to/ATLAS/libs -llapack -lcblas&quot;
</pre></div>

<p>since the ATLAS subset of LAPACK depends on <code>libcblas</code>.  A value
for <samp>--with-lapack</samp> can be set <em>via</em> the environment
variable
<span id="index-LAPACK_005fLIBS"></span>
<code>LAPACK_LIBS</code>, but this will only be used if <samp>--with-lapack</samp>
is specified (as the default value is <code>no</code>) and the <acronym>BLAS</acronym> library
does not contain LAPACK.
</p>
<p>Since ACML contains a full LAPACK, if selected as the <acronym>BLAS</acronym> it
can be used as the LAPACK <em>via</em> <samp>--with-lapack</samp>.
</p>
<p>If you do use <samp>--with-lapack</samp>, be aware of potential problems
with bugs in the LAPACK 3.0 sources (or in the posted corrections to those
sources).  In particular, bugs in <code>DGEEV</code> and <code>DGESDD</code> have
resulted in error messages such as
</p>
<div class="example">
<pre class="example">DGEBRD gave error code -10
</pre></div>

<p>.  Other potential problems are incomplete versions of the libraries,
seen several times over the years.  For problems compiling LAPACK using
recent versions of <code>gcc</code> on &lsquo;<samp>ix86</samp>&rsquo; Linux, see <a href="#New-platforms">New platforms</a>.
</p>
<p>Please <strong>do</strong> bear in mind that using <samp>--with-lapack</samp> is
&lsquo;definitely <strong>not</strong> recommended&rsquo;: it is provided <strong>only</strong>
because it is necessary on some platforms.  Reporting problems where it
is used unnecessarily will simply irritate the R helpers.
</p>
<hr>
<span id="Caveats"></span><div class="header">
<p>
Previous: <a href="#LAPACK" accesskey="p" rel="prev">LAPACK</a>, Up: <a href="#Linear-algebra" accesskey="u" rel="up">Linear algebra</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Function-and-variable-index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Caveats-1"></span><h4 class="subsection">A.3.3 Caveats</h4>

<p>As with all libraries, you need to ensure that they and R were
compiled with compatible compilers and flags.  For example, this has
meant that on Sun Sparc using the native compilers the flag
<samp>-dalign</samp> is needed so <code>sunperf</code> can be used.
</p>
<p>On some systems it is necessary that an external <acronym>BLAS</acronym>/LAPACK
was built with the same FORTRAN compiler used to build R: known
problems are with R built with <code>gfortran</code>, see <a href="#Using-gfortran">Using gfortran</a>.
</p>


<hr>
<span id="Configuration-on-a-Unix_002dalike"></span><div class="header">
<p>
Next: <a href="#Platform-notes" accesskey="n" rel="next">Platform notes</a>, Previous: <a href="#Essential-and-useful-other-programs-under-a-Unix_002dalike" accesskey="p" rel="prev">Essential and useful other programs under a Unix-alike</a>, Up: <a href="#Top" accesskey="u" rel="up">Top</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Function-and-variable-index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Configuration-on-a-Unix_002dalike-1"></span><h2 class="appendix">Appendix B Configuration on a Unix-alike</h2>

<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top">&bull; <a href="#Configuration-options" accesskey="1">Configuration options</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Compressed-and-uncompressed-pointers" accesskey="2">Compressed and uncompressed pointers</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Helper-threads-and-task-merging" accesskey="3">Helper threads and task merging</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Internationalization-support" accesskey="4">Internationalization support</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Configuration-variables" accesskey="5">Configuration variables</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Setting-the-shell" accesskey="6">Setting the shell</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Using-make" accesskey="7">Using make</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Using-FORTRAN" accesskey="8">Using FORTRAN</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Compile-and-load-flags" accesskey="9">Compile and load flags</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
</table>

<hr>
<span id="Configuration-options"></span><div class="header">
<p>
Next: <a href="#Compressed-and-uncompressed-pointers" accesskey="n" rel="next">Compressed and uncompressed pointers</a>, Previous: <a href="#Configuration-on-a-Unix_002dalike" accesskey="p" rel="prev">Configuration on a Unix-alike</a>, Up: <a href="#Configuration-on-a-Unix_002dalike" accesskey="u" rel="up">Configuration on a Unix-alike</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Function-and-variable-index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Configuration-options-1"></span><h3 class="section">B.1 Configuration options</h3>

<p><code>configure</code> has many options: running
</p>
<div class="example">
<pre class="example">./configure --help
</pre></div>

<p>will give a list.  Probably the most important ones not covered
elsewhere are (defaults in brackets)
</p>
<dl compact="compact">
<dt><samp>--with-x</samp></dt>
<dd><p>use the X Window System [yes]
</p></dd>
<dt><samp>--x-includes=<var>DIR</var></samp></dt>
<dd><p>X include files are in <var>DIR</var>
</p></dd>
<dt><samp>--x-libraries=<var>DIR</var></samp></dt>
<dd><p>X library files are in <var>DIR</var>
</p></dd>
<dt><samp>--with-readline</samp></dt>
<dd><p>use readline library (if available) [yes]
</p></dd>
<dt><samp>--enable-R-profiling</samp></dt>
<dd><p>attempt to compile support for <code>Rprof()</code> [yes]
</p></dd>
<dt><samp>--enable-memory-profiling</samp></dt>
<dd><p>attempt to compile support for <code>tracemem()</code> [no]
</p></dd>
<dt><samp>--enable-R-shlib</samp></dt>
<dd><p>build R as a shared/dynamic library [no]
</p></dd>
<dt><samp>--enable-BLAS-shlib</samp></dt>
<dd><p>build the <acronym>BLAS</acronym> as a shared/dynamic library [yes, except on AIX]
</p></dd>
</dl>

<p>You can use <samp>--without-foo</samp> or <samp>--disable-foo</samp> for the
negatives.
</p>
<p>You will want to use <samp>--disable-R-profiling</samp> if you are building
a profiled executable of R (e.g. with &lsquo;<samp>-pg)</samp>&rsquo;.
</p>
<p>Flag <samp>--enable-R-shlib</samp> causes the make process to build R as
a dynamic (shared) library, typically called <samp>libR.so</samp>, and link
the main R executable <samp>R.bin</samp> against that library.  This can
only be done if all the code (including system libraries) can be
compiled into a dynamic library, and there may be a
performance<a id="DOCF33" href="#FOOT33"><sup>33</sup></a> penalty.  So you probably
only want this if you will be using an application which embeds R.
Note that C code in packages installed on an R system linked with
<samp>--enable-R-shlib</samp> is linked against the dynamic library and so
such packages cannot be used from an R system built in the default
way.  Also, because packages are linked against R they are on some
OSes also linked against the dynamic libraries R itself is linked
against, and this can lead to symbol conflicts.
</p>
<p>If you need to re-configure R with different options you may need to run
<code>make clean</code> or even <code>make distclean</code> before doing so.
</p>

<hr>
<span id="Compressed-and-uncompressed-pointers"></span><div class="header">
<p>
Next: <a href="#Helper-threads-and-task-merging" accesskey="n" rel="next">Helper threads and task merging</a>, Previous: <a href="#Configuration-options" accesskey="p" rel="prev">Configuration options</a>, Up: <a href="#Configuration-on-a-Unix_002dalike" accesskey="u" rel="up">Configuration on a Unix-alike</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Function-and-variable-index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Compressed-and-uncompressed-pointers-1"></span><h3 class="section">B.2 Compressed and uncompressed pointers</h3>

<p>By default, pqR represents objects internally using ordinary pointers
(machine addresses), which are commonly either 64 bits or 32 bits in
size.  As an alternative, pqR can instead use compressed pointers,
which are 32 bits in size on all platforms.  On a 64-bit platform,
this reduces memory usage, considerably in some cases.  On a 32-bit
platform, there is also some reduction in memory usage, though not by
as much.  The cost is that some programs run a bit slower, due to the
overhead of decoding the compressed pointers, though other programs
run faster, due to the smaller memory usage.
</p>
<p>To enable use of compressed pointers, give the
<samp>--enable-compressed-pointers</samp> option to <code>./configure</code>.
</p>
<p>That option is probably all that is needed to use compressed pointers,
but programs that use a large amount of memory (many Gigabytes), in
the form of a huge number of fairly small objects, may need to
increase the default limit on the number of &ldquo;segments&rdquo; used for
compressed pointers.  This can be done by adding, for example,
<samp>-DSGGC_MAX_SEGMENTS=50000000</samp> to <samp>CFLAGS</samp>.  On Intel
machines (and perhaps others), such a large limit may be undesirable
otherwise, since it reduces the size of a program that can be handled
with the &ldquo;medium&rdquo; memory model, though problems are still unlikely.
</p>
<p>If uncompressed pointers are used, on a platform with 64-bit pointers,
the <samp>--enable-aux-for-attrib</samp> option to <code>./configure</code>
will alter the representation of objects so that attributes are
stored as &ldquo;auxiliary information&rdquo;.  This allows more compact
representations of some objects, with possible speed and memory
benefits.
</p>
<p>The <samp>--enable-compressed-pointers</samp> and
<samp>--enable-aux-for-attrib</samp> options affect how C code used with
<code>.Call</code> and <code>.External</code> is compiled.  C code compiled with
one setting for these options must not be used by a version of pqR
compiled with other settings.
</p>
<hr>
<span id="Helper-threads-and-task-merging"></span><div class="header">
<p>
Next: <a href="#Internationalization-support" accesskey="n" rel="next">Internationalization support</a>, Previous: <a href="#Compressed-and-uncompressed-pointers" accesskey="p" rel="prev">Compressed and uncompressed pointers</a>, Up: <a href="#Configuration-on-a-Unix_002dalike" accesskey="u" rel="up">Configuration on a Unix-alike</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Function-and-variable-index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Helper-threads-and-task-merging-1"></span><h3 class="section">B.3 Helper threads and task merging</h3>

<p>Support for computations in helper threads and for merging of tasks is
enabled by default.  
</p>
<p>Use of helper threads may be disabled with the
<code>--disable-helper-threads</code> configuration option.  Disabling
support for helper threads will produce a small speed improvement,
compared to running pqR with helper thread support enabled, but
with no helper threads.  The <code>--disable-helper-threads</code> option
will also allow pqR to be built on a system that does not support
OpenMP.
</p>
<p>Merging of tasks may be disabled with the
<code>--disable-task-merging</code> configuration option.  Currently, code
for all possible merged tasks (2744 of them) is generated at compile
time.  This code occupies space at run time, and takes time and space
to generate when pqR is compiled.  On very small systems, it may therefore
be desirable (or essential) to disable task merging.
</p>
<p>The whole helpers apparatus, including deferred evaluation even with
no helper threads and no task merging, can be disabled with the
<code>--disable-deferred-evaluation</code> configuraton option. This will
produce a further slight speed improvement in situations where neither
helper threads nor task merging are useful.
</p>
<p>If the BLAS routines used for matrix multiplication are not
thread-safe, the <code>BLAS_in_helpers=FALSE</code> option (whose default
can be set by <code>configure</code>) should be used, to prevent tasks that
call the BLAS from being run in helper threads.  This option may also
be useful if the BLAS is multi-threaded and runs inefficiently (even
if correctly) when several BLAS routines are running in parallel.  You
may also want to set the <code>mat_mult_with_BLAS</code> option as desired.
The defaults for these options are <code>BLAS_in_helpers=FALSE</code> and
<code>mat_mult_with_BLAS=NA</code> when <code>--with-blas</code> is given as an
argument to <code>configure</code>, and <code>BLAS_in_helpers=TRUE</code> and
<code>mat_mult_with_BLAS=FALSE</code> when there is no <code>--with-blas</code>
argument.  See <code>help(options)</code> for more on the meaning of these
options.
</p>

<hr>
<span id="Internationalization-support"></span><div class="header">
<p>
Next: <a href="#Configuration-variables" accesskey="n" rel="next">Configuration variables</a>, Previous: <a href="#Helper-threads-and-task-merging" accesskey="p" rel="prev">Helper threads and task merging</a>, Up: <a href="#Configuration-on-a-Unix_002dalike" accesskey="u" rel="up">Configuration on a Unix-alike</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Function-and-variable-index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Internationalization-support-1"></span><h3 class="section">B.4 Internationalization support</h3>

<p>Translation of messages is supported via <acronym>GNU</acronym> <code>gettext</code>
unless disabled by the configure option <samp>--disable-nls</samp>.
The <code>configure</code> report will show <code>NLS</code> as one of the
&lsquo;Additional capabilities&rsquo; if support has been compiled in, and running
in an English locale (but not the <code>C</code> locale) will include
</p>
<div class="example">
<pre class="example">  Natural language support but running in an English locale
</pre></div>

<p>in the greeting on starting R.
</p>

<hr>
<span id="Configuration-variables"></span><div class="header">
<p>
Next: <a href="#Setting-the-shell" accesskey="n" rel="next">Setting the shell</a>, Previous: <a href="#Internationalization-support" accesskey="p" rel="prev">Internationalization support</a>, Up: <a href="#Configuration-on-a-Unix_002dalike" accesskey="u" rel="up">Configuration on a Unix-alike</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Function-and-variable-index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Configuration-variables-1"></span><h3 class="section">B.5 Configuration variables</h3>

<span id="index-configure-4"></span>
<p>If you need or want to set certain configure variables to something
other than their default, you can do that by either editing the file
<samp>config.site</samp> (which documents many of the variables you might want
to set: others can be seen in file <samp>etc/Renviron.in</samp>) or on the
command line as
</p>
<div class="example">
<pre class="example">./configure <var>VAR</var>=<var>value</var>
</pre></div>

<p>If you are building in a directory different from the sources, there can
be copies of <samp>config.site</samp> in the source and the build directories,
and both will be read (in that order).  In addition, if there is a file
<samp>~/.R/config</samp> (or failing that) <code>~/.Rconfig</code>), it is read
between the <samp>config.site</samp> files in the source and the build
directories.
</p>
<p>There is also a general <code>autoconf</code> mechanism for
<samp>config.site</samp> files, which are read before any of those mentioned
in the previous paragraph.  This looks first at a file specified by the
<span id="index-CONFIG_005fSITE"></span>
environment variable <code>CONFIG_SITE</code>, and if not is set at files such
as <samp>/usr/local/share/config.site</samp> and
<samp>/usr/local/etc/config.site</samp> in the area (exemplified by
<samp>/usr/local</samp>) where R would be installed.
</p>
<p>These variables are <em>precious</em>, implying that they do not have to
be exported to the environment, are kept in the cache even if not
specified on the command line, checked for consistency between two
configure runs (provided that caching is used), and are kept during
automatic reconfiguration as if having been passed as command line
arguments, even if no cache is used.
</p>
<p>See the variable output section of <code>configure --help</code> for a list of
all these variables.
</p>
<p>If you find you need to alter configure variables, it is worth noting
that some settings may be cached in the file <samp>config.cache</samp>, and it
is a good idea to remove that file (if it exists) before re-configuring.
Note that caching is turned <em>off</em> by default: use the command line
option <samp>--config-cache</samp> (or <samp>-C</samp>) to enable caching.
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top">&bull; <a href="#Setting-paper-size" accesskey="1">Setting paper size</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Setting-the-browsers" accesskey="2">Setting the browsers</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Compilation-flags" accesskey="3">Compilation flags</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Making-manuals" accesskey="4">Making manuals</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
</table>

<hr>
<span id="Setting-paper-size"></span><div class="header">
<p>
Next: <a href="#Setting-the-browsers" accesskey="n" rel="next">Setting the browsers</a>, Previous: <a href="#Configuration-variables" accesskey="p" rel="prev">Configuration variables</a>, Up: <a href="#Configuration-variables" accesskey="u" rel="up">Configuration variables</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Function-and-variable-index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Setting-paper-size-1"></span><h4 class="subsection">B.5.1 Setting paper size</h4>
<span id="index-R_005fPAPERSIZE-2"></span>
<p>One common variable to change is <code>R_PAPERSIZE</code>, which defaults to
&lsquo;<samp>a4</samp>&rsquo;, not &lsquo;<samp>letter</samp>&rsquo;.  (Valid values are &lsquo;<samp>a4</samp>&rsquo;,
&lsquo;<samp>letter</samp>&rsquo;, &lsquo;<samp>legal</samp>&rsquo; and &lsquo;<samp>executive</samp>&rsquo;.)
</p>
<p>This is used both when configuring R to set the default, and when
running R to override the default.  It is also used to set the
paper size when making PDF manuals.
</p>
<p>The configure default will most often be &lsquo;<samp>a4</samp>&rsquo; if <code>R_PAPERSIZE</code>
is unset.  (If the (Debian Linux) program <code>paperconf</code> is found
<span id="index-PAPERSIZE"></span>
or the environment variable <code>PAPERSIZE</code> is set, these are used to
produce the default.)
</p>
<hr>
<span id="Setting-the-browsers"></span><div class="header">
<p>
Next: <a href="#Compilation-flags" accesskey="n" rel="next">Compilation flags</a>, Previous: <a href="#Setting-paper-size" accesskey="p" rel="prev">Setting paper size</a>, Up: <a href="#Configuration-variables" accesskey="u" rel="up">Configuration variables</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Function-and-variable-index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Setting-the-browsers-1"></span><h4 class="subsection">B.5.2 Setting the browsers</h4>

<span id="index-R_005fBROWSER"></span>
<p>Another precious variable is <code>R_BROWSER</code>, the default HTML browser, which
should take a value of an executable in the user&rsquo;s path or specify
a full path.
</p>
<span id="index-R_005fPDFVIEWER"></span>
<p>Its counterpart for PDF files is  <code>R_PDFVIEWER</code>.
</p>
<hr>
<span id="Compilation-flags"></span><div class="header">
<p>
Next: <a href="#Making-manuals" accesskey="n" rel="next">Making manuals</a>, Previous: <a href="#Setting-the-browsers" accesskey="p" rel="prev">Setting the browsers</a>, Up: <a href="#Configuration-variables" accesskey="u" rel="up">Configuration variables</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Function-and-variable-index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Compilation-flags-1"></span><h4 class="subsection">B.5.3 Compilation flags</h4>

<p>If you have libraries and header files, e.g., for <acronym>GNU</acronym>
readline, in non-system directories, use the variables <code>LDFLAGS</code>
(for libraries, using &lsquo;<samp>-L</samp>&rsquo; flags to be passed to the linker) and
<code>CPPFLAGS</code> (for header files, using &lsquo;<samp>-I</samp>&rsquo; flags to be passed to
the C/C++ preprocessors), respectively, to specify these locations.
These default to &lsquo;<samp>-L/usr/local/lib</samp>&rsquo; (<code>LDFLAGS</code>,
&lsquo;<samp>-L/usr/local/lib64</samp>&rsquo; on most 64-bit Linux OSes) and
&lsquo;<samp>-I/usr/local/include</samp>&rsquo; (<code>CPPFLAGS</code>) to catch the most common
cases.  If libraries are still not found, then maybe your
compiler/linker does not support re-ordering of <samp>-L</samp> and
<samp>-l</samp> flags (this has been reported to be a problem on HP-UX with
the native <code>cc</code>).  In this case, use a different compiler (or a
front end shell script which does the re-ordering).
</p>
<p>These flags can also be used to build a faster-running version of R.
On most platforms using <code>gcc</code>, having &lsquo;<samp>-O3</samp>&rsquo; in
<code>CFLAGS</code> and <code>FFLAGS</code> produces worthwhile performance gains
with <code>gcc</code> and <code>gfortran</code>, though it is also possible
that this will create bugs due to over-enthusiastic optimization, or
produce code that is slower than with &lsquo;<samp>-O2</samp>&rsquo;.
</p>
<p>On systems using the <acronym>GNU</acronym> linker (especially those using R as 
a shared library), it is likely that including &lsquo;<samp>-Wl,-O1</samp>&rsquo; in <code>LDFLAGS</code>
is worthwhile, and &lsquo;<samp>'-Bdirect,--hash-style=both,-Wl,-O1'</samp>&rsquo; is
recommended at <a href="http://lwn.net/Articles/192624/">http://lwn.net/Articles/192624/</a>.
</p>
<p>Tuning compilation to a specific <acronym>CPU</acronym> family (e.g.
&lsquo;<samp>-mtune=native</samp>&rsquo; for <code>gcc</code>) can give worthwhile performance
gains, especially on older architectures such as &lsquo;<samp>ix86</samp>&rsquo;.
</p>
<hr>
<span id="Making-manuals"></span><div class="header">
<p>
Previous: <a href="#Compilation-flags" accesskey="p" rel="prev">Compilation flags</a>, Up: <a href="#Configuration-variables" accesskey="u" rel="up">Configuration variables</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Function-and-variable-index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Making-manuals-1"></span><h4 class="subsection">B.5.4 Making manuals</h4>

<span id="index-R_005fRD4PDF-1"></span>
<span id="index-R_005fPAPERSIZE-3"></span>
<p>The default settings for making the manuals are controlled by
<code>R_RD4PDF</code> and <code>R_PAPERSIZE</code>.
</p>
<hr>
<span id="Setting-the-shell"></span><div class="header">
<p>
Next: <a href="#Using-make" accesskey="n" rel="next">Using make</a>, Previous: <a href="#Configuration-variables" accesskey="p" rel="prev">Configuration variables</a>, Up: <a href="#Configuration-on-a-Unix_002dalike" accesskey="u" rel="up">Configuration on a Unix-alike</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Function-and-variable-index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Setting-the-shell-1"></span><h3 class="section">B.6 Setting the shell</h3>

<p>By default the shell scripts such as <samp>R</samp> will be &lsquo;<samp>#!/bin/sh</samp>&rsquo;
scripts (or using the <code>SHELL</code> chosen by <samp>configure</samp>).  This is
almost always satisfactory, but on a few systems <samp>/bin/sh</samp> is not a
Bourne shell or clone, and the shell to be used can be changed by
setting the configure variable <code>R_SHELL</code> to a suitable value (a full
path to a shell, e.g. <samp>/usr/local/bin/bash</samp>).
</p>
<hr>
<span id="Using-make"></span><div class="header">
<p>
Next: <a href="#Using-FORTRAN" accesskey="n" rel="next">Using FORTRAN</a>, Previous: <a href="#Setting-the-shell" accesskey="p" rel="prev">Setting the shell</a>, Up: <a href="#Configuration-on-a-Unix_002dalike" accesskey="u" rel="up">Configuration on a Unix-alike</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Function-and-variable-index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Using-make-1"></span><h3 class="section">B.7 Using make</h3>
<span id="index-make"></span>

<p>To compile R, you will most likely find it easiest to use
<acronym>GNU</acronym> <code>make</code>, although the Sun <code>make</code> works on
Solaris, as does the native FreeBSD <code>make</code>.  The native
<code>make</code> has been reported to fail on SGI Irix 6.5 and Alpha/OSF1
(aka Tru64).
</p>
<p>To build in a separate directory you need a <code>make</code> that uses the
<code>VPATH</code> variable, for example <acronym>GNU</acronym> <code>make</code>, or Sun
<code>make</code> on Solaris 7 or later.
</p>
<p><code>dmake</code> has also been used. e.g, on Solaris 10.
</p>
<p>If you want to use a <code>make</code> by another name, for example if your
<acronym>GNU</acronym> <code>make</code> is called &lsquo;<samp>gmake</samp>&rsquo;, you need to set the
variable <code>MAKE</code> at configure time, for example
</p>
<span id="index-configure-5"></span>
<div class="example">
<pre class="example">./configure MAKE=gmake
</pre></div>

<hr>
<span id="Using-FORTRAN"></span><div class="header">
<p>
Next: <a href="#Compile-and-load-flags" accesskey="n" rel="next">Compile and load flags</a>, Previous: <a href="#Using-make" accesskey="p" rel="prev">Using make</a>, Up: <a href="#Configuration-on-a-Unix_002dalike" accesskey="u" rel="up">Configuration on a Unix-alike</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Function-and-variable-index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Using-FORTRAN-1"></span><h3 class="section">B.8 Using FORTRAN</h3>
<span id="index-FORTRAN"></span>

<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top">&bull; <a href="#Using-gfortran" accesskey="1">Using gfortran</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
</table>

<p>To compile R, you need a FORTRAN compiler.  The default
is to search for
<code>f95</code>, <code>fort</code>, <code>xlf95</code>,
<code>ifort</code>, <code>ifc</code>, <code>efc</code>, <code>pgf95</code>
<code>lf95</code>, <code>gfortran</code>, <code>ftn</code>, <code>g95</code>,
<code>f90</code>, <code>xlf90</code>, <code>pghpf</code>, <code>pgf90</code>,
<code>epcf90</code>,
<code>g77</code>, <code>f77</code>, <code>xlf</code>, <code>frt</code>,
<code>pgf77</code>, <code>cf77</code>, <code>fort77</code>, <code>fl32</code>,
<code>af77</code> (in that order)<a id="DOCF34" href="#FOOT34"><sup>34</sup></a>, and use whichever is found first; if none is found,
R cannot be compiled.
However, if <code>CC</code> is <code>gcc</code>, the matching FORTRAN compiler
(<code>g77</code> for <code>gcc</code>&nbsp;3 and <code>gfortran</code> for
<code>gcc</code>&nbsp;4) is used if available.
</p>
<p>The search mechanism can be changed using the configure variable
<code>F77</code> which specifies the command that runs the FORTRAN 77
compiler.  If your FORTRAN compiler is in a non-standard location, you
<span id="index-PATH-1"></span>
should set the environment variable <code>PATH</code> accordingly before
running <code>configure</code>, or use the configure variable <code>F77</code> to
specify its full path.
</p>
<p>If your FORTRAN libraries are in slightly peculiar places, you should
<span id="index-LD_005fLIBRARY_005fPATH-2"></span>
also look at <code>LD_LIBRARY_PATH</code> or your system&rsquo;s equivalent to make
sure that all libraries are on this path.
</p>
<p>Note that only FORTRAN compilers which convert identifiers to lower case
are supported.
</p>
<p>You must set whatever compilation flags (if any) are needed to ensure
that FORTRAN <code>integer</code> is equivalent to a C <code>int</code> pointer and
FORTRAN <code>double precision</code> is equivalent to a C <code>double</code>
pointer.  This is checked during the configuration process.
</p>
<p>Some of the FORTRAN code makes use of <code>COMPLEX*16</code> variables, which
is a Fortran 90 extension.  This is checked for at configure
time<a id="DOCF35" href="#FOOT35"><sup>35</sup></a>, but you may need to avoid
compiler flags<a id="DOCF36" href="#FOOT36"><sup>36</sup></a> asserting
FORTRAN 77 compliance.
</p>
<span id="index-BLAS-library-1"></span>
<p>For performance reasons<a id="DOCF37" href="#FOOT37"><sup>37</sup></a> you may want to choose a FORTRAN 90/95 compiler.
</p>
<p>It may be possible to use <code>f2c</code>, the FORTRAN-to-C converter
(<a href="http://www.netlib.org/f2c">http://www.netlib.org/f2c</a>), via a script.  (An example script
is given in <samp>scripts/f77_f2c</samp>: this can be customized by setting
<span id="index-F2C"></span>
<span id="index-F2CLIBS"></span>
<span id="index-CC"></span>
the environment variables <code>F2C</code>, <code>F2CLIBS</code>, <code>CC</code> and
<span id="index-CPP"></span>
<code>CPP</code>.)  You will need to ensure that the FORTRAN type
<code>integer</code> is translated to the C type <code>int</code>.  Normally
<samp>f2c.h</samp> contains &lsquo;<samp>typedef long int integer;</samp>&rsquo;, which will work
on a 32-bit platform but not on a 64-bit platform.  If your compiler is
not <code>gcc</code> you
<span id="index-FPICFLAGS"></span>
will need to set <code>FPICFLAGS</code> appropriately.
</p>

<hr>
<span id="Using-gfortran"></span><div class="header">
<p>
Previous: <a href="#Using-FORTRAN" accesskey="p" rel="prev">Using FORTRAN</a>, Up: <a href="#Using-FORTRAN" accesskey="u" rel="up">Using FORTRAN</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Function-and-variable-index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Using-gfortran-1"></span><h4 class="subsection">B.8.1 Using gfortran</h4>

<p><code>gfortran</code> is the F95 compiler that is part of
<code>gcc</code>&nbsp;4.<var>x</var>.<var>y</var>.  There were problems compiling
R with the first release (<code>gcc</code>&nbsp;4.0.0) and more with
pre-releases, but these are resolved in later versions.
</p>
<p>On Linux &lsquo;<samp>x86_64</samp>&rsquo; systems there is an incompatibility in the
return conventions for double-complex functions between
<code>gfortran</code> and <code>g77</code> which results in the final example
in <code>example(eigen)</code> hanging or segfaulting under external <acronym>BLAS</acronym>s
built under <code>g77</code>.  This should be detected by a
<code>configure</code> test.
</p>
<p>The default <code>FFLAGS</code> and <code>FCFLAGS</code> chosen (by
<code>autoconf</code>) for a <acronym>GNU</acronym> FORTRAN compiler is &lsquo;<samp>-g
-O2</samp>&rsquo;.  This has caused problems (segfaults and infinite loops) on
&lsquo;<samp>x86_64</samp>&rsquo; Linux in the past, but seems fine with
<code>gfortran 4.4.4</code> and later: for <code>gfortran 4.3.x</code> set
<code>FFLAGS</code> and <code>FCFLAGS</code> to use at most &lsquo;<samp>-O</samp>&rsquo;.
</p>
<hr>
<span id="Compile-and-load-flags"></span><div class="header">
<p>
Previous: <a href="#Using-FORTRAN" accesskey="p" rel="prev">Using FORTRAN</a>, Up: <a href="#Configuration-on-a-Unix_002dalike" accesskey="u" rel="up">Configuration on a Unix-alike</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Function-and-variable-index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Compile-and-load-flags-1"></span><h3 class="section">B.9 Compile and load flags</h3>

<p>A wide range of flags can be set in the file <samp>config.site</samp> or as
configure variables on the command line.  We have already mentioned
</p>
<dl compact="compact">
<dt><code>CPPFLAGS</code></dt>
<dd><p>header file search directory (<samp>-I</samp>) and any other miscellaneous
options for the C and C++ preprocessors and compilers
</p></dd>
<dt><code>LDFLAGS</code></dt>
<dd><p>path (<samp>-L</samp>), stripping (<samp>-s</samp>) and any other miscellaneous
options for the linker
</p></dd>
</dl>

<p>and others include
</p>
<dl compact="compact">
<dt><code>CFLAGS</code></dt>
<dd><p>debugging and optimization flags, C
</p></dd>
<dt><code>MAIN_CFLAGS</code></dt>
<dd><p>ditto, for compiling the main program
</p></dd>
<dt><code>SHLIB_CFLAGS</code></dt>
<dd><p>for shared objects
</p></dd>
<dt><code>FFLAGS</code></dt>
<dd><p>debugging and optimization flags, FORTRAN
</p></dd>
<dt><code>SAFE_FFLAGS</code></dt>
<dd><p>ditto for source files which need exact floating point behaviour
</p></dd>
<dt><code>MAIN_FFLAGS</code></dt>
<dd><p>ditto, for compiling the main program
</p></dd>
<dt><code>SHLIB_FFLAGS</code></dt>
<dd><p>for shared objects
</p></dd>
<dt><code>MAIN_LDFLAGS</code></dt>
<dd><p>additional flags for the main link
</p></dd>
<dt><code>SHLIB_LDFLAGS</code></dt>
<dd><p>additional flags for linking the shared objects
</p></dd>
<dt><code>LIBnn</code></dt>
<dd><p>the primary library directory, <samp>lib</samp> or <samp>lib64</samp>
</p></dd>
<dt><code>CPICFLAGS</code></dt>
<dd><p>special flags for compiling C code to be turned into a shared object
</p></dd>
<dt><code>FPICFLAGS</code></dt>
<dd><p>special flags for compiling Fortran code to be turned into a shared object
</p></dd>
<dt><code>CXXPICFLAGS</code></dt>
<dd><p>special flags for compiling C++ code to be turned into a shared object
</p></dd>
<dt><code>FCPICFLAGS</code></dt>
<dd><p>special flags for compiling Fortran 95 code to be turned into a shared object
</p></dd>
<dt><code>DEFS</code></dt>
<dd><p>defines to be used when compiling C code in R itself
</p></dd>
</dl>

<p>Library paths specified as <samp>-L/lib/path</samp> in <code>LDFLAGS</code> are
<span id="index-LD_005fLIBRARY_005fPATH-3"></span>
collected together and prepended to <code>LD_LIBRARY_PATH</code> (or your
system&rsquo;s equivalent), so there should be no need for <samp>-R</samp> or
<samp>-rpath</samp> flags.
</p>
<p>Variables such as <code>CPICFLAGS</code> are determined where possible by
<code>configure</code>.  Some systems allows two types of PIC flags, for
example &lsquo;<samp>-fpic</samp>&rsquo; and &lsquo;<samp>-fPIC</samp>&rsquo;, and if they differ the first
allows only a limited number of symbols in a shared object.  Since R
as a shared library has about 6200 symbols, if in doubt use the larger
version.
</p>
<p>To compile a profiling version of R, one might for example want to
use &lsquo;<samp>MAIN_CFLAGS=-pg</samp>&rsquo;, &lsquo;<samp>MAIN_FFLAGS=-pg</samp>&rsquo;,
&lsquo;<samp>MAIN_LDFLAGS=-pg</samp>&rsquo; on platforms where &lsquo;<samp>-pg</samp>&rsquo; cannot be used
with position-independent code.
</p>
<p><strong>Beware</strong>: it may be necessary to set <code>CFLAGS</code> and
<code>FFLAGS</code> in ways compatible with the libraries to be used: one
possible issue is the alignment of doubles, another is the way
structures are passed.
</p>
<p>On some platforms <code>configure</code> will select additional flags for
<code>CFLAGS</code>, <code>CPPFLAGS</code>, <code>FFLAGS</code>, <code>CXXFLAGS</code> and
<code>LIBS</code> in <code>R_XTRA_CFLAGS</code> (and so on).  These are for options
which are always required, for example to force <acronym>IEC</acronym>&nbsp;60559
compliance.
</p>

<hr>
<span id="Platform-notes"></span><div class="header">
<p>
Next: <a href="#The-Windows-toolset" accesskey="n" rel="next">The Windows toolset</a>, Previous: <a href="#Configuration-on-a-Unix_002dalike" accesskey="p" rel="prev">Configuration on a Unix-alike</a>, Up: <a href="#Top" accesskey="u" rel="up">Top</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Function-and-variable-index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Platform-notes-1"></span><h2 class="appendix">Appendix C Platform notes</h2>

<p>This section provides some notes on building R on different Unix-alike
platforms.  These notes are based on tests run on one or two systems in
each case with particular sets of compilers and support libraries.
Success in building R depends on the proper installation and functioning
of support software; your results may differ if you have other versions
of compilers and support libraries.
</p>
<p>Older versions of this manual (for R &lt; 2.10.0) contain notes on
platforms such as HP-UX, IRIX and Alpha/OSF1 for which we have had no
recent reports.
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top">&bull; <a href="#X11-issues" accesskey="1">X11 issues</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Linux" accesskey="2">Linux</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#FreeBSD" accesskey="3">FreeBSD</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Mac-OS-X" accesskey="4">Mac OS X</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Solaris" accesskey="5">Solaris</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#AIX" accesskey="6">AIX</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Cygwin" accesskey="7">Cygwin</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#New-platforms" accesskey="8">New platforms</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
</table>

<hr>
<span id="X11-issues"></span><div class="header">
<p>
Next: <a href="#Linux" accesskey="n" rel="next">Linux</a>, Previous: <a href="#Platform-notes" accesskey="p" rel="prev">Platform notes</a>, Up: <a href="#Platform-notes" accesskey="u" rel="up">Platform notes</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Function-and-variable-index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="X11-issues-1"></span><h3 class="section">C.1 X11 issues</h3>

<p>The &lsquo;<samp>X11()</samp>&rsquo; graphics device is the one started automatically on
Unix-alikes when plotting.  As its name implies, it displays on a (local
or remote) X server, and relies on the services provided by the X
server.
</p>
<p>The &lsquo;modern&rsquo; version of the &lsquo;<samp>X11()</samp>&rsquo; device is based on &lsquo;<samp>cairo</samp>&rsquo;
graphics and (in most implementations) uses &lsquo;<samp>fontconfig</samp>&rsquo; to pick and
render fonts.  This is done on the server, and although there can be
selection issues, they are more amenable than the issues with
&lsquo;<samp>X11()</samp>&rsquo; discussed in the rest of this section.
</p>
<p>When X11 was designed, most displays were around 75dpi, whereas today
they are of the order of 100dpi or more.  If you find that X11()
is reporting<a id="DOCF38" href="#FOOT38"><sup>38</sup></a> missing font sizes, especially larger ones, it is likely
that you are not using scalable fonts and have not installed the 100dpi
versions of the X11 fonts.  The names and details differ by system, but
will likely have something like Fedora&rsquo;s
</p><div class="example">
<pre class="example">xorg-x11-fonts-75dpi
xorg-x11-fonts-100dpi
xorg-x11-fonts-ISO8859-2-75dpi
xorg-x11-fonts-Type1
xorg-x11-fonts-cyrillic
</pre></div>

<p>and you need to ensure that the &lsquo;<samp>-100dpi</samp>&rsquo; versions are installed
and on the X11 font path (check via <code>xset -q</code>).  The
&lsquo;<samp>X11()</samp>&rsquo; device does try to set a pointsize and not a pixel size:
laptop users may find the default setting of 12 too large (although very
frequently laptop screens are set to a fictitious dpi to appear like a
scaled-down desktop screen).
</p>
<p>More complicated problems can occur in non-Western-European locales, so
if you are using one, the first thing to check is that things work in
the <code>C</code> locale.  The likely issues are a failure to find any fonts
or glyphs being rendered incorrectly (often as a pair of ASCII
characters).  X11 works by being asked for a font specification and
coming up with its idea of a close match.  For text (as distinct from
the symbols used by plotmath), the specification is the first element of
the option <code>&quot;X11fonts&quot;</code> which defaults to
</p>
<div class="example">
<pre class="example">&quot;-adobe-helvetica-%s-%s-*-*-%d-*-*-*-*-*-*-*&quot;
</pre></div>

<p>If you are using a single-byte encoding, for example ISO 8859-2 in
Eastern Europe or KOI8-R in Russian, use <code>xlsfonts</code> to find an
appropriate family of fonts in your encoding (the last field in the
listing).  If you find none, it is likely that you need to install
further font packages, such as &lsquo;<samp>xorg-x11-fonts-ISO8859-2-75dpi</samp>&rsquo; and
&lsquo;<samp>xorg-x11-fonts-cyrillic</samp>&rsquo; shown in the listing above.
</p>
<p>Multi-byte encodings (most commonly UTF-8) are even more complicated.
There are few fonts in &lsquo;<samp>iso10646-1</samp>&rsquo;, the Unicode encoding, and they
only contain a subset of the available glyphs (and are often fixed-width
designed for use in terminals).  In such locales <em>fontsets</em> are
used, made up of fonts encoded in other encodings.  If the locale you
are using has an entry in the &lsquo;<samp>XLC_LOCALE</samp>&rsquo; directory (typically
<samp>/usr/share/X11/locale</samp>, it is likely that all you need to do is to
pick a suitable font specification that has fonts in the encodings
specified there.  If not, you may have to get hold of a suitable locale
entry for X11.  This may mean that, for example, Japanese text can be
displayed when running in &lsquo;<samp>ja_JP.UTF-8</samp>&rsquo; but not when running in
&lsquo;<samp>en_GB.UTF-8</samp>&rsquo; on the same machine (although on some systems many
UTF-8 X11 locales are aliased to &lsquo;<samp>en_US.UTF-8</samp>&rsquo; which covers several
character sets, e.g. ISO 8859-1 (Western European), JISX0208 (Kanji),
KSC5601 (Korean), GB2312 (Chinese Han) and JISX0201 (Kana)).
</p>
<p>On some systems scalable fonts are available covering a wide range of
glyphs.  One source is TrueType/OpenType fonts, and these can provide
high coverage.  Another is Type 1 fonts: the URW set of Type 1 fonts
provides standard typefaces such as Helvetica with a larger coverage of
Unicode glyphs than the standard X11 bitmaps, including Cyrillic.  These
are generally not part of the default install, and the X server may need
to be configured to use them.  They might be under the X11 <samp>fonts</samp>
directory or elsewhere, for example,
</p>
<div class="example">
<pre class="example">/usr/share/fonts/default/Type1
/usr/share/fonts/ja/TrueType
</pre></div>


<hr>
<span id="Linux"></span><div class="header">
<p>
Next: <a href="#FreeBSD" accesskey="n" rel="next">FreeBSD</a>, Previous: <a href="#X11-issues" accesskey="p" rel="prev">X11 issues</a>, Up: <a href="#Platform-notes" accesskey="u" rel="up">Platform notes</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Function-and-variable-index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Linux-1"></span><h3 class="section">C.2 Linux</h3>
<span id="index-Linux-1"></span>

<p>Linux is the main development platform for R, so compilation from the
sources is normally straightforward with the standard compilers.
</p>
<p>Remember that some package management systems (such as <acronym>RPM</acronym> and
deb) make a distinction between the user version of a package and the
developer version.  The latter usually has the same name but with the
extension &lsquo;<samp>-devel</samp>&rsquo; or &lsquo;<samp>-dev</samp>&rsquo;: you need both versions
installed.  So please check the <code>configure</code> output to see if the
expected features are detected: if for example &lsquo;<samp>readline</samp>&rsquo; is
missing add the developer package.  (On most systems you will also need
&lsquo;<samp>ncurses</samp>&rsquo; and its developer package, although these should be
dependencies of the &lsquo;<samp>readline</samp>&rsquo; package(s).)
</p>
<p>When R has been installed from a binary distribution there are
sometimes problems with missing components such as the FORTRAN
compiler.  Searching the &lsquo;<samp>R-help</samp>&rsquo; archives will normally reveal
what is needed.
</p>
<p>It seems that &lsquo;<samp>ix86</samp>&rsquo; Linux accepts non-PIC code in shared
libraries, but this is not necessarily so on other platforms, in
particular on 64-bit <acronym>CPU</acronym>s such as &lsquo;<samp>x86_64</samp>&rsquo;.  So care
can be needed with <acronym>BLAS</acronym> libraries and when building R as a
shared library to ensure that position-independent code is used in any
static libraries (such as the Tcl/Tk libraries, <code>libpng</code>,
<code>libjpeg</code> and <code>zlib</code>) which might be linked against.
Fortunately these are normally built as shared libraries with the
exception of the ATLAS <acronym>BLAS</acronym> libraries.
</p>
<p>The default optimization settings chosen for <code>CFLAGS</code> etc are
conservative.  It is likely that using <samp>-mtune</samp> will result in
significant performance improvements on recent CPUs (especially for
&lsquo;<samp>ix86</samp>&rsquo;): one possibility is to add <samp>-mtune=native</samp> for
the best possible performance on the machine on which R is being
installed: if the compilation is for a site-wide installation, it may
still be desirable to use something like
<samp>-mtume=core2</samp>.<a id="DOCF39" href="#FOOT39"><sup>39</sup></a> It is also possible to increase the
optimization levels to <samp>-O3</samp>: however for many versions of the
compilers this has caused problems in at least one <acronym>CRAN</acronym>
package.
</p>
<p>For platforms with both 64- and 32-bit support, it is likely that
</p>
<div class="example">
<pre class="example">LDFLAGS=&quot;-L/usr/local/lib64 -L/usr/local/lib&quot;
</pre></div>

<p>is appropriate since most (but not all) software installs its 64-bit
libraries in <samp>/usr/local/lib64</samp>.  To build a 32-bit version of R
on &lsquo;<samp>x86_64</samp>&rsquo; with Fedora 16 we used
</p>
<div class="example">
<pre class="example">CC=&quot;gcc -m32&quot;
CXX=&quot;g++ -m32&quot;
F77=&quot;gfortran -m32&quot;
FC=${F77}
OBJC=${CC}
LDFLAGS=&quot;-L/usr/local/lib&quot;
LIBnn=lib
</pre></div>

<p>Note the use of &lsquo;<samp>LIBnn</samp>&rsquo;: &lsquo;<samp>x86_64</samp>&rsquo; Fedora installs its
64-bit software in <samp>/usr/lib64</samp> and 32-bit software in
<samp>/usr/lib</samp>.  Linking will skip over inappropriate binaries, but for
example the 32-bit Tcl/Tk configure scripts are in <samp>/usr/lib</samp>.  It
may also be necessary to set the <code>pkg-config</code> path, e.g. by
</p>
<div class="example">
<pre class="example">export PKG_CONFIG_PATH=/usr/local/lib/pkgconfig:/usr/lib/pkgconfig
</pre></div>

<p>64-bit versions of Linux are built with support for files &gt; 2Gb, and
32-bit versions will be if possible unless <samp>--disable-largefile</samp>
is specified.
</p>
<p>To build a 64-bit version of R on &lsquo;<samp>ppc64</samp>&rsquo; (also known as
&lsquo;<samp>powerpc64</samp>&rsquo;) with <code>gcc</code>&nbsp;4.1.1, Ei-ji Nakama used
</p>
<div class="example">
<pre class="example">CC=&quot;gcc -m64&quot;
CXX=&quot;gxx -m64&quot;
F77=&quot;gfortran -m64&quot;
FC=&quot;gfortran -m64&quot;
CFLAGS=&quot;-mminimal-toc -fno-optimize-sibling-calls -g -O2&quot;
FFLAGS=&quot;-mminimal-toc -fno-optimize-sibling-calls -g -O2&quot;
</pre></div>

<p>the additional flags being needed to resolve problems linking against
<samp>libnmath.a</samp> and when linking R as a shared library.
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top">&bull; <a href="#Clang" accesskey="1">Clang</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Intel-compilers" accesskey="2">Intel compilers</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Oracle-Solaris-Studio-compilers" accesskey="3">Oracle Solaris Studio compilers</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
</table>

<hr>
<span id="Clang"></span><div class="header">
<p>
Next: <a href="#Intel-compilers" accesskey="n" rel="next">Intel compilers</a>, Previous: <a href="#Linux" accesskey="p" rel="prev">Linux</a>, Up: <a href="#Linux" accesskey="u" rel="up">Linux</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Function-and-variable-index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Clang-1"></span><h4 class="subsection">C.2.1 Clang</h4>

<p>R has been built with Linux &lsquo;<samp>ix86</samp>&rsquo; and &lsquo;<samp>x86_64</samp>&rsquo; C and
C++ compilers (<a href="http://clang.llvm.org">http://clang.llvm.org</a>, versions 2.9 and 3.0) based
on the Clang front-ends, invoked by <code>CC=clang CXX=clang++</code>,
together with <code>gfortran</code>.  These take very similar options to
the corresponding GCC compilers.
</p>
<hr>
<span id="Intel-compilers"></span><div class="header">
<p>
Next: <a href="#Oracle-Solaris-Studio-compilers" accesskey="n" rel="next">Oracle Solaris Studio compilers</a>, Previous: <a href="#Clang" accesskey="p" rel="prev">Clang</a>, Up: <a href="#Linux" accesskey="u" rel="up">Linux</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Function-and-variable-index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Intel-compilers-1"></span><h4 class="subsection">C.2.2 Intel compilers</h4>

<p>Intel compilers have been used under &lsquo;<samp>ix86</samp>&rsquo; and &lsquo;<samp>x86_64</samp>&rsquo;
Linux.  Brian Ripley used version 9.0 of the compilers for
&lsquo;<samp>x86_64</samp>&rsquo; on Fedora Core 5 with
</p>
<div class="example">
<pre class="example">CC=icc
CFLAGS=&quot;-g -O3 -wd188 -ip -mp&quot;
F77=ifort
FLAGS=&quot;-g -O3 -mp&quot;
CXX=icpc
CXXFLAGS=&quot;-g -O3 -mp&quot;
FC=ifort
FCFLAGS=&quot;-g -O3 -mp&quot;
ICC_LIBS=/opt/compilers/intel/cce/9.1.039/lib
IFC_LIBS=/opt/compilers/intel/fce/9.1.033/lib
LDFLAGS=&quot;-L$ICC_LIBS -L$IFC_LIBS -L/usr/local/lib64&quot;
SHLIB_CXXLD=icpc
</pre></div>

<p><code>configure</code> will add &lsquo;<samp>-c99</samp>&rsquo; to <code>CC</code> for
C99-compliance.  This causes warnings with <code>icc</code> 10 and later, so
use <code>CC=&quot;icc -std=c99&quot;</code> there.  The flag <samp>-wd188</samp> suppresses
a large number of warnings about the enumeration type &lsquo;<samp>Rboolean</samp>&rsquo;.
Because the Intel C compiler sets &lsquo;<samp>__GNUC__</samp>&rsquo; without complete
emulation of <code>gcc</code>, we suggest adding <code>CPPFLAGS=-no-gcc</code>.
</p>
<p>To maintain correct <acronym>IEC</acronym>&nbsp;60559 arithmetic you most likely
need add flags to <code>CFLAGS</code>, <code>FFLAGS</code> and <code>CXXFLAGS</code> such
as <samp>-mp</samp> (shown above) or <samp>-fp-model precise -fp-model
source</samp>, depending on the compiler version.
</p>
<p>For some comments on building on an Itanium (&lsquo;<samp>ia64</samp>&rsquo;) Linux
system with <code>gcc</code> or the Intel compilers see
<a href="http://www.nakama.ne.jp/memo/ia64_linux/">http://www.nakama.ne.jp/memo/ia64_linux/</a>.
</p>
<p>Others have reported success with versions 10.x and 11.x.
</p>

<hr>
<span id="Oracle-Solaris-Studio-compilers"></span><div class="header">
<p>
Previous: <a href="#Intel-compilers" accesskey="p" rel="prev">Intel compilers</a>, Up: <a href="#Linux" accesskey="u" rel="up">Linux</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Function-and-variable-index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Oracle-Solaris-Studio-compilers-1"></span><h4 class="subsection">C.2.3 Oracle Solaris Studio compilers</h4>

<p>Brian Ripley tested the Sun Studio 12 compilers, since renamed to Oracle
Solaris Studio,
(<a href="http://developers.sun.com/sunstudio/index.jsp">http://developers.sun.com/sunstudio/index.jsp</a>) 
On
&lsquo;<samp>x86_64</samp>&rsquo; Linux with
</p>
<div class="example">
<pre class="example">CC=suncc
CFLAGS=&quot;-xO5 -xc99 -xlibmil -nofstore&quot;
CPICFLAGS=-Kpic
F77=sunf95
FFLAGS=&quot;-O5 -libmil -nofstore&quot;
FPICFLAGS=-Kpic
CXX=&quot;sunCC -library=stlport4&quot;
CXXFLAGS=&quot;-xO5 -xlibmil -nofstore -features=tmplrefstatic&quot;
CXXPICFLAGS=-Kpic
FC=sunf95
FCFLAGS=$FFLAGS
FCPICFLAGS=-Kpic
LDFLAGS=-L/opt/sunstudio12.1/rtlibs/amd64
SHLIB_LDFLAGS=-shared
SHLIB_CXXLDFLAGS=-G
SHLIB_FCLDFLAGS=-G
SAFE_FFLAGS=&quot;-O5 -libmil&quot;
</pre></div>

<p><samp>-m64</samp> could be added, but was the default.  Do not use
<samp>-fast</samp>: see the warnings under Solaris. (The C++ options are
also explained under Solaris.)
</p>
<p>Others have found on at least some versions of &lsquo;<samp>ix86</samp>&rsquo; Linux that
the configure flag <samp>--disable-largefile</samp> was needed (since
<samp>glob.h</samp> on that platform presumed <code>gcc</code> was being used).
</p>
<hr>
<span id="FreeBSD"></span><div class="header">
<p>
Next: <a href="#Mac-OS-X" accesskey="n" rel="next">Mac OS X</a>, Previous: <a href="#Linux" accesskey="p" rel="prev">Linux</a>, Up: <a href="#Platform-notes" accesskey="u" rel="up">Platform notes</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Function-and-variable-index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="FreeBSD-1"></span><h3 class="section">C.3 FreeBSD</h3>
<span id="index-FreeBSD"></span>

<p>Rainer Hurling has reported success on &lsquo;<samp>amd64</samp>&rsquo; FreeBSD 9.0 (and
on earlier versions in the past), and Brian Ripley tested
&lsquo;<samp>amd64</samp>&rsquo; FreeBSD 8.2.  Since Darwin (the base OS of (Mac) OS X) is
based on FreeBSD we find testing on Darwin tends to pick up most
potential problems on FreeBSD.  However, FreeBSD lacks adequate
collation support for multi-byte locales (but a port of ICU is
available), and does not yet implement C99 complex math functions (for
which R&rsquo;s substitutes are used).
</p>
<p>The native BSD <code>make</code> suffices to build R but a number of
packages require <acronym>GNU</acronym> <code>make</code>, despite the
recommendations of the &ldquo;Writing R Extensions&rdquo; manual.  (The BSD
version is <code>bsdmake</code> on Darwin.)
</p>
<p>The simplest way to get the additional software needed to build R is
to install a pre-compiled version first, e.g. by
</p>
<div class="example">
<pre class="example">pkg_add -r R
</pre></div>

<p>(on the system this was tested on, this installed Tcl, Tk, blas, lapack
and <code>gcc-4.6.2</code> which includes <code>gfortran46</code>).  A listing of
dependencies (not necessarily for current R) can be found at
<a href="http://www.freebsd.org/ports/lang.html">http://www.freebsd.org/ports/lang.html</a>: you will however also
need a TeX system<a id="DOCF40" href="#FOOT40"><sup>40</sup></a> to build the
manuals.
</p>
<p>Then R itself can be built by something like
</p>
<div class="example">
<pre class="example">./configure CC=gcc46 F77=gfortran46 CXX=g++46 FC=gfortran46
</pre></div>

<p>There are also FreeBSD packages for a small eclectic collection of
<acronym>CRAN</acronym> packages.
</p>
<hr>
<span id="Mac-OS-X"></span><div class="header">
<p>
Next: <a href="#Solaris" accesskey="n" rel="next">Solaris</a>, Previous: <a href="#FreeBSD" accesskey="p" rel="prev">FreeBSD</a>, Up: <a href="#Platform-notes" accesskey="u" rel="up">Platform notes</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Function-and-variable-index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="g_t_0028Mac_0029-OS-X"></span><h3 class="section">C.4 (Mac) OS X</h3>
<span id="index-OS-X-2"></span>

<p>You can build R as a Unix application on OS X using the Apple
Developer Tools (&lsquo;Xcode&rsquo;) and a version of <code>gfortran</code>.  (Recent
versions of Xcode need &lsquo;Command Line Tools for Xcode&rsquo;.)  You may also
need to install an X sub-system or configure with <samp>--without-x</samp>.
The X window manager is part of the standard OS X distribution.  You
will also need a version of <code>gfortran</code> and <code>libreadline</code>
(or configure with <samp>--without-readline</samp>).
</p>
<p>For more information on how to find these tools please read the
<a href="http://CRAN.R-project.org/bin/macosx/RMacOSX-FAQ.html">R for
Mac OS X <acronym>FAQ</acronym></a>.
</p>
<span id="index-BLAS-library-2"></span>
<span id="index-LAPACK-library-1"></span>
<p>The <code>vecLib</code> library in the <code>Accelerate</code> framework 
can be used <em>via</em> the configuration options
</p>
<div class="example">
<pre class="example">--with-blas='-framework Accelerate' --with-lapack
</pre></div>

<p>to provide higher-performance versions of the <acronym>BLAS</acronym> and LAPACK
routines.  It may also be necessary to include <code>-D__ACCELERATE__</code>
in <code>CFLAGS</code>, and omitting <code>--with-lapack</code> may be necessary,
especially for Snow Leopard.
</p>
<p>Building R without these options (the default) is done <em>via</em>
</p>
<div class="example">
<pre class="example">--without-blas --without-lapack
</pre></div>

<p>This is provided as an alternative in the R Core binary distribution.
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top">&bull; <a href="#g_t32_002dbit-builds" accesskey="1">32-bit builds</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#g_t64_002dbit-builds" accesskey="2">64-bit builds</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Snow-Leopard" accesskey="3">Snow Leopard</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Lion" accesskey="4">Lion</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Frameworks" accesskey="5">Frameworks</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
</table>

<hr>
<span id="g_t32_002dbit-builds"></span><div class="header">
<p>
Next: <a href="#g_t64_002dbit-builds" accesskey="n" rel="next">64-bit builds</a>, Previous: <a href="#Mac-OS-X" accesskey="p" rel="prev">Mac OS X</a>, Up: <a href="#Mac-OS-X" accesskey="u" rel="up">Mac OS X</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Function-and-variable-index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="g_t32_002dbit-builds-1"></span><h4 class="subsection">C.4.1 32-bit builds</h4>

<p>It is safest to tell the compilers explicitly to compile for 32-bit code
by setting
</p>
<div class="example">
<pre class="example">CC='gcc-4.2 -arch i386'
CXX='g++-4.2 -arch i386'
F77='gfortran-4.2 -arch i386'
FC='gfortran-4.2 -arch i386'
OBJC='gcc-4.2 -arch i386'
</pre></div>

<p>in <samp>config.site</samp> or on the <code>configure</code> command line.
</p>


<hr>
<span id="g_t64_002dbit-builds"></span><div class="header">
<p>
Next: <a href="#Snow-Leopard" accesskey="n" rel="next">Snow Leopard</a>, Previous: <a href="#g_t32_002dbit-builds" accesskey="p" rel="prev">32-bit builds</a>, Up: <a href="#Mac-OS-X" accesskey="u" rel="up">Mac OS X</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Function-and-variable-index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="g_t64_002dbit-builds-1"></span><h4 class="subsection">C.4.2 64-bit builds</h4>

<p>64-bit builds are supported on 10.5.x (Leopard) and later.  All that is
needed is to select suitable compiler options, e.g.
</p>
<div class="example">
<pre class="example">CC='gcc-4.2 -arch x86_64'
CXX='g++-4.2 -arch x86_64'
F77='gfortran-4.2 -arch x86_64'
FC='gfortran-4.2 -arch x86_64'
OBJC='gcc-4.2 -arch x86_64'
</pre></div>

<p>in <samp>config.site</samp> or on the <code>configure</code> command line.
</p>
<hr>
<span id="Snow-Leopard"></span><div class="header">
<p>
Next: <a href="#Lion" accesskey="n" rel="next">Lion</a>, Previous: <a href="#g_t64_002dbit-builds" accesskey="p" rel="prev">64-bit builds</a>, Up: <a href="#Mac-OS-X" accesskey="u" rel="up">Mac OS X</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Function-and-variable-index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Snow-Leopard-1"></span><h4 class="subsection">C.4.3 Snow Leopard</h4>

<p>A quirk on Snow Leopard is that the X11 libraries are not in the default
linking path, so something like &lsquo;<samp>LIBS=-L/usr/X11/lib</samp>&rsquo; may be
required (or you can use the <code>configure</code> options
<samp>--x-includes=/usr/X11/include --x-libraries=/usr/X11/lib.</samp>).
</p>
<p>So for a 64-bit build of R you need a file <samp>config.site</samp> in the
top-level build directory containing
</p>
<div class="example">
<pre class="example">CC='gcc -arch x86_64'
CXX='g++ -arch x86_64'
F77='gfortran -arch x86_64'
FC='gfortran -arch x86_64'
OBJC='gcc -arch x86_64'
LIBS=-L/usr/X11/lib
</pre></div>

<hr>
<span id="Lion"></span><div class="header">
<p>
Next: <a href="#Frameworks" accesskey="n" rel="next">Frameworks</a>, Previous: <a href="#Snow-Leopard" accesskey="p" rel="prev">Snow Leopard</a>, Up: <a href="#Mac-OS-X" accesskey="u" rel="up">Mac OS X</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Function-and-variable-index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Lion-1"></span><h4 class="subsection">C.4.4 Lion</h4>

<p>With Xcode 4.2 and later you need to install a package named like
<a href="http://r.research.att.com/tools/gcc-42-5666.3-darwin11.pkg">http://r.research.att.com/tools/gcc-42-5666.3-darwin11.pkg</a> to
provide compilers named <code>gcc-4.2</code>, <code>g++-4.2</code> and
<code>gfortran-4.2</code>.  These default to 64-bit, so for a 64-bit build
<samp>config.site</samp> in the top-level build directory should contain
</p>
<div class="example">
<pre class="example">CC=gcc-4.2
CXX=g++-4.2
F77=gfortran-4.2
FC=gfortran-4.2
OBJC=gcc-4.2
</pre></div>

<p>and for a 32-bit build add <samp>-arch i386</samp> as displayed above.
</p>
<p>It is also possible to build R using Apple&rsquo;s C/C++ compilers supplied
with Xcode, but these do need to be supplemented by a Fortran compiler
(such as <code>gfortran-4.2</code>).  <code>/usr/bin/gcc</code> is a link to
<code>llvm-gcc</code>, an LLVM-based compiler with a <code>gcc 4.2.1</code>
front end, and <code>clang</code> can also be used (and <code>clang++</code>
for C++).
</p>
<hr>
<span id="Frameworks"></span><div class="header">
<p>
Previous: <a href="#Lion" accesskey="p" rel="prev">Lion</a>, Up: <a href="#Mac-OS-X" accesskey="u" rel="up">Mac OS X</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Function-and-variable-index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Frameworks-1"></span><h4 class="subsection">C.4.5 Frameworks</h4>

<p>The <acronym>CRAN</acronym> build of R is installed as a framework, which is
selected by option
</p>
<div class="example">
<pre class="example">./configure --with-blas='-framework vecLib' --with-lapack \
  --with-aqua --enable-R-framework
</pre></div>

<p>The second line of options is only needed if you want to build R for
use with <code>R.app</code> Console, and imply <samp>--enable-R-shlib</samp> to
build R as a shared/dynamic library.  These options configure R to
be built and installed as a framework called <samp>R.framework</samp>.  The
default installation path for <samp>R.framework</samp> is
<samp>/Library/Frameworks</samp> but this can be changed at configure time by
specifying the flag <samp>--enable-R-framework[=<var>DIR</var>]</samp> or at
install time as
</p>
<div class="example">
<pre class="example">make prefix=/where/you/want/R.framework/to/go install
</pre></div>


<p>Note that building the <samp>R.app</samp> GUI console is a separate project:
see <a href="http://CRAN.R-project.org/bin/macosx/RMacOSX-FAQ.html">R for Mac OS X <acronym>FAQ</acronym></a> for details.
</p>

<hr>
<span id="Solaris"></span><div class="header">
<p>
Next: <a href="#AIX" accesskey="n" rel="next">AIX</a>, Previous: <a href="#Mac-OS-X" accesskey="p" rel="prev">Mac OS X</a>, Up: <a href="#Platform-notes" accesskey="u" rel="up">Platform notes</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Function-and-variable-index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Solaris-1"></span><h3 class="section">C.5 Solaris</h3>
<span id="index-Solaris"></span>

<p>R has been built successfully on Solaris 10 (both Sparc and
&lsquo;<samp>x86</samp>&rsquo;) using the (zero cost) Oracle Solaris Studio compilers:
there has been some success with
<code>gcc</code>&nbsp;4/<code>gfortran</code>.  Sun packages for R used to
be available from <a href="http://www.sunfreeware.com/">http://www.sunfreeware.com/</a> for both 32-bit
architectures, but recently have often been many versions old.  (Recent
Sun machines are AMD Opterons or Intel Xeons (&lsquo;<samp>amd64</samp>&rsquo;) rather
than &lsquo;<samp>x86</samp>&rsquo;, but 32-bit &lsquo;<samp>x86</samp>&rsquo; executables are the
default.)
</p>
<p>There have been no reports on Solaris 11.  Solaris 9 and earlier are now
so old that it is unlikely that R is still used with them, and they
will not be considered here.
</p>
<p>The Solaris versions of several of the tools needed to build R
(e.g. <code>make</code>, <code>ar</code> and <code>ld</code>) are in
<samp>/usr/ccs/bin</samp>, so if using those tools ensure this is in your
path.  A version of the preferred <acronym>GNU</acronym> <code>tar</code> is (if
installed) in <samp>/usr/sfw/bin</samp>, as sometimes are tools like
<code>makeinfo</code>.  It may be necessary to avoid the tools in
<samp>/usr/ucb</samp>: POSIX-compliant versions of some tools can be found in
<samp>/usr/xpg4/bin</samp> and <samp>/usr/xpg6/bin</samp>.
</p>
<p>A large selection of Open Source software can be installed from
<a href="http://www.opencsw.org">http://www.opencsw.org</a>
via <code>pkg-get</code>, by default installed under <samp>/opt/csw</samp>.
</p>
<p>You will need <acronym>GNU</acronym> <code>libiconv</code> and <code>readline</code>: the
Solaris version of <code>iconv</code> is not sufficiently powerful.
</p>
<p>The native <code>make</code> suffices to build R but a small number of
packages require <acronym>GNU</acronym> <code>make</code> (some without good reason
and without declaring it as &lsquo;<samp>SystemRequirements</samp>&rsquo; in the
<samp>DESCRIPTION</samp> file).
</p>
<p>Some people have reported that the Solaris <code>libintl</code> needs to be
avoided, for example by using <samp>--disable-nls</samp> or
<samp>--with-included-gettext</samp> or using <code>libintl</code> from OpenCSW.
</p>
<p>When using the Oracle compilers<a id="DOCF41" href="#FOOT41"><sup>41</sup></a> do <em>not</em> specify <samp>-fast</samp>, as this
disables <acronym>IEEE</acronym> arithmetic and <code>make check</code> will fail.
</p>
<p>For the Solaris Studio compilers a little juggling of paths was needed
to ensure <acronym>GNU</acronym> <code>libiconv</code> (in <samp>/usr/local</samp>) was used
rather than the Solaris <code>iconv</code>:
</p>
<div class="example">
<pre class="example">CC=&quot;cc -xc99&quot;
CFLAGS=&quot;-O -xlibmieee&quot;
F77=f95
FFLAGS=-O
CXX=&quot;CC -library=stlport4&quot;
CXXFLAGS=-O
FC=f95
FCFLAGS=$FFLAGS
FCLIBS=&quot;-lfai -lfsu&quot;
R_LD_LIBRARY_PATH=&quot;/usr/local/lib:/opt/csw/gcc4/lib:/opt/csw/lib&quot;
</pre></div>

<p>For a 64-bit target add <samp>-m64</samp> to the compiler macros
and use something like <code>LDFLAGS=-L/usr/local/lib/sparcv9</code> or
<code>LDFLAGS=-L/usr/local/lib/amd64</code> as appropriate.
It will also be necessary to point <code>pkg-config</code> at the 64-bit
directories, e.g. one of
</p>
<div class="example">
<pre class="example">PKG_CONFIG_PATH=/opt/csw/lib/amd64/pkgconfig:/usr/lib/amd64/pkgconfig
PKG_CONFIG_PATH=/opt/csw/lib/sparcv9/pkgconfig:/usr/lib/sparcv9/pkgconfig
</pre></div>

<p>and to specify a 64-bit Java VM by e.g.
</p>
<div class="example">
<pre class="example">JAVA_LD_LIBRARY_PATH = $(JAVA_HOME)/lib/amd64/server
JAVA_LIBS = -L$(JAVA_HOME)/lib/amd64/server \
  -R$(JAVA_HOME)/lib/amd64/server -ljvm
</pre></div>

<p>With Solaris Studio 12.[23] on Sparc, <code>FCLIBS</code> needs to be
</p>
<div class="example">
<pre class="example">FCLIBS=&quot;-lfai -lfai2 -lfsu&quot;
</pre></div>

<p>(and possibly other Fortran libraries, but this suffices for the
packages currently on CRAN).
</p>
<p>Currently &lsquo;<samp>amd64</samp>&rsquo; and &lsquo;<samp>sparcv9</samp>&rsquo; builds work
out-of-the-box with Sun Studio 12u1 but not Solaris Studio 12.2 and
later: <samp>libRblas.so</samp> and <samp>lapack.so</samp> are generated with code
that causes relocation errors (which is being linked in from the Fortran
libraries).  This means that building R as a shared library may be
impossible with Solaris Studio &gt;= 12.2.  For a standard build the trick
seems to be to manually set <code>FLIBS</code> to avoid the troublesome
libraries.  For example, on &lsquo;<samp>amd64</samp>&rsquo; set in <samp>config.site</samp>
something like
</p>
<div class="example">
<pre class="example">FLIBS_IN_SO=&quot;-R/opt/solarisstudio12.3/lib/amd64
  /opt/solarisstudio12.3/lib/amd64/libfui.so
  /opt/solarisstudio12.3/lib/amd64/libfsu.so&quot;
</pre></div>

<p>For 64-bit Sparc, set in <samp>config.site</samp> something like
</p><div class="example">
<pre class="example">FLIBS=&quot;-R/opt/solarisstudio12.3/prod/lib/sparc/64
 -lifai -lsunimath -lfai -lfai2 -lfsumai -lfprodai -lfminlai -lfmaxlai
 -lfminvai -lfmaxvai -lfui -lsunmath -lmtsk
 /opt/solarisstudio12.3/prod/lib/sparc/64/libfsu.so.1&quot;
</pre></div>

<p>By default the Solaris Studio compilers do not by default conform to the C99
standard (appendix F 8.9) on the return values of functions such as
<code>log</code>: use <samp>-xlibmieee</samp> to ensure this.
</p>
<p>You can target specific Sparc architectures for (slightly) higher
performance: <samp>-xtarget=native</samp> (in <code>CFLAGS</code> etc) tunes the
compilation to the current machine.
</p>
<p>Using <code>-xlibmil</code> in <code>CFLAGS</code> and <code>-xlibmil</code> in
<code>FFLAGS</code> allows more system mathematical functions to be inlined.
</p>

<p>On &lsquo;<samp>x86</samp>&rsquo; you will get marginally higher performance <em>via</em>
</p>
<div class="example">
<pre class="example">CFLAGS=&quot;-xO5 -xc99 -xlibmieee -xlibmil -nofstore -xtarget=native&quot;
FFLAGS=&quot;-O5 -libmil -nofstore -xtarget=native&quot;
CXXFLAGS=&quot;-xO5 -xlibmil -nofstore -xtarget=native&quot;
SAFE_FFLAGS=&quot;-libmil -fstore -xtarget=native&quot;
</pre></div>

<p>but the use of <code>-nofstore</code> can be less numerically stable, and some
packages (notably <a href="http://CRAN.R-project.org/package=mgcv"><strong>mgcv</strong></a> on &lsquo;<samp>x86</samp>&rsquo;) failed to compile at
higher optimization levels with version 12.3.
</p>
<p>The Solaris Studio compilers provide several implementations of the C++
standard which select both the set of headers and a C++ runtime library.
These are selected by the <samp>-library</samp> flag, which as it is needed
for both compiling and linking is best specified as part of the
compiler.  The examples above use &lsquo;<samp>stlport4</samp>&rsquo;, currently the most
modern of the options: the default (but still needed to be specified as
it is needed for linking) is &lsquo;<samp>Cstd</samp>&rsquo;: see
<a href="http://developers.sun.com/solaris/articles/cmp_stlport_libCstd.html">http://developers.sun.com/solaris/articles/cmp_stlport_libCstd.html</a>.
Note though that most external Solaris C++ libraries will have been
built with &lsquo;<samp>Cstd</samp>&rsquo; and so an R package using such libraries also
needs to be.  Occasionally the flag <samp>-library=stlport4,Crun</samp> has
been needed.
</p>
<p>Several CRAN packages using C++ need the more liberal interpretation
given by adding
</p>
<div class="example">
<pre class="example">CXXFLAGS=&quot;-features=tmplrefstatic&quot;
</pre></div>


<span id="index-BLAS-library-3"></span>
<span id="index-LAPACK-library-2"></span>

<p>The performance library <code>sunperf</code> is available for use with the
Solaris Studio compilers.  If selected as a <acronym>BLAS</acronym>, it must also
be selected as LAPACK <em>via</em> (for Solaris Studio 12.2)
</p>
<div class="example">
<pre class="example">./configure --with-blas='-library=sunperf' --with-lapack
</pre></div>

<p>This has often given test failures in the past, in several different
places.  At the time of writing it fails in <samp>tests/reg-BLAS.R</samp>, and on
some builds, including for &lsquo;<samp>amd64</samp>&rsquo;, it fails in
<code>example(eigen)</code>.
</p>

<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top">&bull; <a href="#Using-gcc" accesskey="1">Using gcc</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
</table>

<hr>
<span id="Using-gcc"></span><div class="header">
<p>
Previous: <a href="#Solaris" accesskey="p" rel="prev">Solaris</a>, Up: <a href="#Solaris" accesskey="u" rel="up">Solaris</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Function-and-variable-index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Using-gcc-1"></span><h4 class="subsection">C.5.1 Using gcc</h4>

<p>If using <code>gcc</code>, ensure that the compiler was compiled for the
version of Solaris in use.  (This can be ascertained from <code>gcc
-v</code>.)  <code>gcc</code> makes modified versions of some header files, and
several reports of problems were due to using <code>gcc</code> compiled on
one version of Solaris on a later version.  
</p>
<p>The notes here are for <code>gcc</code> set up to use the Solaris linker:
it can also be set up to use GNU <code>ld</code>, but that has not been
tested.
</p>
<p>Compilation for a 32-bit Sparc target with <code>gcc</code>&nbsp;4.7.1
needed
</p>
<div class="example">
<pre class="example">CPPFLAGS=-I/opt/csw/include
LDFLAGS=&quot;-L/opt/csw/gcc4/lib -L/opt/csw/lib&quot;
</pre></div>

<p>and for a 64-bit Sparc target
</p><div class="example">
<pre class="example">CC=&quot;gcc -m64&quot;
F77=&quot;gfortran -m64&quot;
CXX=&quot;g++ -m64&quot;
FC=$F77
CPPFLAGS=-I/opt/csw/include
LDFLAGS=&quot;-L/opt/csw/gcc4/lib/sparcv9 -L/opt/csw/lib/sparcv9&quot;
</pre></div>

<p>Note that paths such as <samp>/opt/csw/gcc4/lib/sparcv9</samp> may need to
be in the
<span id="index-LD_005fLIBRARY_005fPATH-4"></span>
<code>LD_LIBRARY_PATH</code> during configuration.
</p>
<p>The compilation can be tuned to a particular cpu: the CRAN check system
uses <code>-mtune=niagara2</code>.
</p>
<p>Compilation for an &lsquo;<samp>x86</samp>&rsquo; target with <code>gcc</code>&nbsp;4.7.1
needed
</p>
<div class="example">
<pre class="example">CC=&quot;/opt/csw/gcc4/bin/gcc -m32&quot;
CPPFLAGS=&quot;-I/opt/csw/include -I/usr/local/include&quot;
F77=&quot;/opt/csw/gcc4/bin/gfortran -m32&quot;
CXX=&quot;/opt/csw/gcc4/bin/g++ -m32&quot;
FC=&quot;/opt/csw/gcc4/bin/gfortran -m32&quot;
LDFLAGS=&quot;-L/opt/csw/gcc4/lib -L/opt/csw/lib -L/usr/local/lib&quot;
</pre></div>

<p>(<code>-L/opt/csw/lib</code> is needed since TexLive 2011 was built using
32-bit <code>gcc</code>, and we need <samp>/opt/csw/lib</samp> in
<code>R_LD_LIBRARY_PATH</code>.)
</p>
<p>For an &lsquo;<samp>amd64</samp>&rsquo; target with <code>gcc</code>&nbsp;4.7.1
we used 
</p>
<div class="example">
<pre class="example">CC=&quot;/opt/csw/gcc4/bin/gcc -m64&quot;
CPPFLAGS=&quot;-I/opt/csw/include -I/usr/local/include&quot;
F77=&quot;/opt/csw/gcc4/bin/gfortran -m64&quot;
FPICFLAGS=-fPIC
CXX=&quot;/opt/csw/gcc4/bin/g++ -m64&quot;
FC=$F77
FCPICFLAGS=$FPICFLAGS
LDFLAGS=&quot;-L/opt/csw/gcc4/lib/amd64 -L/opt/csw/lib/amd64&quot;
</pre></div>

<hr>
<span id="AIX"></span><div class="header">
<p>
Next: <a href="#Cygwin" accesskey="n" rel="next">Cygwin</a>, Previous: <a href="#Solaris" accesskey="p" rel="prev">Solaris</a>, Up: <a href="#Platform-notes" accesskey="u" rel="up">Platform notes</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Function-and-variable-index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="AIX-1"></span><h3 class="section">C.6 AIX</h3>
<span id="index-AIX"></span>

<p>We no longer support AIX prior to 4.2, and <code>configure</code> will
throw an error on such systems.
</p>
<p>Ei-ji Nakama was able to build under AIX 5.2 on &lsquo;<samp>powerpc</samp>&rsquo; with
GCC 4.0.3 in several configurations.  32-bit versions could be
configured with <samp>--without-iconv</samp> as well as
<samp>--enable-R-shlib</samp>.  For 64-bit versions he used
</p>
<div class="example">
<pre class="example">OBJECT_MODE=64
CC=&quot;gcc -maix64&quot;
CXX=&quot;g++ -maix64&quot;
F77=&quot;gfortran -maix64&quot;
FC=&quot;gfortran -maix64&quot;
</pre></div>

<p>and was also able to build with the IBM <code>xlc</code> and Hitachi
<code>f90</code> compilers by
</p>
<div class="example">
<pre class="example">OBJECT_MODE=64
CC=&quot;xlc -q64&quot;
CXX=&quot;g++ -maix64&quot;
F77=&quot;f90 -cpu=pwr4 -hf77 -parallel=0 -i,L -O3 -64&quot;
FC=&quot;f90 -cpu=pwr4 -hf77 -parallel=0 -i,L -O3 -64&quot;
FLIBS=&quot;-L/opt/ofort90/lib -lhf90vecmath -lhf90math -lf90&quot;
</pre></div>

<p>Some systems have <code>f95</code> as an IBM compiler that does not by
default accept FORTRAN 77.  It needs the flag <samp>-qfixed=72</samp>, or to
be invoked as <code>xlf_r</code>.
</p>
<p>The AIX native <code>iconv</code> does not support encodings &lsquo;<samp>latin1</samp>&rsquo; nor
&lsquo;<samp>&quot;&quot;</samp>&rsquo; and so cannot be used.  (As far as we know <acronym>GNU</acronym>
<code>libiconv</code> could be installed.)
</p>
<p>Fan Long reports success on AIX 5.3 using
</p>
<div class="example">
<pre class="example">OBJECT_MODE=64
LIBICONV=<var>/where/libiconv/installed</var>
CC=&quot;xlc_r -q64&quot; 
CFLAGS=&quot;-O -qstrict&quot;
CXX=&quot;xlC_r -q64&quot;
CXXFLAGS=&quot;-O -qstrict&quot;
F77=&quot;xlf_r -q64&quot;
AR=&quot;ar -X64&quot;
CPPFLAGS=&quot;-I$LIBICONV/include -I/usr/lpp/X11/include/X11&quot;
LDFLAGS=&quot;-L$LIBICONV/lib -L/usr/lib -L/usr/X11R6/lib&quot;
</pre></div>

<span id="index-R_005fSHELL"></span>
<p>On one AIX 6.x system it was necessary to use <code>R_SHELL</code> to set the
default shell to be Bash rather than Zsh.
</p>
<p>Kurt Hornik and Stefan Theussl at WU (Wirtschaftsuniversit&auml;t Wien)
successfully built R on a &lsquo;<samp>powerpc</samp>&rsquo; (8-<acronym>CPU</acronym> Power6
system) running AIX 6.1, configuring with or without
<samp>--enable-R-shlib</samp> (Ei-ji Nakama&rsquo;s support is gratefully
acknowledged).
</p>
<p>It helps to describe the WU build environment first.  A small part of
the software needed to build R and/or install packages is available
directly from the AIX Installation DVDs, e.g., Java 6, X11, and Perl.
Additional open source software (OSS) is packaged for AIX in <samp>.rpm</samp>
files and available from both IBM&rsquo;s &ldquo;AIX Toolbox for Linux
Applications&rdquo;
(<a href="http://www-03.ibm.com/systems/power/software/aix/linux/">http://www-03.ibm.com/systems/power/software/aix/linux/</a>) and
<a href="http://www.oss4aix.org/download/">http://www.oss4aix.org/download/</a>.  The latter website typically
offers more recent versions of the available OSS.  All tools needed and
libraries downloaded from these repositories (e.g., GCC, Make,
<code>libreadline</code>, etc.) are typically installed to
<samp>/opt/freeware</samp>, hence corresponding executables are found in
<span id="index-PATH-2"></span>
<samp>/opt/freeware/bin</samp> which thus needs to be in <code>PATH</code> for using
these tools.  As on other Unix systems one needs <acronym>GNU</acronym>
<code>libiconv</code> as the AIX version of iconv is not sufficiently
powerful.  Additionally, for proper Unicode compatibility one should
install the corresponding package from the ICU project
(<a href="http://www.icu-project.org/download/">http://www.icu-project.org/download/</a>), which offers pre-compiled
binaries for various platforms which in case of AIX can be installed via
unpacking the tarball to the root file system.  For full LaTeX
support one can install the TeX Live DVD distribution
(<a href="http://www.tug.org/texlive/">http://www.tug.org/texlive/</a>): it is recommended to update the
distribution using the <code>tlmgr</code> update manager.  For 64-bit R builds
supporting Tcl/Tk this needs to installed from the sources as available
pre-compiled binaries supply only 32-bit shared objects.
</p>
<p>The recent WU testing was done using compilers from both the
<acronym>GNU</acronym> Compiler Collection (version 4.2.4) which is available
from one of the above OSS repositories, and the IBM C/C++ (XL C/C++
10.01) as well as FORTRAN (XL Fortran 12.01) compilers
(<a href="http://www14.software.ibm.com/webapp/download/byproduct.jsp#X">http://www14.software.ibm.com/webapp/download/byproduct.jsp#X</a>).
</p>
<p>To compile for a 64-bit &lsquo;<samp>powerpc</samp>&rsquo; (Power6 <acronym>CPU</acronym>) target
one can use
</p>
<div class="example">
<pre class="example">CC =&quot;gcc -maix64 -pthread&quot;
CXX=&quot;g++ -maix64 -pthread&quot;
FC=&quot;gfortran -maix64 -pthread&quot;
F77=&quot;gfortran -maix64 -pthread&quot;
CFLAGS=&quot;-O2 -g -mcpu=power6&quot;
FFLAGS=&quot;-O2 -g -mcpu=power6&quot;
FCFLAGS=&quot;-O2 -g -mcpu=power6&quot;
</pre></div>

<p>for the GCC and
</p>
<div class="example">
<pre class="example">CC=xlc
CXX=xlc++
FC=xlf
F77=xlf
CFLAGS=&quot;-qarch=auto -qcache=auto -qtune=auto -O3 -qstrict -ma&quot;
FFLAGS=&quot;-qarch=auto -qcache=auto -qtune=auto -O3 -qstrict&quot;
FCFLAGS=&quot;-qarch=auto -qcache=auto -qtune=auto -O3 -qstrict&quot;
CXXFLAGS=&quot;-qarch=auto -qcache=auto -qtune=auto -O3 -qstrict&quot;
</pre></div>

<p>for the IBM XL compilers.  For the latter, it is important to note that
the decision for generating 32-bit or 64-bit code is done by setting the
<span id="index-OBJECT_005fMODE"></span>
<code>OBJECT_MODE</code> environment variable appropriately (recommended) or
using an additional compiler flag (<samp>-q32</samp> or <samp>-q64</samp>).  By
default the IBM XL compilers produce 32 bit code.  Thus, to build R with
64-bit support one needs to either export <code>OBJECT_MODE=64</code> in the
environment or, alternatively, use the <samp>-q64</samp> compiler options.
</p>
<p>It is strongly recommended to install Bash and use it as the configure
shell, e.g., via setting <code>CONFIG_SHELL=/usr/bin/bash</code> in the
environment, and to use <acronym>GNU</acronym> Make (e.g., via
(<code>MAKE=/opt/freeware/bin/make</code>).
</p>
<p>Further installation instructions to set up a proper R development
environment can be found in the &ldquo;R on AIX&rdquo; project on R-Forge
(<a href="http://R-Forge.R-project.org/projects/aix/">http://R-Forge.R-project.org/projects/aix/</a>).
</p>
<hr>
<span id="Cygwin"></span><div class="header">
<p>
Next: <a href="#New-platforms" accesskey="n" rel="next">New platforms</a>, Previous: <a href="#AIX" accesskey="p" rel="prev">AIX</a>, Up: <a href="#Platform-notes" accesskey="u" rel="up">Platform notes</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Function-and-variable-index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Cygwin-1"></span><h3 class="section">C.7 Cygwin</h3>

<p>The Cygwin emulation layer on Windows can be treated as a Unix-alike OS.
This is unsupported, but experiments have been conducted and a few
workarounds added.  R requires C99 complex type support, which is
available as from Cygwin 1.7.8 (March 2011).  However, the (new)
implementation of <code>cacos</code> gives incorrect results, so we undefine
<code>HAVE_CACOS</code> in <samp>src/main/complex.c</samp> on that platform.
</p>
<p>Many versions of Cygwin during 2011 were unable to build R: 1.7.9-1
with <acronym>GCC</acronym> 4.5.3-3 in November 2011 was able to do so.
</p>
<p>Only building as a shared library can possibly work,<a id="DOCF42" href="#FOOT42"><sup>42</sup></a> so use e.g
</p>
<div class="example">
<pre class="example">./configure --disable-nls --enable-R-shlib FLIBS=-lgfortran
make
</pre></div>

<p>Enabling NLS does work if required, although adding
<samp>--with-included-gettext</samp> is preferable.  You will see many
warnings about the use of auto-import.  Setting &lsquo;<samp>FLIBS</samp>&rsquo; explicitly
seems needed currently as the auto-detection gives an incorrect values.
</p>
<p>You will need the <strong>tetex-extra</strong> Cygwin package to build
<samp>NEWS.pdf</samp> and the vignettes.
</p>
<p>Note that this gives you a command-line application using <code>readline</code>
for command editing.  The &lsquo;<samp>X11</samp>&rsquo; graphics device will work if a
suitable X server is running, and the standard Unix-alike ways of
installing source packages work.  There was a bug in the
<samp>/usr/lib/tkConfig.sh</samp> script in the version we looked at, which
needs to have
</p>
<div class="example">
<pre class="example">TK_LIB_SPEC='-ltk84'
</pre></div>

<p>The overhead of using shell scripts makes this noticeably slower than a
native build of R on Windows.
</p>
<p>Even when R can be built, not all the tests passed: there were
incorrect results from wide-character regular expressions code and from
sourcing CR-delimited files.
</p>
<p>Do not use Cygwin&rsquo;s BLAS library: it is known to give incorrect results.
</p>
<hr>
<span id="New-platforms"></span><div class="header">
<p>
Previous: <a href="#Cygwin" accesskey="p" rel="prev">Cygwin</a>, Up: <a href="#Platform-notes" accesskey="u" rel="up">Platform notes</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Function-and-variable-index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="New-platforms-1"></span><h3 class="section">C.8 New platforms</h3>

<p>There are a number of sources of problems when installing R on a new
hardware/OS platform.  These include
</p>
<p><strong>Floating Point Arithmetic</strong>: R requires arithmetic compliant
with <acronym>IEC</acronym>&nbsp;60559, also known as <acronym>IEEE</acronym>&nbsp;754.
This mandates the use of plus and minus infinity and <code>NaN</code> (not a
number) as well as specific details of rounding.  Although almost all
current FPUs can support this, selecting such support can be a pain.
The problem is that there is no agreement on how to set the signalling
behaviour; Sun/Sparc, SGI/IRIX and &lsquo;<samp>ix86</samp>&rsquo; Linux require no
special action, FreeBSD requires a call to (the macro)
<code>fpsetmask(0)</code> and OSF1 requires that computation be done with a
<samp>-ieee_with_inexact</samp> flag etc.  On a new platform you must find
out the magic recipe and add some code to make it work.  This can often
be done via the file <samp>config.site</samp> which resides in the top level
directory.
</p>
<p>Beware of using high levels of optimization, at least initially.  On
many compilers these reduce the degree of compliance to the
<acronym>IEEE</acronym> model.  For example, using <samp>-fast</samp> on the Solaris
Studio compilers has caused R&rsquo;s <code>NaN</code> to be set incorrectly.
</p>
<p><strong>Shared Objects</strong>: There seems to be very little agreement
across platforms on what needs to be done to build shared objects.
there are many different combinations of flags for the compilers and
loaders.  <acronym>GNU</acronym> libtool cannot be used (yet), as it currently
does not fully support FORTRAN: one would need a shell wrapper for
this).  The technique we use is to first interrogate the X window system
about what it does (using <code>xmkmf</code>), and then override this in
situations where we know better (for tools from the <acronym>GNU</acronym>
Compiler Collection and/or platforms we know about).  This typically
works, but you may have to manually override the results.  Scanning the
manual entries for <code>cc</code> and <code>ld</code> usually reveals the
correct incantation.  Once you know the recipe you can modify the file
<samp>config.site</samp> (following the instructions therein) so that the
build will use these options.
</p>
<p>It seems that <code>gcc</code>&nbsp;3.4.x and later on &lsquo;<samp>ix86</samp>&rsquo; Linux
defeat attempts by the LAPACK code to avoid computations entirely in
extended-precision registers, so file <samp>src/modules/lapack/dlamc.f</samp>
may need to be compiled without optimization.  Set the configure
variable <code>SAFE_FFLAGS</code> to the flags to be used for this file.  If
configure detects <acronym>GNU</acronym> FORTRAN it adds flag
<samp>-ffloat-store</samp> to <code>FFLAGS</code>.  (Other settings are needed when
using <code>icc</code> on &lsquo;<samp>ix86</samp>&rsquo; Linux, for example.  Using
<samp>-mpc64</samp> is preferable on more recent GCC compilers.)
</p>
<p>If you do manage to get R running on a new platform please let us
know about it so we can modify the configuration procedures to include
that platform.
</p>
<p>If you are having trouble getting R to work on your platform please
feel free to use the &lsquo;<samp>R-devel</samp>&rsquo; mailing list to ask questions.  We
have had a fair amount of practice at porting R to new platforms
<small class="enddots">...</small>
</p>

<hr>
<span id="The-Windows-toolset"></span><div class="header">
<p>
Next: <a href="#Function-and-variable-index" accesskey="n" rel="next">Function and variable index</a>, Previous: <a href="#Platform-notes" accesskey="p" rel="prev">Platform notes</a>, Up: <a href="#Top" accesskey="u" rel="up">Top</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Function-and-variable-index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="The-Windows-toolset-1"></span><h2 class="appendix">Appendix D The Windows toolset</h2>

<p>If you want to build R or add-on packages from source in Windows, you
will need to collect, install and test an extensive set of tools.  See
<a href="http://cran.r-project.org/bin/windows/Rtools/">http://cran.r-project.org/bin/windows/Rtools/</a> for the current
locations and other updates to these instructions.  (Most Windows users
will not need to build add-on packages from source; see <a href="#Add_002don-packages">Add-on packages</a> for details.)
</p>
<p>We have found that the build process for R is quite sensitive to
the choice of tools: please follow our instructions <strong>exactly</strong>,
even to the choice of particular versions of the tools.<a id="DOCF43" href="#FOOT43"><sup>43</sup></a>  The build process for add-on packages is somewhat more
forgiving, but we recommend using the exact toolset at first, and only
substituting other tools once you are familiar with the process.
</p>
<p><em>This appendix contains a lot of prescriptive comments.  They are
here as a result of bitter experience.  Please do not report problems to
the R mailing lists unless you have followed all the prescriptions.</em>
</p>
<p>We have collected most of the necessary tools (unfortunately not all,
due to license or size limitations) into an executable installer
named<a id="DOCF44" href="#FOOT44"><sup>44</sup></a>  <samp>Rtools215.exe</samp>,
available from <a href="http://cran.r-project.org/bin/windows/Rtools/">http://cran.r-project.org/bin/windows/Rtools/</a>. You
should download and run it, choosing the default &ldquo;Package authoring
installation&rdquo; to build add-on packages, or the &ldquo;full installation&rdquo; if
you intend to build R.
</p>
<p>You will need the following items to build R and packages.
See the subsections below for detailed descriptions.
</p><ul>
<li> The command line tools (in <samp>Rtools*.exe</samp>)
</li><li> The MinGW-w64 32/64-bit toolchain to compile C, Fortran and C++.
</li></ul>
<p>For installing simple source packages containing data or R source but
no compiled code, none of these are needed.  Perl is no longer needed to
build R nor to install nor develop source packages.
</p>
<p>A complete build of R including PDF manuals, and producing the
installer will also need the following:
</p><ul>
<li> LaTeX
</li><li> The Inno Setup installer
</li><li> (optional) <code>qpdf</code>
</li></ul>

<span id="index-PATH-3"></span>
<p>It is important to set your <code>PATH</code> properly.  The installer
<samp>Rtools*.exe</samp> optionally sets the path to components that it
installs.
</p>
<p>Your <code>PATH</code> may include <samp>.</samp> first, then the <samp>bin</samp>
directories of the tools, the compiler toolchain and LaTeX.  Do not
use filepaths containing spaces: you can always use the short forms
(found by <code>dir /x</code> at the Windows command line).  Network shares
(with paths starting <code>\\</code>) are not supported.
</p>
<p>For example for a 32-bit build, all on one line,
</p>
<div class="example">
<pre class="example">PATH=c:\Rtools\bin;c:\Rtools\gcc-4.6.3\bin;c:\MiKTeX\miktex\bin;
     c:\R\R-2.15\bin\i386;c:\windows;c:\windows\system32
</pre></div>

<p>It is essential that the directory containing the command line tools
comes first or second in the path: there are typically like-named
tools<a id="DOCF45" href="#FOOT45"><sup>45</sup></a> in other directories, and they will <strong>not</strong>
work. The ordering of the other directories is less important, but if in
doubt, use the order above.
</p>
<p>Our toolset contains copies of Cygwin DLLs that may conflict with other
ones on your system if both are in the path at once.  The normal
recommendation is to delete the older ones; however, at one time we
found our tools did not work with a newer version of the Cygwin DLLs, so
it may be safest not to have any other version of the Cygwin DLLs in your
path.
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top">&bull; <a href="#LaTeX" accesskey="1">LaTeX</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#The-Inno-Setup-installer" accesskey="2">The Inno Setup installer</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#The-command-line-tools" accesskey="3">The command line tools</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#The-MinGW_002dw64-toolchain" accesskey="4">The MinGW-w64 toolchain</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Useful-additional-programs" accesskey="5">Useful additional programs</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
</table>

<hr>
<span id="LaTeX"></span><div class="header">
<p>
Next: <a href="#The-Inno-Setup-installer" accesskey="n" rel="next">The Inno Setup installer</a>, Previous: <a href="#The-Windows-toolset" accesskey="p" rel="prev">The Windows toolset</a>, Up: <a href="#The-Windows-toolset" accesskey="u" rel="up">The Windows toolset</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Function-and-variable-index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="LaTeX-1"></span><h3 class="section">D.1 LaTeX</h3>

<p>The &lsquo;<samp>MiKTeX</samp>&rsquo; (<a href="http://www.miktex.org/">http://www.miktex.org/</a>) distribution of
LaTeX includes a suitable port of <code>pdftex</code>.  The &lsquo;basic&rsquo; version
of &lsquo;<samp>MiKTeX</samp>&rsquo; almost suffices (the <strong>grid</strong> vignettes need
<samp>fancyvrb.sty</samp>), but it will install the 15Mb &lsquo;<samp>lm</samp>&rsquo; package if
allowed to (although that is not actually used).  The <samp>Rtools*.exe</samp>
installer does <em>not</em> include any version of LaTeX.
</p>
<p>It is also possible to use the TeXLive distribution from
<a href="http://www.tug.org/texlive/">http://www.tug.org/texlive/</a>.
</p>
<span id="index-R_005fRD4PDF-2"></span>
<p>Please read <a href="#Making-the-manuals">Making the manuals</a> about how to make <samp>refman.pdf</samp>
and set the environment variable <code>R_RD4PDF</code> suitably; ensure you
have the required fonts installed or that &lsquo;<samp>MiKTeX</samp>&rsquo; is set up to
install LaTeX on first use.
</p>
<hr>
<span id="The-Inno-Setup-installer"></span><div class="header">
<p>
Next: <a href="#The-command-line-tools" accesskey="n" rel="next">The command line tools</a>, Previous: <a href="#LaTeX" accesskey="p" rel="prev">LaTeX</a>, Up: <a href="#The-Windows-toolset" accesskey="u" rel="up">The Windows toolset</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Function-and-variable-index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="The-Inno-Setup-installer-1"></span><h3 class="section">D.2 The Inno Setup installer</h3>

<p>To make the installer package (<samp>R-2.15.1-win.exe</samp>) we
currently require Inno Setup 5.3.7 or later (including 5.4.x) from
<a href="http://jrsoftware.org/">http://jrsoftware.org/</a>.  We use the Unicode version and recommend
that version be used.  This is <em>not</em> included in
<samp>Rtools*.exe</samp>.
</p>
<p>Copy file <samp>src/gnuwin32/MkRules.dist</samp> to
<samp>src/gnuwin32/MkRules.local</samp> and edit it to set <code>ISDIR</code> to the
location where Inno Setup was installed.
</p>
<hr>
<span id="The-command-line-tools"></span><div class="header">
<p>
Next: <a href="#The-MinGW_002dw64-toolchain" accesskey="n" rel="next">The MinGW-w64 toolchain</a>, Previous: <a href="#The-Inno-Setup-installer" accesskey="p" rel="prev">The Inno Setup installer</a>, Up: <a href="#The-Windows-toolset" accesskey="u" rel="up">The Windows toolset</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Function-and-variable-index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="The-command-line-tools-1"></span><h3 class="section">D.3 The command line tools</h3>

<p>This item is installed by the <samp>Rtools*.exe</samp> installer.
</p>

<p>If you choose to install these yourself, you will need suitable versions
of at least <code>basename</code>, <code>cat</code>, <code>cmp</code>, <code>comm</code>,
<code>cp</code>, <code>cut</code>, <code>date</code>, <code>diff</code>, <code>du</code>, <code>echo</code>,
<code>expr</code>, <code>gzip</code>, <code>ls</code>, <code>make</code>, <code>makeinfo</code>,
<code>mkdir</code>, <code>mv</code>, <code>rm</code>, <code>rsync</code>, <code>sed</code>, <code>sh</code>,
<code>sort</code>, <code>tar</code>, <code>texindex</code>, <code>touch</code> and <code>uniq</code>;
we use those from the Cygwin distribution
(<a href="http://www.cygwin.com/">http://www.cygwin.com/</a>) or compiled from the sources.  You will
also need <code>zip</code> and <code>unzip</code> from the Info-ZIP project
(<a href="http://www.info-zip.org/">http://www.info-zip.org/</a>).  All of these tools are in
<samp>Rtools*.exe</samp>.
</p>

<p><strong>Beware</strong>: &lsquo;Native&rsquo; ports of make are <strong>not</strong> suitable
(including those called &lsquo;MinGW make&rsquo; at the MinGW SourceForge site and
<code>mingw32-make</code> in some MinGW-w64 distributions).  There were
also problems with other versions of the Cygwin tools and DLLs.  To
avoid frustration, please use our tool set, and make sure it is at the
front of your path (including before the Windows system directories).
If you are using a Windows shell, type <code>PATH</code> at the prompt to find
out.
</p>
<span id="index-CYGWIN"></span>
<p>You may need to set the environment variable <code>CYGWIN</code> to a value
including &lsquo;<samp>nodosfilewarning</samp>&rsquo; to suppress messages about
Windows-style paths.
</p>
<hr>
<span id="The-MinGW_002dw64-toolchain"></span><div class="header">
<p>
Next: <a href="#Useful-additional-programs" accesskey="n" rel="next">Useful additional programs</a>, Previous: <a href="#The-command-line-tools" accesskey="p" rel="prev">The command line tools</a>, Up: <a href="#The-Windows-toolset" accesskey="u" rel="up">The Windows toolset</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Function-and-variable-index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="The-MinGW_002dw64-toolchain-1"></span><h3 class="section">D.4 The MinGW-w64 toolchain</h3>

<p>Technically you need more than just a compiler so the set of tools is
referred to as a &lsquo;toolchain&rsquo;.
</p>
<p>The released version of R 2.15.0 will be built with a different
toolchain from R 2.12.0 to 2.14.1.  The preferred toolchain is part
of <code>Rtools215.exe</code>: this uses a beta version of <code>gcc 4.6.3</code>
and version 2.0.1 of the MinGW-w64 project&rsquo;s runtime.
</p>
<p>This toolchain uses <em>multilib</em>: that is there is a single front-end
such as <code>gcc.exe</code> for each of the compilers and 32-bit (the
default) and 64-bit compilation are selected by the flags<a id="DOCF46" href="#FOOT46"><sup>46</sup></a>  <samp>-m32</samp> and <samp>-m64</samp>
respectively.  The tools are all 32-bit Windows executables and should
be able to run on any current version of Windows&mdash;however you do need a
64-bit version of Windows to build 64-bit R as the build process runs
R.
</p>
<p>To select a 32-bit or 64-bit build of R, set the options in
<samp>MkRules.local</samp> appropriately (following the comments in the file).
</p>
<p>Some external software libraries will need to be re-compiled under the
new toolchain: especially those providing a C++ interface.  Many of
those used by <acronym>CRAN</acronym> packages are available from
<a href="http://www.stats.ox.ac.uk/pub/Rtools/multilib/">http://www.stats.ox.ac.uk/pub/Rtools/multilib/</a>.  Users
developing packages with <a href="http://CRAN.R-project.org/package=Rcpp"><strong>Rcpp</strong></a> need to ensure that they use a
version built with exactly the same toolchain as their package: the
recommendation is to build <a href="http://CRAN.R-project.org/package=Rcpp"><strong>Rcpp</strong></a> from its sources yourself.
</p>
<p>There is support for OpenMP and pthreads in this toolchain.  As the
performance of OpenMP on Windows is poor for small tasks, it is not used
for R itself.
</p>
<hr>
<span id="Useful-additional-programs"></span><div class="header">
<p>
Previous: <a href="#The-MinGW_002dw64-toolchain" accesskey="p" rel="prev">The MinGW-w64 toolchain</a>, Up: <a href="#The-Windows-toolset" accesskey="u" rel="up">The Windows toolset</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Function-and-variable-index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Useful-additional-programs-1"></span><h3 class="section">D.5 Useful additional programs</h3>

<p>The process of making the installer will make use of <code>qpdf</code> to
compact some of the package vignettes, if it is available.  Windows
binaries of <code>qpdf</code> are available from
<a href="http://sourceforge.net/projects/qpdf/files/">http://sourceforge.net/projects/qpdf/files/</a>.  Set the path
to the <code>qpdf</code> installation in file <samp>MkRules.local</samp>.
</p>
<p>Developers of packages will find some of the &lsquo;goodies&rsquo; at
<a href="http://www.stats.ox.ac.uk/pub/Rtools/goodies">http://www.stats.ox.ac.uk/pub/Rtools/goodies</a> useful.  
</p>
<p>There is a version of the <code>file</code> command that identifies the
type of files, and is used by <code>Rcmd check</code> if available.  The
binary distribution is included in <samp>Rtools215.exe</samp>.
</p>
<p>The file <samp>xzutils.zip</samp> contains the program <code>xz</code> which can
be used to (de)compress files with that form of compression.
</p>
<hr>
<span id="Function-and-variable-index"></span><div class="header">
<p>
Next: <a href="#Concept-index" accesskey="n" rel="next">Concept index</a>, Previous: <a href="#The-Windows-toolset" accesskey="p" rel="prev">The Windows toolset</a>, Up: <a href="#Top" accesskey="u" rel="up">Top</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Function-and-variable-index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Function-and-variable-index-1"></span><h2 class="unnumbered">Function and variable index</h2>

<table><tr><th valign="top">Jump to: &nbsp; </th><td><a class="summary-letter" href="#Function-and-variable-index_vr_letter-C"><b>C</b></a>
 &nbsp; 
<a class="summary-letter" href="#Function-and-variable-index_vr_letter-I"><b>I</b></a>
 &nbsp; 
<a class="summary-letter" href="#Function-and-variable-index_vr_letter-M"><b>M</b></a>
 &nbsp; 
<a class="summary-letter" href="#Function-and-variable-index_vr_letter-R"><b>R</b></a>
 &nbsp; 
<a class="summary-letter" href="#Function-and-variable-index_vr_letter-U"><b>U</b></a>
 &nbsp; 
</td></tr></table>
<table class="index-vr" border="0">
<tr><td></td><th align="left">Index Entry</th><td>&nbsp;</td><th align="left"> Section</th></tr>
<tr><td colspan="4"> <hr></td></tr>
<tr><th id="Function-and-variable-index_vr_letter-C">C</th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-configure"><code>configure</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Simple-compilation">Simple compilation</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-configure-1"><code>configure</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Simple-compilation">Simple compilation</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-configure-2"><code>configure</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Installation">Installation</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-configure-3"><code>configure</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Installation">Installation</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-configure-4"><code>configure</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Configuration-variables">Configuration variables</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-configure-5"><code>configure</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Using-make">Using make</a></td></tr>
<tr><td colspan="4"> <hr></td></tr>
<tr><th id="Function-and-variable-index_vr_letter-I">I</th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-install_002epackages"><code>install.packages</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Installing-packages">Installing packages</a></td></tr>
<tr><td colspan="4"> <hr></td></tr>
<tr><th id="Function-and-variable-index_vr_letter-M">M</th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-make"><code>make</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Using-make">Using make</a></td></tr>
<tr><td colspan="4"> <hr></td></tr>
<tr><th id="Function-and-variable-index_vr_letter-R">R</th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-remove_002epackages"><code>remove.packages</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Removing-packages">Removing packages</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-R_005fHOME"><code>R_HOME</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Simple-compilation">Simple compilation</a></td></tr>
<tr><td colspan="4"> <hr></td></tr>
<tr><th id="Function-and-variable-index_vr_letter-U">U</th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-update_002epackages"><code>update.packages</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Updating-packages">Updating packages</a></td></tr>
<tr><td colspan="4"> <hr></td></tr>
</table>
<table><tr><th valign="top">Jump to: &nbsp; </th><td><a class="summary-letter" href="#Function-and-variable-index_vr_letter-C"><b>C</b></a>
 &nbsp; 
<a class="summary-letter" href="#Function-and-variable-index_vr_letter-I"><b>I</b></a>
 &nbsp; 
<a class="summary-letter" href="#Function-and-variable-index_vr_letter-M"><b>M</b></a>
 &nbsp; 
<a class="summary-letter" href="#Function-and-variable-index_vr_letter-R"><b>R</b></a>
 &nbsp; 
<a class="summary-letter" href="#Function-and-variable-index_vr_letter-U"><b>U</b></a>
 &nbsp; 
</td></tr></table>

<hr>
<span id="Concept-index"></span><div class="header">
<p>
Next: <a href="#Environment-variable-index" accesskey="n" rel="next">Environment variable index</a>, Previous: <a href="#Function-and-variable-index" accesskey="p" rel="prev">Function and variable index</a>, Up: <a href="#Top" accesskey="u" rel="up">Top</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Function-and-variable-index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Concept-index-1"></span><h2 class="unnumbered">Concept index</h2>

<table><tr><th valign="top">Jump to: &nbsp; </th><td><a class="summary-letter" href="#Concept-index_cp_letter-A"><b>A</b></a>
 &nbsp; 
<a class="summary-letter" href="#Concept-index_cp_letter-B"><b>B</b></a>
 &nbsp; 
<a class="summary-letter" href="#Concept-index_cp_letter-F"><b>F</b></a>
 &nbsp; 
<a class="summary-letter" href="#Concept-index_cp_letter-I"><b>I</b></a>
 &nbsp; 
<a class="summary-letter" href="#Concept-index_cp_letter-L"><b>L</b></a>
 &nbsp; 
<a class="summary-letter" href="#Concept-index_cp_letter-M"><b>M</b></a>
 &nbsp; 
<a class="summary-letter" href="#Concept-index_cp_letter-O"><b>O</b></a>
 &nbsp; 
<a class="summary-letter" href="#Concept-index_cp_letter-P"><b>P</b></a>
 &nbsp; 
<a class="summary-letter" href="#Concept-index_cp_letter-R"><b>R</b></a>
 &nbsp; 
<a class="summary-letter" href="#Concept-index_cp_letter-S"><b>S</b></a>
 &nbsp; 
<a class="summary-letter" href="#Concept-index_cp_letter-U"><b>U</b></a>
 &nbsp; 
<a class="summary-letter" href="#Concept-index_cp_letter-V"><b>V</b></a>
 &nbsp; 
<a class="summary-letter" href="#Concept-index_cp_letter-W"><b>W</b></a>
 &nbsp; 
</td></tr></table>
<table class="index-cp" border="0">
<tr><td></td><th align="left">Index Entry</th><td>&nbsp;</td><th align="left"> Section</th></tr>
<tr><td colspan="4"> <hr></td></tr>
<tr><th id="Concept-index_cp_letter-A">A</th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-AIX">AIX</a>:</td><td>&nbsp;</td><td valign="top"><a href="#AIX">AIX</a></td></tr>
<tr><td colspan="4"> <hr></td></tr>
<tr><th id="Concept-index_cp_letter-B">B</th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-BLAS-library">BLAS library</a>:</td><td>&nbsp;</td><td valign="top"><a href="#Linear-algebra">Linear algebra</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-BLAS-library-1">BLAS library</a>:</td><td>&nbsp;</td><td valign="top"><a href="#Using-FORTRAN">Using FORTRAN</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-BLAS-library-2">BLAS library</a>:</td><td>&nbsp;</td><td valign="top"><a href="#Mac-OS-X">Mac OS X</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-BLAS-library-3">BLAS library</a>:</td><td>&nbsp;</td><td valign="top"><a href="#Solaris">Solaris</a></td></tr>
<tr><td colspan="4"> <hr></td></tr>
<tr><th id="Concept-index_cp_letter-F">F</th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-FORTRAN">FORTRAN</a>:</td><td>&nbsp;</td><td valign="top"><a href="#Using-FORTRAN">Using FORTRAN</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-FreeBSD">FreeBSD</a>:</td><td>&nbsp;</td><td valign="top"><a href="#FreeBSD">FreeBSD</a></td></tr>
<tr><td colspan="4"> <hr></td></tr>
<tr><th id="Concept-index_cp_letter-I">I</th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-Installation">Installation</a>:</td><td>&nbsp;</td><td valign="top"><a href="#Installation">Installation</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-Installing-under-Unix_002dalikes">Installing under Unix-alikes</a>:</td><td>&nbsp;</td><td valign="top"><a href="#Installing-R-under-Unix_002dalikes">Installing R under Unix-alikes</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-Installing-under-Windows">Installing under Windows</a>:</td><td>&nbsp;</td><td valign="top"><a href="#Installing-R-under-Windows">Installing R under Windows</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-Internationalization">Internationalization</a>:</td><td>&nbsp;</td><td valign="top"><a href="#Internationalization">Internationalization</a></td></tr>
<tr><td colspan="4"> <hr></td></tr>
<tr><th id="Concept-index_cp_letter-L">L</th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-LAPACK-library">LAPACK library</a>:</td><td>&nbsp;</td><td valign="top"><a href="#LAPACK">LAPACK</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-LAPACK-library-1">LAPACK library</a>:</td><td>&nbsp;</td><td valign="top"><a href="#Mac-OS-X">Mac OS X</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-LAPACK-library-2">LAPACK library</a>:</td><td>&nbsp;</td><td valign="top"><a href="#Solaris">Solaris</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-Libraries">Libraries</a>:</td><td>&nbsp;</td><td valign="top"><a href="#Add_002don-packages">Add-on packages</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-Libraries_002c-managing">Libraries, managing</a>:</td><td>&nbsp;</td><td valign="top"><a href="#Managing-libraries">Managing libraries</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-Libraries_002c-site">Libraries, site</a>:</td><td>&nbsp;</td><td valign="top"><a href="#Managing-libraries">Managing libraries</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-Libraries_002c-user">Libraries, user</a>:</td><td>&nbsp;</td><td valign="top"><a href="#Managing-libraries">Managing libraries</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-Linux">Linux</a>:</td><td>&nbsp;</td><td valign="top"><a href="#Installing-R-under-Unix_002dalikes">Installing R under Unix-alikes</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-Linux-1">Linux</a>:</td><td>&nbsp;</td><td valign="top"><a href="#Linux">Linux</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-Locale">Locale</a>:</td><td>&nbsp;</td><td valign="top"><a href="#Internationalization">Internationalization</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-Locale-1">Locale</a>:</td><td>&nbsp;</td><td valign="top"><a href="#Locales">Locales</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-Localization">Localization</a>:</td><td>&nbsp;</td><td valign="top"><a href="#Internationalization">Internationalization</a></td></tr>
<tr><td colspan="4"> <hr></td></tr>
<tr><th id="Concept-index_cp_letter-M">M</th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-Manuals">Manuals</a>:</td><td>&nbsp;</td><td valign="top"><a href="#Making-the-manuals">Making the manuals</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-Manuals_002c-installing">Manuals, installing</a>:</td><td>&nbsp;</td><td valign="top"><a href="#Installation">Installation</a></td></tr>
<tr><td colspan="4"> <hr></td></tr>
<tr><th id="Concept-index_cp_letter-O">O</th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-Obtaining-pqR-and-R">Obtaining pqR and R</a>:</td><td>&nbsp;</td><td valign="top"><a href="#Obtaining-pqR-and-R">Obtaining pqR and R</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-OS-X">OS X</a>:</td><td>&nbsp;</td><td valign="top"><a href="#Installing-R-under-Unix_002dalikes">Installing R under Unix-alikes</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-OS-X-1">OS X</a>:</td><td>&nbsp;</td><td valign="top"><a href="#Installing-R-under-_0028Mac_0029-OS-X">Installing R under (Mac) OS X</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-OS-X-2">OS X</a>:</td><td>&nbsp;</td><td valign="top"><a href="#Mac-OS-X">Mac OS X</a></td></tr>
<tr><td colspan="4"> <hr></td></tr>
<tr><th id="Concept-index_cp_letter-P">P</th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-Packages">Packages</a>:</td><td>&nbsp;</td><td valign="top"><a href="#Add_002don-packages">Add-on packages</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-Packages_002c-default">Packages, default</a>:</td><td>&nbsp;</td><td valign="top"><a href="#Default-packages">Default packages</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-Packages_002c-installing">Packages, installing</a>:</td><td>&nbsp;</td><td valign="top"><a href="#Installing-packages">Installing packages</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-Packages_002c-removing">Packages, removing</a>:</td><td>&nbsp;</td><td valign="top"><a href="#Removing-packages">Removing packages</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-Packages_002c-updating">Packages, updating</a>:</td><td>&nbsp;</td><td valign="top"><a href="#Updating-packages">Updating packages</a></td></tr>
<tr><td colspan="4"> <hr></td></tr>
<tr><th id="Concept-index_cp_letter-R">R</th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-Rbitmap_002edll">Rbitmap.dll</a>:</td><td>&nbsp;</td><td valign="top"><a href="#Building-the-bitmap-files">Building the bitmap files</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-Repositories">Repositories</a>:</td><td>&nbsp;</td><td valign="top"><a href="#Setting-up-a-package-repository">Setting up a package repository</a></td></tr>
<tr><td colspan="4"> <hr></td></tr>
<tr><th id="Concept-index_cp_letter-S">S</th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-Site-libraries">Site libraries</a>:</td><td>&nbsp;</td><td valign="top"><a href="#Managing-libraries">Managing libraries</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-Solaris">Solaris</a>:</td><td>&nbsp;</td><td valign="top"><a href="#Solaris">Solaris</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-Sources-for-R">Sources for R</a>:</td><td>&nbsp;</td><td valign="top"><a href="#Getting-and-unpacking-the-sources">Getting and unpacking the sources</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-Subversion">Subversion</a>:</td><td>&nbsp;</td><td valign="top"><a href="#Using-Subversion-and-rsync">Using Subversion and rsync</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-Subversion-1">Subversion</a>:</td><td>&nbsp;</td><td valign="top"><a href="#Essential-programs-and-libraries">Essential programs and libraries</a></td></tr>
<tr><td colspan="4"> <hr></td></tr>
<tr><th id="Concept-index_cp_letter-U">U</th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-User-libraries">User libraries</a>:</td><td>&nbsp;</td><td valign="top"><a href="#Managing-libraries">Managing libraries</a></td></tr>
<tr><td colspan="4"> <hr></td></tr>
<tr><th id="Concept-index_cp_letter-V">V</th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-Vignettes">Vignettes</a>:</td><td>&nbsp;</td><td valign="top"><a href="#Essential-programs-and-libraries">Essential programs and libraries</a></td></tr>
<tr><td colspan="4"> <hr></td></tr>
<tr><th id="Concept-index_cp_letter-W">W</th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-winCairo_002edll">winCairo.dll</a>:</td><td>&nbsp;</td><td valign="top"><a href="#Building-the-cairo-devices-files">Building the cairo devices files</a></td></tr>
<tr><td colspan="4"> <hr></td></tr>
</table>
<table><tr><th valign="top">Jump to: &nbsp; </th><td><a class="summary-letter" href="#Concept-index_cp_letter-A"><b>A</b></a>
 &nbsp; 
<a class="summary-letter" href="#Concept-index_cp_letter-B"><b>B</b></a>
 &nbsp; 
<a class="summary-letter" href="#Concept-index_cp_letter-F"><b>F</b></a>
 &nbsp; 
<a class="summary-letter" href="#Concept-index_cp_letter-I"><b>I</b></a>
 &nbsp; 
<a class="summary-letter" href="#Concept-index_cp_letter-L"><b>L</b></a>
 &nbsp; 
<a class="summary-letter" href="#Concept-index_cp_letter-M"><b>M</b></a>
 &nbsp; 
<a class="summary-letter" href="#Concept-index_cp_letter-O"><b>O</b></a>
 &nbsp; 
<a class="summary-letter" href="#Concept-index_cp_letter-P"><b>P</b></a>
 &nbsp; 
<a class="summary-letter" href="#Concept-index_cp_letter-R"><b>R</b></a>
 &nbsp; 
<a class="summary-letter" href="#Concept-index_cp_letter-S"><b>S</b></a>
 &nbsp; 
<a class="summary-letter" href="#Concept-index_cp_letter-U"><b>U</b></a>
 &nbsp; 
<a class="summary-letter" href="#Concept-index_cp_letter-V"><b>V</b></a>
 &nbsp; 
<a class="summary-letter" href="#Concept-index_cp_letter-W"><b>W</b></a>
 &nbsp; 
</td></tr></table>

<hr>
<span id="Environment-variable-index"></span><div class="header">
<p>
Previous: <a href="#Concept-index" accesskey="p" rel="prev">Concept index</a>, Up: <a href="#Top" accesskey="u" rel="up">Top</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Function-and-variable-index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Environment-variable-index-1"></span><h2 class="unnumbered">Environment variable index</h2>

<table><tr><th valign="top">Jump to: &nbsp; </th><td><a class="summary-letter" href="#Environment-variable-index_en_letter-B"><b>B</b></a>
 &nbsp; 
<a class="summary-letter" href="#Environment-variable-index_en_letter-C"><b>C</b></a>
 &nbsp; 
<a class="summary-letter" href="#Environment-variable-index_en_letter-D"><b>D</b></a>
 &nbsp; 
<a class="summary-letter" href="#Environment-variable-index_en_letter-F"><b>F</b></a>
 &nbsp; 
<a class="summary-letter" href="#Environment-variable-index_en_letter-J"><b>J</b></a>
 &nbsp; 
<a class="summary-letter" href="#Environment-variable-index_en_letter-L"><b>L</b></a>
 &nbsp; 
<a class="summary-letter" href="#Environment-variable-index_en_letter-O"><b>O</b></a>
 &nbsp; 
<a class="summary-letter" href="#Environment-variable-index_en_letter-P"><b>P</b></a>
 &nbsp; 
<a class="summary-letter" href="#Environment-variable-index_en_letter-R"><b>R</b></a>
 &nbsp; 
<a class="summary-letter" href="#Environment-variable-index_en_letter-T"><b>T</b></a>
 &nbsp; 
</td></tr></table>
<table class="index-en" border="0">
<tr><td></td><th align="left">Index Entry</th><td>&nbsp;</td><th align="left"> Section</th></tr>
<tr><td colspan="4"> <hr></td></tr>
<tr><th id="Environment-variable-index_en_letter-B">B</th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-BLAS_005fLIBS"><code>BLAS_LIBS</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#BLAS">BLAS</a></td></tr>
<tr><td colspan="4"> <hr></td></tr>
<tr><th id="Environment-variable-index_en_letter-C">C</th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-CC"><code>CC</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Using-FORTRAN">Using FORTRAN</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-CONFIG_005fSITE"><code>CONFIG_SITE</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Configuration-variables">Configuration variables</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-CPP"><code>CPP</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Using-FORTRAN">Using FORTRAN</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-CYGWIN"><code>CYGWIN</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#The-command-line-tools">The command line tools</a></td></tr>
<tr><td colspan="4"> <hr></td></tr>
<tr><th id="Environment-variable-index_en_letter-D">D</th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-DESTDIR"><code>DESTDIR</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Installation">Installation</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-DESTDIR-1"><code>DESTDIR</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Unix_002dalike-standalone">Unix-alike standalone</a></td></tr>
<tr><td colspan="4"> <hr></td></tr>
<tr><th id="Environment-variable-index_en_letter-F">F</th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-F2C"><code>F2C</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Using-FORTRAN">Using FORTRAN</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-F2CLIBS"><code>F2CLIBS</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Using-FORTRAN">Using FORTRAN</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-FPICFLAGS"><code>FPICFLAGS</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Using-FORTRAN">Using FORTRAN</a></td></tr>
<tr><td colspan="4"> <hr></td></tr>
<tr><th id="Environment-variable-index_en_letter-J">J</th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-JAVA_005fHOME"><code>JAVA_HOME</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Java-support">Java support</a></td></tr>
<tr><td colspan="4"> <hr></td></tr>
<tr><th id="Environment-variable-index_en_letter-L">L</th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-LANG"><code>LANG</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Localization-of-messages">Localization of messages</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-LANGUAGE"><code>LANGUAGE</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Localization-of-messages">Localization of messages</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-LANGUAGE-1"><code>LANGUAGE</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Localization-of-messages">Localization of messages</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-LAPACK_005fLIBS"><code>LAPACK_LIBS</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#LAPACK">LAPACK</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-LC_005fALL"><code>LC_ALL</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Localization-of-messages">Localization of messages</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-LC_005fCOLLATE"><code>LC_COLLATE</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Testing-a-Unix_002dalike-Installation">Testing a Unix-alike Installation</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-LC_005fMESSAGES"><code>LC_MESSAGES</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Localization-of-messages">Localization of messages</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-LD_005fLIBRARY_005fPATH"><code>LD_LIBRARY_PATH</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Unix_002dalike-standalone">Unix-alike standalone</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-LD_005fLIBRARY_005fPATH-1"><code>LD_LIBRARY_PATH</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#ACML">ACML</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-LD_005fLIBRARY_005fPATH-2"><code>LD_LIBRARY_PATH</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Using-FORTRAN">Using FORTRAN</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-LD_005fLIBRARY_005fPATH-3"><code>LD_LIBRARY_PATH</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Compile-and-load-flags">Compile and load flags</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-LD_005fLIBRARY_005fPATH-4"><code>LD_LIBRARY_PATH</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Using-gcc">Using gcc</a></td></tr>
<tr><td colspan="4"> <hr></td></tr>
<tr><th id="Environment-variable-index_en_letter-O">O</th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-OBJECT_005fMODE"><code>OBJECT_MODE</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#AIX">AIX</a></td></tr>
<tr><td colspan="4"> <hr></td></tr>
<tr><th id="Environment-variable-index_en_letter-P">P</th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-PAPERSIZE"><code>PAPERSIZE</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Setting-paper-size">Setting paper size</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-PATH"><code>PATH</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Essential-programs-and-libraries">Essential programs and libraries</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-PATH-1"><code>PATH</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Using-FORTRAN">Using FORTRAN</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-PATH-2"><code>PATH</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#AIX">AIX</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-PATH-3"><code>PATH</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#The-Windows-toolset">The Windows toolset</a></td></tr>
<tr><td colspan="4"> <hr></td></tr>
<tr><th id="Environment-variable-index_en_letter-R">R</th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-R_005fARCH"><code>R_ARCH</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Sub_002darchitectures">Sub-architectures</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-R_005fARCH-1"><code>R_ARCH</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Sub_002darchitectures">Sub-architectures</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-R_005fBROWSER"><code>R_BROWSER</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Setting-the-browsers">Setting the browsers</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-R_005fDEFAULT_005fPACKAGES"><code>R_DEFAULT_PACKAGES</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Default-packages">Default packages</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-R_005fDISABLE_005fHTTPD"><code>R_DISABLE_HTTPD</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Help-options">Help options</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-R_005fGSCMD"><code>R_GSCMD</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Useful-libraries-and-programs">Useful libraries and programs</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-R_005fINSTALL_005fTAR"><code>R_INSTALL_TAR</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Windows-packages">Windows packages</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-R_005fJAVA_005fLD_005fLIBRARY_005fPATH"><code>R_JAVA_LD_LIBRARY_PATH</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Java-support">Java support</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-R_005fJAVA_005fLD_005fLIBRARY_005fPATH-1"><code>R_JAVA_LD_LIBRARY_PATH</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Java-support">Java support</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-R_005fLIBS"><code>R_LIBS</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Add_002don-packages">Add-on packages</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-R_005fLIBS_005fSITE"><code>R_LIBS_SITE</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Managing-libraries">Managing libraries</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-R_005fLIBS_005fUSER"><code>R_LIBS_USER</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Managing-libraries">Managing libraries</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-R_005fPAPERSIZE"><code>R_PAPERSIZE</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Making-the-manuals">Making the manuals</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-R_005fPAPERSIZE-1"><code>R_PAPERSIZE</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Running-R">Running R</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-R_005fPAPERSIZE-2"><code>R_PAPERSIZE</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Setting-paper-size">Setting paper size</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-R_005fPAPERSIZE-3"><code>R_PAPERSIZE</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Making-manuals">Making manuals</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-R_005fPDFVIEWER"><code>R_PDFVIEWER</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Setting-the-browsers">Setting the browsers</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-R_005fRD4PDF"><code>R_RD4PDF</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Making-the-manuals">Making the manuals</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-R_005fRD4PDF-1"><code>R_RD4PDF</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Making-manuals">Making manuals</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-R_005fRD4PDF-2"><code>R_RD4PDF</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#LaTeX">LaTeX</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-R_005fSHELL"><code>R_SHELL</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#AIX">AIX</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-R_005fUSER"><code>R_USER</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Running-R">Running R</a></td></tr>
<tr><td colspan="4"> <hr></td></tr>
<tr><th id="Environment-variable-index_en_letter-T">T</th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-TAR"><code>TAR</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Essential-programs-and-libraries">Essential programs and libraries</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-TAR_005fOPTIONS"><code>TAR_OPTIONS</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Getting-and-unpacking-the-sources">Getting and unpacking the sources</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-TAR_005fOPTIONS-1"><code>TAR_OPTIONS</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Getting-the-source-files">Getting the source files</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-TEMP"><code>TEMP</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Running-R">Running R</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-TMP"><code>TMP</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Running-R">Running R</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-TMPDIR"><code>TMPDIR</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Simple-compilation">Simple compilation</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-TMPDIR-1"><code>TMPDIR</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Building-the-core-files">Building the core files</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-TMPDIR-2"><code>TMPDIR</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Running-R">Running R</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-TMPDIR-3"><code>TMPDIR</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Running-R">Running R</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-TMPDIR-4"><code>TMPDIR</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Installing-packages">Installing packages</a></td></tr>
<tr><td colspan="4"> <hr></td></tr>
</table>
<table><tr><th valign="top">Jump to: &nbsp; </th><td><a class="summary-letter" href="#Environment-variable-index_en_letter-B"><b>B</b></a>
 &nbsp; 
<a class="summary-letter" href="#Environment-variable-index_en_letter-C"><b>C</b></a>
 &nbsp; 
<a class="summary-letter" href="#Environment-variable-index_en_letter-D"><b>D</b></a>
 &nbsp; 
<a class="summary-letter" href="#Environment-variable-index_en_letter-F"><b>F</b></a>
 &nbsp; 
<a class="summary-letter" href="#Environment-variable-index_en_letter-J"><b>J</b></a>
 &nbsp; 
<a class="summary-letter" href="#Environment-variable-index_en_letter-L"><b>L</b></a>
 &nbsp; 
<a class="summary-letter" href="#Environment-variable-index_en_letter-O"><b>O</b></a>
 &nbsp; 
<a class="summary-letter" href="#Environment-variable-index_en_letter-P"><b>P</b></a>
 &nbsp; 
<a class="summary-letter" href="#Environment-variable-index_en_letter-R"><b>R</b></a>
 &nbsp; 
<a class="summary-letter" href="#Environment-variable-index_en_letter-T"><b>T</b></a>
 &nbsp; 
</td></tr></table>


<div class="footnote">
<hr>
<h4 class="footnotes-heading">Footnotes</h4>

<h5><a id="FOOT1" href="#DOCF1">(1)</a></h3>
<p>e.g. <acronym>GNU</acronym>
<code>tar</code> version 1.15 or later, or that from the &lsquo;<samp>libarchive</samp>&rsquo;
(as used on OS 10.[67]) or &lsquo;Heirloom Toolchest&rsquo; distributions.</p>
<h5><a id="FOOT2" href="#DOCF2">(2)</a></h3>
<p>for some Subversion clients
&lsquo;<samp>http:</samp>&rsquo; may appear to work, but requires continual redirection.</p>
<h5><a id="FOOT3" href="#DOCF3">(3)</a></h3>
<p>which use <samp>lib</samp> rather than
<samp>lib64</samp> for their primary 64-bit library directories.</p>
<h5><a id="FOOT4" href="#DOCF4">(4)</a></h3>
<p>for example, if you configured R with
<samp>--without-recommended</samp>.</p>
<h5><a id="FOOT5" href="#DOCF5">(5)</a></h3>
<p>Debian/Ubuntu use a rather old version of TeXLive
and so need Debian package &lsquo;<samp>texlive-fonts-extra</samp>&rsquo; installed.</p>
<h5><a id="FOOT6" href="#DOCF6">(6)</a></h3>
<p>with possible values
&lsquo;<samp>i386</samp>&rsquo;, &lsquo;<samp>x64</samp>&rsquo;, &lsquo;<samp>32</samp>&rsquo; and &lsquo;<samp>64</samp>&rsquo;.</p>
<h5><a id="FOOT7" href="#DOCF7">(7)</a></h3>
<p>mainly on RedHat and Fedora, whose layout is described
here.</p>
<h5><a id="FOOT8" href="#DOCF8">(8)</a></h3>
<p>formerly known as
EM64T.</p>
<h5><a id="FOOT9" href="#DOCF9">(9)</a></h3>
<p>unless they were excluded in the build.</p>
<h5><a id="FOOT10" href="#DOCF10">(10)</a></h3>
<p>its binding is locked once that files has been read, so
users cannot easily change it.</p>
<h5><a id="FOOT11" href="#DOCF11">(11)</a></h3>
<p>If a proxy needs to be set, see
<code>?download.file</code>.</p>
<h5><a id="FOOT12" href="#DOCF12">(12)</a></h3>
<p>for a
small number of <acronym>CRAN</acronym> packages where this is known to be safe
and is needed by the autobuilder this is the default.  Look at the
source of <samp>tools:::.install_packages</samp> for the list.</p>
<h5><a id="FOOT13" href="#DOCF13">(13)</a></h3>
<p>&lsquo;X/Open Portability Guide&rsquo;, which has
had several versions.</p>
<h5><a id="FOOT14" href="#DOCF14">(14)</a></h3>
<p>On some systems setting
<code>LC_ALL</code> or <code>LC_MESSAGES</code> to &lsquo;<samp>C</samp>&rsquo; disables <code>LANGUAGE</code>.</p>
<h5><a id="FOOT15" href="#DOCF15">(15)</a></h3>
<p>If you try changing from French
to Russian except in a UTF-8 locale, you will most likely find messages
change to English.</p>
<h5><a id="FOOT16" href="#DOCF16">(16)</a></h3>
<p>the
language written in England: some people living in the USA appropriate
this name for their language.</p>
<h5><a id="FOOT17" href="#DOCF17">(17)</a></h3>
<p>with
Americanisms.</p>
<h5><a id="FOOT18" href="#DOCF18">(18)</a></h3>
<p>also known as
<acronym>IEEE</acronym>&nbsp;754</p>
<h5><a id="FOOT19" href="#DOCF19">(19)</a></h3>
<p>at least when storing quantities: the on-FPU
precision is allowed to vary</p>
<h5><a id="FOOT20" href="#DOCF20">(20)</a></h3>
<p>this comment has
been in the manual since 2005.</p>
<h5><a id="FOOT21" href="#DOCF21">(21)</a></h3>
<p>e.g. Bessel, beta and gamma functions</p>
<h5><a id="FOOT22" href="#DOCF22">(22)</a></h3>
<p>including copying <samp>MkRules.dist</samp> to
<samp>MkRule.local</samp> and selecting the architecture.</p>
<h5><a id="FOOT23" href="#DOCF23">(23)</a></h3>
<p>also known as
<acronym>IEEE</acronym>&nbsp;754</p>
<h5><a id="FOOT24" href="#DOCF24">(24)</a></h3>
<p>Note
that C11 compilers (when they appear) need not be C99-compliant: R
requires support for <code>double complex</code> which is optional in C11 but
is mandatory in C99.</p>
<h5><a id="FOOT25" href="#DOCF25">(25)</a></h3>
<p><samp>-std=c99</samp> excludes POSIX
functionality, but <samp>config.h</samp> will turn on all <acronym>GNU</acronym>
extensions to include the POSIX functionality.</p>
<h5><a id="FOOT26" href="#DOCF26">(26)</a></h3>
<p>apparently when built by
default, but not for example as built for Fedora 15.</p>
<h5><a id="FOOT27" href="#DOCF27">(27)</a></h3>
<p>specifically, the C99
functionality of headers <samp>wchar.h</samp> and <samp>wctype.h</samp>, types
<code>wctans_t</code> and <code>mbstate_t</code> and functions <code>mbrtowc</code>,
<code>mbstowcs</code>, <code>wcrtomb</code>, <code>wcscoll</code>, <code>wcstombs</code>,
<code>wctrans</code>, <code>wctype</code>, and <code>iswctype</code>.</p>
<h5><a id="FOOT28" href="#DOCF28">(28)</a></h3>
<p>Such as
<acronym>GNU</acronym> <code>tar</code> 1.15 or later, <code>bsdtar</code> (from
<a href="http://code.google.com/p/libarchive/">http://code.google.com/p/libarchive/</a>, as used by FreeBSD and OS
10.[67]) or <code>tar</code> from the Heirloom Toolchest
(<a href="http://heirloom.sourceforge.net/tools.html">http://heirloom.sourceforge.net/tools.html</a>).</p>
<h5><a id="FOOT29" href="#DOCF29">(29)</a></h3>
<p><code>texi2dvi</code> is normally a
shell script.  Some versions, e.g. that from <strong>texinfo</strong> 4.13a, need
to be run under <code>bash</code> rather than a Bourne shell as on, say,
Solaris.</p>
<h5><a id="FOOT30" href="#DOCF30">(30)</a></h3>
<p>also known as <code>ttf-mscorefonts-installer</code> in the
Debian/Ubuntu world: see also
<a href="http://en.wikipedia.org/wiki/Core_fonts_for_the_Web">http://en.wikipedia.org/wiki/Core_fonts_for_the_Web</a>.</p>
<h5><a id="FOOT31" href="#DOCF31">(31)</a></h3>
<p><code>ttf-liberation</code>
in Debian/Ubuntu.</p>
<h5><a id="FOOT32" href="#DOCF32">(32)</a></h3>
<p>Using the Oracle Solaris Studio
<code>cc</code> and <code>f95</code> compilers</p>
<h5><a id="FOOT33" href="#DOCF33">(33)</a></h3>
<p>We have measured 15&ndash;20% on &lsquo;<samp>i686</samp>&rsquo; Linux
and around 10% on &lsquo;<samp>x86_64</samp>&rsquo; Linux.</p>
<h5><a id="FOOT34" href="#DOCF34">(34)</a></h3>
<p>On HP-UX <code>fort77</code> is the
<acronym>POSIX</acronym> compliant FORTRAN compiler, and comes after
<code>g77</code>.</p>
<h5><a id="FOOT35" href="#DOCF35">(35)</a></h3>
<p>as well as its equivalence to the <code>Rcomplex</code>
structure defined in <samp>R_ext/Complex.h</samp>.</p>
<h5><a id="FOOT36" href="#DOCF36">(36)</a></h3>
<p>In particular, avoid <code>g77</code>&rsquo;s
<samp>-pedantic</samp>, which gives confusing error messages.</p>
<h5><a id="FOOT37" href="#DOCF37">(37)</a></h3>
<p>e.g., to use an optimized <acronym>BLAS</acronym> on
Sun/Sparc</p>
<h5><a id="FOOT38" href="#DOCF38">(38)</a></h3>
<p>for example, <code>X11 font at size 14 could not
be loaded</code>.</p>
<h5><a id="FOOT39" href="#DOCF39">(39)</a></h3>
<p>or <code>-mtune=corei7</code> for Intel Core
i3/15/17 with <code>gcc &gt;= 4.6.0</code>.</p>
<h5><a id="FOOT40" href="#DOCF40">(40)</a></h3>
<p>TeXLive is recommended.</p>
<h5><a id="FOOT41" href="#DOCF41">(41)</a></h3>
<p>including <code>gcc</code> for
Sparc from Oracle.</p>
<h5><a id="FOOT42" href="#DOCF42">(42)</a></h3>
<p>Windows
DLLs need to have all links resolved at build time and so cannot resolve
against <samp>R.bin</samp>.</p>
<h5><a id="FOOT43" href="#DOCF43">(43)</a></h3>
<p>For
example, the Cygwin version of <code>make 3.81</code> fails to work
correctly.</p>
<h5><a id="FOOT44" href="#DOCF44">(44)</a></h3>
<p>for R 2.14.2 and later.</p>
<h5><a id="FOOT45" href="#DOCF45">(45)</a></h3>
<p>such as <code>sort</code>, <code>find</code> and perhaps
<code>make</code>.</p>
<h5><a id="FOOT46" href="#DOCF46">(46)</a></h3>
<p>these
flags apply to the compilers: some of the tools use different flags.
32-bit builds are the default.</p>
</div>
<hr>



</body>
</html>
